function rV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=Symbol.for("react.element"),iV=Symbol.for("react.portal"),oV=Symbol.for("react.fragment"),sV=Symbol.for("react.strict_mode"),aV=Symbol.for("react.profiler"),lV=Symbol.for("react.provider"),cV=Symbol.for("react.context"),uV=Symbol.for("react.forward_ref"),fV=Symbol.for("react.suspense"),dV=Symbol.for("react.memo"),hV=Symbol.for("react.lazy"),qP=Symbol.iterator;function pV(t){return t===null||typeof t!="object"?null:(t=qP&&t[qP]||t["@@iterator"],typeof t=="function"?t:null)}var fI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dI=Object.assign,hI={};function Hu(t,e,n){this.props=t,this.context=e,this.refs=hI,this.updater=n||fI}Hu.prototype.isReactComponent={};Hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pI(){}pI.prototype=Hu.prototype;function Pb(t,e,n){this.props=t,this.context=e,this.refs=hI,this.updater=n||fI}var Ab=Pb.prototype=new pI;Ab.constructor=Pb;dI(Ab,Hu.prototype);Ab.isPureReactComponent=!0;var ZP=Array.isArray,mI=Object.prototype.hasOwnProperty,Rb={current:null},gI={key:!0,ref:!0,__self:!0,__source:!0};function vI(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)mI.call(e,r)&&!gI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bh,type:t,key:o,ref:s,props:i,_owner:Rb.current}}function mV(t,e){return{$$typeof:bh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cb(t){return typeof t=="object"&&t!==null&&t.$$typeof===bh}function gV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var QP=/\/+/g;function Lx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gV(""+t.key):e.toString(36)}function _g(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case bh:case iV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Lx(s,0):r,ZP(i)?(n="",t!=null&&(n=t.replace(QP,"$&/")+"/"),_g(i,e,n,"",function(u){return u})):i!=null&&(Cb(i)&&(i=mV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(QP,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ZP(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Lx(o,a);s+=_g(o,e,n,l,i)}else if(l=pV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Lx(o,a++),s+=_g(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Wp(t,e,n){if(t==null)return t;var r=[],i=0;return _g(t,r,"","",function(o){return e.call(n,o,i++)}),r}function vV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},xg={transition:null},yV={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:xg,ReactCurrentOwner:Rb};zt.Children={map:Wp,forEach:function(t,e,n){Wp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wp(t,function(){e++}),e},toArray:function(t){return Wp(t,function(e){return e})||[]},only:function(t){if(!Cb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=Hu;zt.Fragment=oV;zt.Profiler=aV;zt.PureComponent=Pb;zt.StrictMode=sV;zt.Suspense=fV;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;zt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dI({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Rb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mI.call(e,l)&&!gI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bh,type:t.type,key:i,ref:o,props:r,_owner:s}};zt.createContext=function(t){return t={$$typeof:cV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lV,_context:t},t.Consumer=t};zt.createElement=vI;zt.createFactory=function(t){var e=vI.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:uV,render:t}};zt.isValidElement=Cb;zt.lazy=function(t){return{$$typeof:hV,_payload:{_status:-1,_result:t},_init:vV}};zt.memo=function(t,e){return{$$typeof:dV,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=xg.transition;xg.transition={};try{t()}finally{xg.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(t,e){return kr.current.useCallback(t,e)};zt.useContext=function(t){return kr.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};zt.useEffect=function(t,e){return kr.current.useEffect(t,e)};zt.useId=function(){return kr.current.useId()};zt.useImperativeHandle=function(t,e,n){return kr.current.useImperativeHandle(t,e,n)};zt.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return kr.current.useMemo(t,e)};zt.useReducer=function(t,e,n){return kr.current.useReducer(t,e,n)};zt.useRef=function(t){return kr.current.useRef(t)};zt.useState=function(t){return kr.current.useState(t)};zt.useSyncExternalStore=function(t,e,n){return kr.current.useSyncExternalStore(t,e,n)};zt.useTransition=function(){return kr.current.useTransition()};zt.version="18.2.0";(function(t){t.exports=zt})(L);const jt=Tb(L.exports),Qg=rV({__proto__:null,default:jt},[L.exports]);var p1={},Wu={exports:{}},yi={},yI={exports:{}},_I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var W=U.length;U.push(K);e:for(;0<W;){var G=W-1>>>1,N=U[G];if(0<i(N,K))U[G]=K,U[W]=N,W=G;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],W=U.pop();if(W!==K){U[0]=W;e:for(var G=0,N=U.length,te=N>>>1;G<te;){var D=2*(G+1)-1,ue=U[D],ce=D+1,Pe=U[ce];if(0>i(ue,W))ce<N&&0>i(Pe,ue)?(U[G]=Pe,U[ce]=W,G=ce):(U[G]=ue,U[D]=W,G=D);else if(ce<N&&0>i(Pe,W))U[G]=Pe,U[ce]=W,G=ce;else break e}}return K}function i(U,K){var W=U.sortIndex-K.sortIndex;return W!==0?W:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function E(U){if(x=!1,w(U),!y)if(n(l)!==null)y=!0,re(T);else{var K=n(u);K!==null&&ne(E,K.startTime-U)}}function T(U,K){y=!1,x&&(x=!1,g(I),I=-1),m=!0;var W=p;try{for(w(K),h=n(l);h!==null&&(!(h.expirationTime>K)||U&&!B());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var N=G(h.expirationTime<=K);K=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(l)&&r(l),w(K)}else r(l);h=n(l)}if(h!==null)var te=!0;else{var D=n(u);D!==null&&ne(E,D.startTime-K),te=!1}return te}finally{h=null,p=W,m=!1}}var P=!1,A=null,I=-1,C=5,O=-1;function B(){return!(t.unstable_now()-O<C)}function ee(){if(A!==null){var U=t.unstable_now();O=U;var K=!0;try{K=A(!0,U)}finally{K?V():(P=!1,A=null)}}else P=!1}var V;if(typeof _=="function")V=function(){_(ee)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=ee,V=function(){J.postMessage(null)}}else V=function(){S(ee,0)};function re(U){A=U,P||(P=!0,V())}function ne(U,K){I=S(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,re(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var W=p;p=K;try{return U()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=p;p=U;try{return K()}finally{p=W}},t.unstable_scheduleCallback=function(U,K,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=W+N,U={id:d++,callback:K,priorityLevel:U,startTime:W,expirationTime:N,sortIndex:-1},W>G?(U.sortIndex=W,e(u,U),n(l)===null&&U===n(u)&&(x?(g(I),I=-1):x=!0,ne(E,W-G))):(U.sortIndex=N,e(l,U),y||m||(y=!0,re(T))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var K=p;return function(){var W=p;p=K;try{return U.apply(this,arguments)}finally{p=W}}}})(_I);(function(t){t.exports=_I})(yI);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI=L.exports,vi=yI.exports;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SI=new Set,kd={};function Hl(t,e){_u(t,e),_u(t+"Capture",e)}function _u(t,e){for(kd[t]=e,t=0;t<e.length;t++)SI.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m1=Object.prototype.hasOwnProperty,_V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KP={},JP={};function xV(t){return m1.call(JP,t)?!0:m1.call(KP,t)?!1:_V.test(t)?JP[t]=!0:(KP[t]=!0,!1)}function SV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wV(t,e,n,r){if(e===null||typeof e>"u"||SV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new Ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new Ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new Ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new Ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new Ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new Ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new Ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new Ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new Ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lb=/[\-:]([a-z])/g;function Ob(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lb,Ob);cr[e]=new Ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lb,Ob);cr[e]=new Ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lb,Ob);cr[e]=new Ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ib(t,e,n,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wV(e,n,i,r)&&(n=null),r||i===null?xV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ts=xI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),Wc=Symbol.for("react.portal"),Gc=Symbol.for("react.fragment"),Nb=Symbol.for("react.strict_mode"),g1=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),bI=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),v1=Symbol.for("react.suspense"),y1=Symbol.for("react.suspense_list"),kb=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),EI=Symbol.for("react.offscreen"),eA=Symbol.iterator;function Of(t){return t===null||typeof t!="object"?null:(t=eA&&t[eA]||t["@@iterator"],typeof t=="function"?t:null)}var En=Object.assign,Ox;function ud(t){if(Ox===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ox=e&&e[1]||""}return`
`+Ox+t}var Ix=!1;function Nx(t,e){if(!t||Ix)return"";Ix=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ix=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ud(t):""}function bV(t){switch(t.tag){case 5:return ud(t.type);case 16:return ud("Lazy");case 13:return ud("Suspense");case 19:return ud("SuspenseList");case 0:case 2:case 15:return t=Nx(t.type,!1),t;case 11:return t=Nx(t.type.render,!1),t;case 1:return t=Nx(t.type,!0),t;default:return""}}function _1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gc:return"Fragment";case Wc:return"Portal";case g1:return"Profiler";case Nb:return"StrictMode";case v1:return"Suspense";case y1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bI:return(t.displayName||"Context")+".Consumer";case wI:return(t._context.displayName||"Context")+".Provider";case Db:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kb:return e=t.displayName||null,e!==null?e:_1(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return _1(t(e))}catch{}}return null}function EV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _1(e);case 8:return e===Nb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ba(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MV(t){var e=MI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jp(t){t._valueTracker||(t._valueTracker=MV(t))}function TI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function x1(t,e){var n=e.checked;return En({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function tA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ba(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PI(t,e){e=e.checked,e!=null&&Ib(t,"checked",e,!1)}function S1(t,e){PI(t,e);var n=ba(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?w1(t,e.type,n):e.hasOwnProperty("defaultValue")&&w1(t,e.type,ba(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function w1(t,e,n){(e!=="number"||Kg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fd=Array.isArray;function au(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ba(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return En({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(fd(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ba(n)}}function AI(t,e){var n=ba(e.value),r=ba(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xp,CI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ud(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TV=["Webkit","ms","Moz","O"];Object.keys(vd).forEach(function(t){TV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vd[e]=vd[t]})});function LI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vd.hasOwnProperty(t)&&vd[t]?(""+e).trim():e+"px"}function OI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PV=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M1(t,e){if(e){if(PV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function T1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P1=null;function Ub(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A1=null,lu=null,cu=null;function oA(t){if(t=Th(t)){if(typeof A1!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=$0(e),A1(t.stateNode,t.type,e))}}function II(t){lu?cu?cu.push(t):cu=[t]:lu=t}function NI(){if(lu){var t=lu,e=cu;if(cu=lu=null,oA(t),e)for(t=0;t<e.length;t++)oA(e[t])}}function DI(t,e){return t(e)}function kI(){}var Dx=!1;function UI(t,e,n){if(Dx)return t(e,n);Dx=!0;try{return DI(t,e,n)}finally{Dx=!1,(lu!==null||cu!==null)&&(kI(),NI())}}function zd(t,e){var n=t.stateNode;if(n===null)return null;var r=$0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var R1=!1;if(ys)try{var If={};Object.defineProperty(If,"passive",{get:function(){R1=!0}}),window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{R1=!1}function AV(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var yd=!1,Jg=null,ev=!1,C1=null,RV={onError:function(t){yd=!0,Jg=t}};function CV(t,e,n,r,i,o,s,a,l){yd=!1,Jg=null,AV.apply(RV,arguments)}function LV(t,e,n,r,i,o,s,a,l){if(CV.apply(this,arguments),yd){if(yd){var u=Jg;yd=!1,Jg=null}else throw Error(ke(198));ev||(ev=!0,C1=u)}}function Wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sA(t){if(Wl(t)!==t)throw Error(ke(188))}function OV(t){var e=t.alternate;if(!e){if(e=Wl(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sA(i),t;if(o===r)return sA(i),e;o=o.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function FI(t){return t=OV(t),t!==null?BI(t):null}function BI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BI(t);if(e!==null)return e;t=t.sibling}return null}var VI=vi.unstable_scheduleCallback,aA=vi.unstable_cancelCallback,IV=vi.unstable_shouldYield,NV=vi.unstable_requestPaint,Dn=vi.unstable_now,DV=vi.unstable_getCurrentPriorityLevel,zb=vi.unstable_ImmediatePriority,$I=vi.unstable_UserBlockingPriority,tv=vi.unstable_NormalPriority,kV=vi.unstable_LowPriority,HI=vi.unstable_IdlePriority,z0=null,Uo=null;function UV(t){if(Uo&&typeof Uo.onCommitFiberRoot=="function")try{Uo.onCommitFiberRoot(z0,t,void 0,(t.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:BV,zV=Math.log,FV=Math.LN2;function BV(t){return t>>>=0,t===0?32:31-(zV(t)/FV|0)|0}var Yp=64,qp=4194304;function dd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=dd(a):(o&=s,o!==0&&(r=dd(o)))}else s=n&~i,s!==0?r=dd(s):o!==0&&(r=dd(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oo(e),i=1<<n,r|=t[n],e&=~i;return r}function VV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $V(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-oo(o),a=1<<s,l=i[s];l===-1?((a&n)===0||(a&r)!==0)&&(i[s]=VV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function L1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WI(){var t=Yp;return Yp<<=1,(Yp&4194240)===0&&(Yp=64),t}function kx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oo(e),t[e]=n}function HV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Fb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Jt=0;function GI(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var jI,Bb,XI,YI,qI,O1=!1,Zp=[],la=null,ca=null,ua=null,Fd=new Map,Bd=new Map,ta=[],WV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lA(t,e){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Fd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(e.pointerId)}}function Nf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Th(e),e!==null&&Bb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GV(t,e,n,r,i){switch(e){case"focusin":return la=Nf(la,t,e,n,r,i),!0;case"dragenter":return ca=Nf(ca,t,e,n,r,i),!0;case"mouseover":return ua=Nf(ua,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fd.set(o,Nf(Fd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bd.set(o,Nf(Bd.get(o)||null,t,e,n,r,i)),!0}return!1}function ZI(t){var e=dl(t.target);if(e!==null){var n=Wl(e);if(n!==null){if(e=n.tag,e===13){if(e=zI(n),e!==null){t.blockedOn=e,qI(t.priority,function(){XI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);P1=r,n.target.dispatchEvent(r),P1=null}else return e=Th(n),e!==null&&Bb(e),t.blockedOn=n,!1;e.shift()}return!0}function cA(t,e,n){Sg(t)&&n.delete(e)}function jV(){O1=!1,la!==null&&Sg(la)&&(la=null),ca!==null&&Sg(ca)&&(ca=null),ua!==null&&Sg(ua)&&(ua=null),Fd.forEach(cA),Bd.forEach(cA)}function Df(t,e){t.blockedOn===e&&(t.blockedOn=null,O1||(O1=!0,vi.unstable_scheduleCallback(vi.unstable_NormalPriority,jV)))}function Vd(t){function e(i){return Df(i,t)}if(0<Zp.length){Df(Zp[0],t);for(var n=1;n<Zp.length;n++){var r=Zp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(la!==null&&Df(la,t),ca!==null&&Df(ca,t),ua!==null&&Df(ua,t),Fd.forEach(e),Bd.forEach(e),n=0;n<ta.length;n++)r=ta[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ta.length&&(n=ta[0],n.blockedOn===null);)ZI(n),n.blockedOn===null&&ta.shift()}var uu=Ts.ReactCurrentBatchConfig,rv=!0;function XV(t,e,n,r){var i=Jt,o=uu.transition;uu.transition=null;try{Jt=1,Vb(t,e,n,r)}finally{Jt=i,uu.transition=o}}function YV(t,e,n,r){var i=Jt,o=uu.transition;uu.transition=null;try{Jt=4,Vb(t,e,n,r)}finally{Jt=i,uu.transition=o}}function Vb(t,e,n,r){if(rv){var i=I1(t,e,n,r);if(i===null)jx(t,e,r,iv,n),lA(t,r);else if(GV(i,t,e,n,r))r.stopPropagation();else if(lA(t,r),e&4&&-1<WV.indexOf(t)){for(;i!==null;){var o=Th(i);if(o!==null&&jI(o),o=I1(t,e,n,r),o===null&&jx(t,e,r,iv,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else jx(t,e,r,null,n)}}var iv=null;function I1(t,e,n,r){if(iv=null,t=Ub(r),t=dl(t),t!==null)if(e=Wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iv=t,null}function QI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DV()){case zb:return 1;case $I:return 4;case tv:case kV:return 16;case HI:return 536870912;default:return 16}default:return 16}}var ia=null,$b=null,wg=null;function KI(){if(wg)return wg;var t,e=$b,n=e.length,r,i="value"in ia?ia.value:ia.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return wg=i.slice(t,1<r?1-r:void 0)}function bg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qp(){return!0}function uA(){return!1}function _i(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qp:uA,this.isPropagationStopped=uA,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),e}var Gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=_i(Gu),Mh=En({},Gu,{view:0,detail:0}),qV=_i(Mh),Ux,zx,kf,F0=En({},Mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kf&&(kf&&t.type==="mousemove"?(Ux=t.screenX-kf.screenX,zx=t.screenY-kf.screenY):zx=Ux=0,kf=t),Ux)},movementY:function(t){return"movementY"in t?t.movementY:zx}}),fA=_i(F0),ZV=En({},F0,{dataTransfer:0}),QV=_i(ZV),KV=En({},Mh,{relatedTarget:0}),Fx=_i(KV),JV=En({},Gu,{animationName:0,elapsedTime:0,pseudoElement:0}),e$=_i(JV),t$=En({},Gu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n$=_i(t$),r$=En({},Gu,{data:0}),dA=_i(r$),i$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s$[t])?!!e[t]:!1}function Wb(){return a$}var l$=En({},Mh,{key:function(t){if(t.key){var e=i$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wb,charCode:function(t){return t.type==="keypress"?bg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c$=_i(l$),u$=En({},F0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hA=_i(u$),f$=En({},Mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wb}),d$=_i(f$),h$=En({},Gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),p$=_i(h$),m$=En({},F0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g$=_i(m$),v$=[9,13,27,32],Gb=ys&&"CompositionEvent"in window,_d=null;ys&&"documentMode"in document&&(_d=document.documentMode);var y$=ys&&"TextEvent"in window&&!_d,JI=ys&&(!Gb||_d&&8<_d&&11>=_d),pA=String.fromCharCode(32),mA=!1;function eN(t,e){switch(t){case"keyup":return v$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jc=!1;function _$(t,e){switch(t){case"compositionend":return tN(e);case"keypress":return e.which!==32?null:(mA=!0,pA);case"textInput":return t=e.data,t===pA&&mA?null:t;default:return null}}function x$(t,e){if(jc)return t==="compositionend"||!Gb&&eN(t,e)?(t=KI(),wg=$b=ia=null,jc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JI&&e.locale!=="ko"?null:e.data;default:return null}}var S$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S$[t.type]:e==="textarea"}function nN(t,e,n,r){II(r),e=ov(e,"onChange"),0<e.length&&(n=new Hb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xd=null,$d=null;function w$(t){hN(t,0)}function B0(t){var e=qc(t);if(TI(e))return t}function b$(t,e){if(t==="change")return e}var rN=!1;if(ys){var Bx;if(ys){var Vx="oninput"in document;if(!Vx){var vA=document.createElement("div");vA.setAttribute("oninput","return;"),Vx=typeof vA.oninput=="function"}Bx=Vx}else Bx=!1;rN=Bx&&(!document.documentMode||9<document.documentMode)}function yA(){xd&&(xd.detachEvent("onpropertychange",iN),$d=xd=null)}function iN(t){if(t.propertyName==="value"&&B0($d)){var e=[];nN(e,$d,t,Ub(t)),UI(w$,e)}}function E$(t,e,n){t==="focusin"?(yA(),xd=e,$d=n,xd.attachEvent("onpropertychange",iN)):t==="focusout"&&yA()}function M$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return B0($d)}function T$(t,e){if(t==="click")return B0(e)}function P$(t,e){if(t==="input"||t==="change")return B0(e)}function A$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lo=typeof Object.is=="function"?Object.is:A$;function Hd(t,e){if(lo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!m1.call(e,i)||!lo(t[i],e[i]))return!1}return!0}function _A(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xA(t,e){var n=_A(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_A(n)}}function oN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sN(){for(var t=window,e=Kg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kg(t.document)}return e}function jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R$(t){var e=sN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oN(n.ownerDocument.documentElement,n)){if(r!==null&&jb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=xA(n,o);var s=xA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C$=ys&&"documentMode"in document&&11>=document.documentMode,Xc=null,N1=null,Sd=null,D1=!1;function SA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D1||Xc==null||Xc!==Kg(r)||(r=Xc,"selectionStart"in r&&jb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sd&&Hd(Sd,r)||(Sd=r,r=ov(N1,"onSelect"),0<r.length&&(e=new Hb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xc)))}function Kp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yc={animationend:Kp("Animation","AnimationEnd"),animationiteration:Kp("Animation","AnimationIteration"),animationstart:Kp("Animation","AnimationStart"),transitionend:Kp("Transition","TransitionEnd")},$x={},aN={};ys&&(aN=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function V0(t){if($x[t])return $x[t];if(!Yc[t])return t;var e=Yc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aN)return $x[t]=e[n];return t}var lN=V0("animationend"),cN=V0("animationiteration"),uN=V0("animationstart"),fN=V0("transitionend"),dN=new Map,wA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(t,e){dN.set(t,e),Hl(e,[t])}for(var Hx=0;Hx<wA.length;Hx++){var Wx=wA[Hx],L$=Wx.toLowerCase(),O$=Wx[0].toUpperCase()+Wx.slice(1);Ra(L$,"on"+O$)}Ra(lN,"onAnimationEnd");Ra(cN,"onAnimationIteration");Ra(uN,"onAnimationStart");Ra("dblclick","onDoubleClick");Ra("focusin","onFocus");Ra("focusout","onBlur");Ra(fN,"onTransitionEnd");_u("onMouseEnter",["mouseout","mouseover"]);_u("onMouseLeave",["mouseout","mouseover"]);_u("onPointerEnter",["pointerout","pointerover"]);_u("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I$=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function bA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LV(r,e,void 0,t),t.currentTarget=null}function hN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;bA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;bA(i,a,u),o=l}}}if(ev)throw t=C1,ev=!1,C1=null,t}function un(t,e){var n=e[B1];n===void 0&&(n=e[B1]=new Set);var r=t+"__bubble";n.has(r)||(pN(e,t,2,!1),n.add(r))}function Gx(t,e,n){var r=0;e&&(r|=4),pN(n,t,r,e)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Jp]){t[Jp]=!0,SI.forEach(function(n){n!=="selectionchange"&&(I$.has(n)||Gx(n,!1,t),Gx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jp]||(e[Jp]=!0,Gx("selectionchange",!1,e))}}function pN(t,e,n,r){switch(QI(e)){case 1:var i=XV;break;case 4:i=YV;break;default:i=Vb}n=i.bind(null,e,n,t),i=void 0,!R1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jx(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=dl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}UI(function(){var u=o,d=Ub(n),h=[];e:{var p=dN.get(t);if(p!==void 0){var m=Hb,y=t;switch(t){case"keypress":if(bg(n)===0)break e;case"keydown":case"keyup":m=c$;break;case"focusin":y="focus",m=Fx;break;case"focusout":y="blur",m=Fx;break;case"beforeblur":case"afterblur":m=Fx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d$;break;case lN:case cN:case uN:m=e$;break;case fN:m=p$;break;case"scroll":m=qV;break;case"wheel":m=g$;break;case"copy":case"cut":case"paste":m=n$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hA}var x=(e&4)!==0,S=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var _=u,w;_!==null;){w=_;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=zd(_,g),E!=null&&x.push(Gd(_,E,w)))),S)break;_=_.return}0<x.length&&(p=new m(p,y,null,n,d),h.push({event:p,listeners:x}))}}if((e&7)===0){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==P1&&(y=n.relatedTarget||n.fromElement)&&(dl(y)||y[_s]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?dl(y):null,y!==null&&(S=Wl(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=fA,E="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=hA,E="onPointerLeave",g="onPointerEnter",_="pointer"),S=m==null?p:qc(m),w=y==null?p:qc(y),p=new x(E,_+"leave",m,n,d),p.target=S,p.relatedTarget=w,E=null,dl(d)===u&&(x=new x(g,_+"enter",y,n,d),x.target=w,x.relatedTarget=S,E=x),S=E,m&&y)t:{for(x=m,g=y,_=0,w=x;w;w=dc(w))_++;for(w=0,E=g;E;E=dc(E))w++;for(;0<_-w;)x=dc(x),_--;for(;0<w-_;)g=dc(g),w--;for(;_--;){if(x===g||g!==null&&x===g.alternate)break t;x=dc(x),g=dc(g)}x=null}else x=null;m!==null&&EA(h,p,m,x,!1),y!==null&&S!==null&&EA(h,S,y,x,!0)}}e:{if(p=u?qc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=b$;else if(gA(p))if(rN)T=P$;else{T=M$;var P=E$}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=T$);if(T&&(T=T(t,u))){nN(h,T,n,d);break e}P&&P(t,p,u),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&w1(p,"number",p.value)}switch(P=u?qc(u):window,t){case"focusin":(gA(P)||P.contentEditable==="true")&&(Xc=P,N1=u,Sd=null);break;case"focusout":Sd=N1=Xc=null;break;case"mousedown":D1=!0;break;case"contextmenu":case"mouseup":case"dragend":D1=!1,SA(h,n,d);break;case"selectionchange":if(C$)break;case"keydown":case"keyup":SA(h,n,d)}var A;if(Gb)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else jc?eN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(JI&&n.locale!=="ko"&&(jc||I!=="onCompositionStart"?I==="onCompositionEnd"&&jc&&(A=KI()):(ia=d,$b="value"in ia?ia.value:ia.textContent,jc=!0)),P=ov(u,I),0<P.length&&(I=new dA(I,t,null,n,d),h.push({event:I,listeners:P}),A?I.data=A:(A=tN(n),A!==null&&(I.data=A)))),(A=y$?_$(t,n):x$(t,n))&&(u=ov(u,"onBeforeInput"),0<u.length&&(d=new dA("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=A))}hN(h,e)})}function Gd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ov(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zd(t,n),o!=null&&r.unshift(Gd(t,o,i)),o=zd(t,e),o!=null&&r.push(Gd(t,o,i))),t=t.return}return r}function dc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=zd(n,o),l!=null&&s.unshift(Gd(n,l,a))):i||(l=zd(n,o),l!=null&&s.push(Gd(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var N$=/\r\n?/g,D$=/\u0000|\uFFFD/g;function MA(t){return(typeof t=="string"?t:""+t).replace(N$,`
`).replace(D$,"")}function em(t,e,n){if(e=MA(e),MA(t)!==e&&n)throw Error(ke(425))}function sv(){}var k1=null,U1=null;function z1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F1=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0,TA=typeof Promise=="function"?Promise:void 0,U$=typeof queueMicrotask=="function"?queueMicrotask:typeof TA<"u"?function(t){return TA.resolve(null).then(t).catch(z$)}:F1;function z$(t){setTimeout(function(){throw t})}function Xx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vd(e)}function fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ju=Math.random().toString(36).slice(2),Io="__reactFiber$"+ju,jd="__reactProps$"+ju,_s="__reactContainer$"+ju,B1="__reactEvents$"+ju,F$="__reactListeners$"+ju,B$="__reactHandles$"+ju;function dl(t){var e=t[Io];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_s]||n[Io]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PA(t);t!==null;){if(n=t[Io])return n;t=PA(t)}return e}t=n,n=t.parentNode}return null}function Th(t){return t=t[Io]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function $0(t){return t[jd]||null}var V1=[],Zc=-1;function Ca(t){return{current:t}}function dn(t){0>Zc||(t.current=V1[Zc],V1[Zc]=null,Zc--)}function an(t,e){Zc++,V1[Zc]=t.current,t.current=e}var Ea={},Mr=Ca(Ea),Yr=Ca(!1),Pl=Ea;function xu(t,e){var n=t.type.contextTypes;if(!n)return Ea;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qr(t){return t=t.childContextTypes,t!=null}function av(){dn(Yr),dn(Mr)}function AA(t,e,n){if(Mr.current!==Ea)throw Error(ke(168));an(Mr,e),an(Yr,n)}function mN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,EV(t)||"Unknown",i));return En({},n,r)}function lv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,Pl=Mr.current,an(Mr,t),an(Yr,Yr.current),!0}function RA(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=mN(t,e,Pl),r.__reactInternalMemoizedMergedChildContext=t,dn(Yr),dn(Mr),an(Mr,t)):dn(Yr),an(Yr,n)}var cs=null,H0=!1,Yx=!1;function gN(t){cs===null?cs=[t]:cs.push(t)}function V$(t){H0=!0,gN(t)}function La(){if(!Yx&&cs!==null){Yx=!0;var t=0,e=Jt;try{var n=cs;for(Jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cs=null,H0=!1}catch(i){throw cs!==null&&(cs=cs.slice(t+1)),VI(zb,La),i}finally{Jt=e,Yx=!1}}return null}var Qc=[],Kc=0,cv=null,uv=0,Ii=[],Ni=0,Al=null,ds=1,hs="";function rl(t,e){Qc[Kc++]=uv,Qc[Kc++]=cv,cv=t,uv=e}function vN(t,e,n){Ii[Ni++]=ds,Ii[Ni++]=hs,Ii[Ni++]=Al,Al=t;var r=ds;t=hs;var i=32-oo(r)-1;r&=~(1<<i),n+=1;var o=32-oo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ds=1<<32-oo(e)+i|n<<i|r,hs=o+t}else ds=1<<o|n<<i|r,hs=t}function Xb(t){t.return!==null&&(rl(t,1),vN(t,1,0))}function Yb(t){for(;t===cv;)cv=Qc[--Kc],Qc[Kc]=null,uv=Qc[--Kc],Qc[Kc]=null;for(;t===Al;)Al=Ii[--Ni],Ii[Ni]=null,hs=Ii[--Ni],Ii[Ni]=null,ds=Ii[--Ni],Ii[Ni]=null}var pi=null,di=null,gn=!1,no=null;function yN(t,e){var n=Ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pi=t,di=fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pi=t,di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Al!==null?{id:ds,overflow:hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pi=t,di=null,!0):!1;default:return!1}}function $1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H1(t){if(gn){var e=di;if(e){var n=e;if(!CA(t,e)){if($1(t))throw Error(ke(418));e=fa(n.nextSibling);var r=pi;e&&CA(t,e)?yN(r,n):(t.flags=t.flags&-4097|2,gn=!1,pi=t)}}else{if($1(t))throw Error(ke(418));t.flags=t.flags&-4097|2,gn=!1,pi=t}}}function LA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pi=t}function tm(t){if(t!==pi)return!1;if(!gn)return LA(t),gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!z1(t.type,t.memoizedProps)),e&&(e=di)){if($1(t))throw _N(),Error(ke(418));for(;e;)yN(t,e),e=fa(e.nextSibling)}if(LA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){di=fa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}di=null}}else di=pi?fa(t.stateNode.nextSibling):null;return!0}function _N(){for(var t=di;t;)t=fa(t.nextSibling)}function Su(){di=pi=null,gn=!1}function qb(t){no===null?no=[t]:no.push(t)}var $$=Ts.ReactCurrentBatchConfig;function Ji(t,e){if(t&&t.defaultProps){e=En({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var fv=Ca(null),dv=null,Jc=null,Zb=null;function Qb(){Zb=Jc=dv=null}function Kb(t){var e=fv.current;dn(fv),t._currentValue=e}function W1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fu(t,e){dv=t,Zb=Jc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Xr=!0),t.firstContext=null)}function Bi(t){var e=t._currentValue;if(Zb!==t)if(t={context:t,memoizedValue:e,next:null},Jc===null){if(dv===null)throw Error(ke(308));Jc=t,dv.dependencies={lanes:0,firstContext:t}}else Jc=Jc.next=t;return e}var hl=null;function Jb(t){hl===null?hl=[t]:hl.push(t)}function xN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jb(e)):(n.next=i.next,i.next=n),e.interleaved=n,xs(t,r)}function xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function eE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function da(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Vt&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xs(t,n)}return i=r.interleaved,i===null?(e.next=e,Jb(r)):(e.next=i.next,i.next=e),r.interleaved=e,xs(t,n)}function Eg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fb(t,n)}}function OA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hv(t,e,n,r){var i=t.updateQueue;Ks=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(p=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=En({},h,p);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cl|=s,t.lanes=s,t.memoizedState=h}}function IA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var wN=new xI.Component().refs;function G1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var W0={isMounted:function(t){return(t=t._reactInternals)?Wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ir(),i=pa(t),o=ms(r,i);o.payload=e,n!=null&&(o.callback=n),e=da(t,o,i),e!==null&&(so(e,t,i,r),Eg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ir(),i=pa(t),o=ms(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=da(t,o,i),e!==null&&(so(e,t,i,r),Eg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ir(),r=pa(t),i=ms(n,r);i.tag=2,e!=null&&(i.callback=e),e=da(t,i,r),e!==null&&(so(e,t,r,n),Eg(e,t,r))}};function NA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Hd(n,r)||!Hd(i,o):!0}function bN(t,e,n){var r=!1,i=Ea,o=e.contextType;return typeof o=="object"&&o!==null?o=Bi(o):(i=qr(e)?Pl:Mr.current,r=e.contextTypes,o=(r=r!=null)?xu(t,i):Ea),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function DA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&W0.enqueueReplaceState(e,e.state,null)}function j1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wN,eE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Bi(o):(o=qr(e)?Pl:Mr.current,i.context=xu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(G1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&W0.enqueueReplaceState(i,i.state,null),hv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===wN&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function nm(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kA(t){var e=t._init;return e(t._payload)}function EN(t){function e(g,_){if(t){var w=g.deletions;w===null?(g.deletions=[_],g.flags|=16):w.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=ma(g,_),g.index=0,g.sibling=null,g}function o(g,_,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<_?(g.flags|=2,_):w):(g.flags|=2,_)):(g.flags|=1048576,_)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,w,E){return _===null||_.tag!==6?(_=tS(w,g.mode,E),_.return=g,_):(_=i(_,w),_.return=g,_)}function l(g,_,w,E){var T=w.type;return T===Gc?d(g,_,w.props.children,E,w.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Qs&&kA(T)===_.type)?(E=i(_,w.props),E.ref=Uf(g,_,w),E.return=g,E):(E=Cg(w.type,w.key,w.props,null,g.mode,E),E.ref=Uf(g,_,w),E.return=g,E)}function u(g,_,w,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=nS(w,g.mode,E),_.return=g,_):(_=i(_,w.children||[]),_.return=g,_)}function d(g,_,w,E,T){return _===null||_.tag!==7?(_=Sl(w,g.mode,E,T),_.return=g,_):(_=i(_,w),_.return=g,_)}function h(g,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=tS(""+_,g.mode,w),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gp:return w=Cg(_.type,_.key,_.props,null,g.mode,w),w.ref=Uf(g,null,_),w.return=g,w;case Wc:return _=nS(_,g.mode,w),_.return=g,_;case Qs:var E=_._init;return h(g,E(_._payload),w)}if(fd(_)||Of(_))return _=Sl(_,g.mode,w,null),_.return=g,_;nm(g,_)}return null}function p(g,_,w,E){var T=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(g,_,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:return w.key===T?l(g,_,w,E):null;case Wc:return w.key===T?u(g,_,w,E):null;case Qs:return T=w._init,p(g,_,T(w._payload),E)}if(fd(w)||Of(w))return T!==null?null:d(g,_,w,E,null);nm(g,w)}return null}function m(g,_,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(_,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gp:return g=g.get(E.key===null?w:E.key)||null,l(_,g,E,T);case Wc:return g=g.get(E.key===null?w:E.key)||null,u(_,g,E,T);case Qs:var P=E._init;return m(g,_,w,P(E._payload),T)}if(fd(E)||Of(E))return g=g.get(w)||null,d(_,g,E,T,null);nm(_,E)}return null}function y(g,_,w,E){for(var T=null,P=null,A=_,I=_=0,C=null;A!==null&&I<w.length;I++){A.index>I?(C=A,A=null):C=A.sibling;var O=p(g,A,w[I],E);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(g,A),_=o(O,_,I),P===null?T=O:P.sibling=O,P=O,A=C}if(I===w.length)return n(g,A),gn&&rl(g,I),T;if(A===null){for(;I<w.length;I++)A=h(g,w[I],E),A!==null&&(_=o(A,_,I),P===null?T=A:P.sibling=A,P=A);return gn&&rl(g,I),T}for(A=r(g,A);I<w.length;I++)C=m(A,g,I,w[I],E),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?I:C.key),_=o(C,_,I),P===null?T=C:P.sibling=C,P=C);return t&&A.forEach(function(B){return e(g,B)}),gn&&rl(g,I),T}function x(g,_,w,E){var T=Of(w);if(typeof T!="function")throw Error(ke(150));if(w=T.call(w),w==null)throw Error(ke(151));for(var P=T=null,A=_,I=_=0,C=null,O=w.next();A!==null&&!O.done;I++,O=w.next()){A.index>I?(C=A,A=null):C=A.sibling;var B=p(g,A,O.value,E);if(B===null){A===null&&(A=C);break}t&&A&&B.alternate===null&&e(g,A),_=o(B,_,I),P===null?T=B:P.sibling=B,P=B,A=C}if(O.done)return n(g,A),gn&&rl(g,I),T;if(A===null){for(;!O.done;I++,O=w.next())O=h(g,O.value,E),O!==null&&(_=o(O,_,I),P===null?T=O:P.sibling=O,P=O);return gn&&rl(g,I),T}for(A=r(g,A);!O.done;I++,O=w.next())O=m(A,g,I,O.value,E),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?I:O.key),_=o(O,_,I),P===null?T=O:P.sibling=O,P=O);return t&&A.forEach(function(ee){return e(g,ee)}),gn&&rl(g,I),T}function S(g,_,w,E){if(typeof w=="object"&&w!==null&&w.type===Gc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gp:e:{for(var T=w.key,P=_;P!==null;){if(P.key===T){if(T=w.type,T===Gc){if(P.tag===7){n(g,P.sibling),_=i(P,w.props.children),_.return=g,g=_;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Qs&&kA(T)===P.type){n(g,P.sibling),_=i(P,w.props),_.ref=Uf(g,P,w),_.return=g,g=_;break e}n(g,P);break}else e(g,P);P=P.sibling}w.type===Gc?(_=Sl(w.props.children,g.mode,E,w.key),_.return=g,g=_):(E=Cg(w.type,w.key,w.props,null,g.mode,E),E.ref=Uf(g,_,w),E.return=g,g=E)}return s(g);case Wc:e:{for(P=w.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(g,_.sibling),_=i(_,w.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=nS(w,g.mode,E),_.return=g,g=_}return s(g);case Qs:return P=w._init,S(g,_,P(w._payload),E)}if(fd(w))return y(g,_,w,E);if(Of(w))return x(g,_,w,E);nm(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,w),_.return=g,g=_):(n(g,_),_=tS(w,g.mode,E),_.return=g,g=_),s(g)):n(g,_)}return S}var wu=EN(!0),MN=EN(!1),Ph={},zo=Ca(Ph),Xd=Ca(Ph),Yd=Ca(Ph);function pl(t){if(t===Ph)throw Error(ke(174));return t}function tE(t,e){switch(an(Yd,e),an(Xd,t),an(zo,Ph),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E1(e,t)}dn(zo),an(zo,e)}function bu(){dn(zo),dn(Xd),dn(Yd)}function TN(t){pl(Yd.current);var e=pl(zo.current),n=E1(e,t.type);e!==n&&(an(Xd,t),an(zo,n))}function nE(t){Xd.current===t&&(dn(zo),dn(Xd))}var xn=Ca(0);function pv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qx=[];function rE(){for(var t=0;t<qx.length;t++)qx[t]._workInProgressVersionPrimary=null;qx.length=0}var Mg=Ts.ReactCurrentDispatcher,Zx=Ts.ReactCurrentBatchConfig,Rl=0,bn=null,jn=null,er=null,mv=!1,wd=!1,qd=0,H$=0;function vr(){throw Error(ke(321))}function iE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lo(t[n],e[n]))return!1;return!0}function oE(t,e,n,r,i,o){if(Rl=o,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mg.current=t===null||t.memoizedState===null?X$:Y$,t=n(r,i),wd){o=0;do{if(wd=!1,qd=0,25<=o)throw Error(ke(301));o+=1,er=jn=null,e.updateQueue=null,Mg.current=q$,t=n(r,i)}while(wd)}if(Mg.current=gv,e=jn!==null&&jn.next!==null,Rl=0,er=jn=bn=null,mv=!1,e)throw Error(ke(300));return t}function sE(){var t=qd!==0;return qd=0,t}function Ro(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?bn.memoizedState=er=t:er=er.next=t,er}function Vi(){if(jn===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=er===null?bn.memoizedState:er.next;if(e!==null)er=e,jn=t;else{if(t===null)throw Error(ke(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},er===null?bn.memoizedState=er=t:er=er.next=t}return er}function Zd(t,e){return typeof e=="function"?e(t):e}function Qx(t){var e=Vi(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((Rl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,bn.lanes|=d,Cl|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,lo(r,e.memoizedState)||(Xr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,bn.lanes|=o,Cl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kx(t){var e=Vi(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);lo(o,e.memoizedState)||(Xr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function PN(){}function AN(t,e){var n=bn,r=Vi(),i=e(),o=!lo(r.memoizedState,i);if(o&&(r.memoizedState=i,Xr=!0),r=r.queue,aE(LN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||er!==null&&er.memoizedState.tag&1){if(n.flags|=2048,Qd(9,CN.bind(null,n,r,i,e),void 0,null),nr===null)throw Error(ke(349));(Rl&30)!==0||RN(n,e,i)}return i}function RN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CN(t,e,n,r){e.value=n,e.getSnapshot=r,ON(e)&&IN(t)}function LN(t,e,n){return n(function(){ON(e)&&IN(t)})}function ON(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lo(t,n)}catch{return!0}}function IN(t){var e=xs(t,1);e!==null&&so(e,t,1,-1)}function UA(t){var e=Ro();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},e.queue=t,t=t.dispatch=j$.bind(null,bn,t),[e.memoizedState,t]}function Qd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NN(){return Vi().memoizedState}function Tg(t,e,n,r){var i=Ro();bn.flags|=t,i.memoizedState=Qd(1|e,n,void 0,r===void 0?null:r)}function G0(t,e,n,r){var i=Vi();r=r===void 0?null:r;var o=void 0;if(jn!==null){var s=jn.memoizedState;if(o=s.destroy,r!==null&&iE(r,s.deps)){i.memoizedState=Qd(e,n,o,r);return}}bn.flags|=t,i.memoizedState=Qd(1|e,n,o,r)}function zA(t,e){return Tg(8390656,8,t,e)}function aE(t,e){return G0(2048,8,t,e)}function DN(t,e){return G0(4,2,t,e)}function kN(t,e){return G0(4,4,t,e)}function UN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zN(t,e,n){return n=n!=null?n.concat([t]):null,G0(4,4,UN.bind(null,e,t),n)}function lE(){}function FN(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BN(t,e){var n=Vi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VN(t,e,n){return(Rl&21)===0?(t.baseState&&(t.baseState=!1,Xr=!0),t.memoizedState=n):(lo(n,e)||(n=WI(),bn.lanes|=n,Cl|=n,t.baseState=!0),e)}function W$(t,e){var n=Jt;Jt=n!==0&&4>n?n:4,t(!0);var r=Zx.transition;Zx.transition={};try{t(!1),e()}finally{Jt=n,Zx.transition=r}}function $N(){return Vi().memoizedState}function G$(t,e,n){var r=pa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HN(t))WN(e,n);else if(n=xN(t,e,n,r),n!==null){var i=Ir();so(n,t,r,i),GN(n,e,r)}}function j$(t,e,n){var r=pa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HN(t))WN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,lo(a,s)){var l=e.interleaved;l===null?(i.next=i,Jb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xN(t,e,i,r),n!==null&&(i=Ir(),so(n,t,r,i),GN(n,e,r))}}function HN(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function WN(t,e){wd=mv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GN(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fb(t,n)}}var gv={readContext:Bi,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},X$={readContext:Bi,useCallback:function(t,e){return Ro().memoizedState=[t,e===void 0?null:e],t},useContext:Bi,useEffect:zA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tg(4194308,4,UN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tg(4,2,t,e)},useMemo:function(t,e){var n=Ro();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ro();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=G$.bind(null,bn,t),[r.memoizedState,t]},useRef:function(t){var e=Ro();return t={current:t},e.memoizedState=t},useState:UA,useDebugValue:lE,useDeferredValue:function(t){return Ro().memoizedState=t},useTransition:function(){var t=UA(!1),e=t[0];return t=W$.bind(null,t[1]),Ro().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bn,i=Ro();if(gn){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),nr===null)throw Error(ke(349));(Rl&30)!==0||RN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,zA(LN.bind(null,r,o,t),[t]),r.flags|=2048,Qd(9,CN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ro(),e=nr.identifierPrefix;if(gn){var n=hs,r=ds;n=(r&~(1<<32-oo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y$={readContext:Bi,useCallback:FN,useContext:Bi,useEffect:aE,useImperativeHandle:zN,useInsertionEffect:DN,useLayoutEffect:kN,useMemo:BN,useReducer:Qx,useRef:NN,useState:function(){return Qx(Zd)},useDebugValue:lE,useDeferredValue:function(t){var e=Vi();return VN(e,jn.memoizedState,t)},useTransition:function(){var t=Qx(Zd)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:PN,useSyncExternalStore:AN,useId:$N,unstable_isNewReconciler:!1},q$={readContext:Bi,useCallback:FN,useContext:Bi,useEffect:aE,useImperativeHandle:zN,useInsertionEffect:DN,useLayoutEffect:kN,useMemo:BN,useReducer:Kx,useRef:NN,useState:function(){return Kx(Zd)},useDebugValue:lE,useDeferredValue:function(t){var e=Vi();return jn===null?e.memoizedState=t:VN(e,jn.memoizedState,t)},useTransition:function(){var t=Kx(Zd)[0],e=Vi().memoizedState;return[t,e]},useMutableSource:PN,useSyncExternalStore:AN,useId:$N,unstable_isNewReconciler:!1};function Eu(t,e){try{var n="",r=e;do n+=bV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jx(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function X1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z$=typeof WeakMap=="function"?WeakMap:Map;function jN(t,e,n){n=ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yv||(yv=!0,rw=r),X1(t,e)},n}function XN(t,e,n){n=ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){X1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){X1(t,e),typeof r!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function FA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uH.bind(null,t,e,n),e.then(t,t))}function BA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VA(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ms(-1,1),e.tag=2,da(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var Q$=Ts.ReactCurrentOwner,Xr=!1;function Or(t,e,n,r){e.child=t===null?MN(e,null,n,r):wu(e,t.child,n,r)}function $A(t,e,n,r,i){n=n.render;var o=e.ref;return fu(e,i),r=oE(t,e,n,r,o,i),n=sE(),t!==null&&!Xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(gn&&n&&Xb(e),e.flags|=1,Or(t,e,r,i),e.child)}function HA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!gE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,YN(t,e,o,r,i)):(t=Cg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hd,n(s,r)&&t.ref===e.ref)return Ss(t,e,i)}return e.flags|=1,t=ma(o,r),t.ref=e.ref,t.return=e,e.child=t}function YN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Hd(o,r)&&t.ref===e.ref)if(Xr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Xr=!0);else return e.lanes=t.lanes,Ss(t,e,i)}return Y1(t,e,n,r,i)}function qN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(tu,ui),ui|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,an(tu,ui),ui|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,an(tu,ui),ui|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,an(tu,ui),ui|=r;return Or(t,e,i,n),e.child}function ZN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Y1(t,e,n,r,i){var o=qr(n)?Pl:Mr.current;return o=xu(e,o),fu(e,i),n=oE(t,e,n,r,o,i),r=sE(),t!==null&&!Xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(gn&&r&&Xb(e),e.flags|=1,Or(t,e,n,i),e.child)}function WA(t,e,n,r,i){if(qr(n)){var o=!0;lv(e)}else o=!1;if(fu(e,i),e.stateNode===null)Pg(t,e),bN(e,n,r),j1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bi(u):(u=qr(n)?Pl:Mr.current,u=xu(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&DA(e,s,r,u),Ks=!1;var p=e.memoizedState;s.state=p,hv(e,r,s,i),l=e.memoizedState,a!==r||p!==l||Yr.current||Ks?(typeof d=="function"&&(G1(e,n,d,r),l=e.memoizedState),(a=Ks||NA(e,n,a,r,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,SN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ji(e.type,a),s.props=u,h=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bi(l):(l=qr(n)?Pl:Mr.current,l=xu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&DA(e,s,r,l),Ks=!1,p=e.memoizedState,s.state=p,hv(e,r,s,i);var y=e.memoizedState;a!==h||p!==y||Yr.current||Ks?(typeof m=="function"&&(G1(e,n,m,r),y=e.memoizedState),(u=Ks||NA(e,n,u,r,p,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return q1(t,e,n,r,o,i)}function q1(t,e,n,r,i,o){ZN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&RA(e,n,!1),Ss(t,e,o);r=e.stateNode,Q$.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wu(e,t.child,null,o),e.child=wu(e,null,a,o)):Or(t,e,a,o),e.memoizedState=r.state,i&&RA(e,n,!0),e.child}function QN(t){var e=t.stateNode;e.pendingContext?AA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AA(t,e.context,!1),tE(t,e.containerInfo)}function GA(t,e,n,r,i){return Su(),qb(i),e.flags|=256,Or(t,e,n,r),e.child}var Z1={dehydrated:null,treeContext:null,retryLane:0};function Q1(t){return{baseLanes:t,cachePool:null,transitions:null}}function KN(t,e,n){var r=e.pendingProps,i=xn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),an(xn,i&1),t===null)return H1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Y0(s,r,0,null),t=Sl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Q1(n),e.memoizedState=Z1,t):cE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return K$(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ma(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ma(a,o):(o=Sl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Q1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Z1,r}return o=t.child,t=o.sibling,r=ma(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cE(t,e){return e=Y0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rm(t,e,n,r){return r!==null&&qb(r),wu(e,t.child,null,n),t=cE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K$(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Jx(Error(ke(422))),rm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Y0({mode:"visible",children:r.children},i,0,null),o=Sl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&wu(e,t.child,null,s),e.child.memoizedState=Q1(s),e.memoizedState=Z1,o);if((e.mode&1)===0)return rm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ke(419)),r=Jx(o,r,void 0),rm(t,e,s,r)}if(a=(s&t.childLanes)!==0,Xr||a){if(r=nr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xs(t,i),so(r,t,i,-1))}return mE(),r=Jx(Error(ke(421))),rm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,di=fa(i.nextSibling),pi=e,gn=!0,no=null,t!==null&&(Ii[Ni++]=ds,Ii[Ni++]=hs,Ii[Ni++]=Al,ds=t.id,hs=t.overflow,Al=e),e=cE(e,r.children),e.flags|=4096,e)}function jA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),W1(t.return,e,n)}function eS(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function JN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Or(t,e,r.children,n),r=xn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jA(t,n,e);else if(t.tag===19)jA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(an(xn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eS(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eS(e,!0,n,null,o);break;case"together":eS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pg(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cl|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=ma(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ma(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J$(t,e,n){switch(e.tag){case 3:QN(e),Su();break;case 5:TN(e);break;case 1:qr(e.type)&&lv(e);break;case 4:tE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;an(fv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(an(xn,xn.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?KN(t,e,n):(an(xn,xn.current&1),t=Ss(t,e,n),t!==null?t.sibling:null);an(xn,xn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return JN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(xn,xn.current),r)break;return null;case 22:case 23:return e.lanes=0,qN(t,e,n)}return Ss(t,e,n)}var e3,K1,t3,n3;e3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};K1=function(){};t3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pl(zo.current);var o=null;switch(n){case"input":i=x1(t,i),r=x1(t,r),o=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),o=[];break;case"textarea":i=b1(t,i),r=b1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sv)}M1(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&un("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};n3=function(t,e,n,r){n!==r&&(e.flags|=4)};function zf(t,e){if(!gn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eH(t,e,n){var r=e.pendingProps;switch(Yb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return qr(e.type)&&av(),yr(e),null;case 3:return r=e.stateNode,bu(),dn(Yr),dn(Mr),rE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,no!==null&&(sw(no),no=null))),K1(t,e),yr(e),null;case 5:nE(e);var i=pl(Yd.current);if(n=e.type,t!==null&&e.stateNode!=null)t3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return yr(e),null}if(t=pl(zo.current),tm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Io]=e,r[jd]=o,t=(e.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<hd.length;i++)un(hd[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":tA(r,o),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},un("invalid",r);break;case"textarea":rA(r,o),un("invalid",r)}M1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&em(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&em(r.textContent,a,t),i=["children",""+a]):kd.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&un("scroll",r)}switch(n){case"input":jp(r),nA(r,o,!0);break;case"textarea":jp(r),iA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Io]=e,t[jd]=r,e3(t,e,!1,!1),e.stateNode=t;e:{switch(s=T1(n,r),n){case"dialog":un("cancel",t),un("close",t),i=r;break;case"iframe":case"object":case"embed":un("load",t),i=r;break;case"video":case"audio":for(i=0;i<hd.length;i++)un(hd[i],t);i=r;break;case"source":un("error",t),i=r;break;case"img":case"image":case"link":un("error",t),un("load",t),i=r;break;case"details":un("toggle",t),i=r;break;case"input":tA(t,r),i=x1(t,r),un("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),un("invalid",t);break;case"textarea":rA(t,r),i=b1(t,r),un("invalid",t);break;default:i=r}M1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?OI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ud(t,l):typeof l=="number"&&Ud(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(kd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&un("scroll",t):l!=null&&Ib(t,o,l,s))}switch(n){case"input":jp(t),nA(t,r,!1);break;case"textarea":jp(t),iA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ba(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?au(t,!!r.multiple,o,!1):r.defaultValue!=null&&au(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(t&&e.stateNode!=null)n3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=pl(Yd.current),pl(zo.current),tm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Io]=e,(o=r.nodeValue!==n)&&(t=pi,t!==null))switch(t.tag){case 3:em(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&em(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Io]=e,e.stateNode=r}return yr(e),null;case 13:if(dn(xn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gn&&di!==null&&(e.mode&1)!==0&&(e.flags&128)===0)_N(),Su(),e.flags|=98560,o=!1;else if(o=tm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ke(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ke(317));o[Io]=e}else Su(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;yr(e),o=!1}else no!==null&&(sw(no),no=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(xn.current&1)!==0?Xn===0&&(Xn=3):mE())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return bu(),K1(t,e),t===null&&Wd(e.stateNode.containerInfo),yr(e),null;case 10:return Kb(e.type._context),yr(e),null;case 17:return qr(e.type)&&av(),yr(e),null;case 19:if(dn(xn),o=e.memoizedState,o===null)return yr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)zf(o,!1);else{if(Xn!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=pv(t),s!==null){for(e.flags|=128,zf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return an(xn,xn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dn()>Mu&&(e.flags|=128,r=!0,zf(o,!1),e.lanes=4194304)}else{if(!r)if(t=pv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!gn)return yr(e),null}else 2*Dn()-o.renderingStartTime>Mu&&n!==1073741824&&(e.flags|=128,r=!0,zf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dn(),e.sibling=null,n=xn.current,an(xn,r?n&1|2:n&1),e):(yr(e),null);case 22:case 23:return pE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ui&1073741824)!==0&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function tH(t,e){switch(Yb(e),e.tag){case 1:return qr(e.type)&&av(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),dn(Yr),dn(Mr),rE(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return nE(e),null;case 13:if(dn(xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dn(xn),null;case 4:return bu(),null;case 10:return Kb(e.type._context),null;case 22:case 23:return pE(),null;case 24:return null;default:return null}}var im=!1,wr=!1,nH=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function eu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rn(t,e,r)}else n.current=null}function J1(t,e,n){try{n()}catch(r){Rn(t,e,r)}}var XA=!1;function rH(t,e){if(k1=rv,t=sN(),jb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=s),p===o&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(U1={focusedElem:t,selectionRange:n},rv=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ji(e.type,x),S);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(E){Rn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return y=XA,XA=!1,y}function bd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&J1(e,n,o)}i=i.next}while(i!==r)}}function j0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ew(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r3(t){var e=t.alternate;e!==null&&(t.alternate=null,r3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Io],delete e[jd],delete e[B1],delete e[F$],delete e[B$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i3(t){return t.tag===5||t.tag===3||t.tag===4}function YA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sv));else if(r!==4&&(t=t.child,t!==null))for(tw(t,e,n),t=t.sibling;t!==null;)tw(t,e,n),t=t.sibling}function nw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nw(t,e,n),t=t.sibling;t!==null;)nw(t,e,n),t=t.sibling}var or=null,to=!1;function $s(t,e,n){for(n=n.child;n!==null;)o3(t,e,n),n=n.sibling}function o3(t,e,n){if(Uo&&typeof Uo.onCommitFiberUnmount=="function")try{Uo.onCommitFiberUnmount(z0,n)}catch{}switch(n.tag){case 5:wr||eu(n,e);case 6:var r=or,i=to;or=null,$s(t,e,n),or=r,to=i,or!==null&&(to?(t=or,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):or.removeChild(n.stateNode));break;case 18:or!==null&&(to?(t=or,n=n.stateNode,t.nodeType===8?Xx(t.parentNode,n):t.nodeType===1&&Xx(t,n),Vd(t)):Xx(or,n.stateNode));break;case 4:r=or,i=to,or=n.stateNode.containerInfo,to=!0,$s(t,e,n),or=r,to=i;break;case 0:case 11:case 14:case 15:if(!wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&J1(n,e,s),i=i.next}while(i!==r)}$s(t,e,n);break;case 1:if(!wr&&(eu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rn(n,e,a)}$s(t,e,n);break;case 21:$s(t,e,n);break;case 22:n.mode&1?(wr=(r=wr)||n.memoizedState!==null,$s(t,e,n),wr=r):$s(t,e,n);break;default:$s(t,e,n)}}function qA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nH),e.forEach(function(r){var i=dH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,to=!1;break e;case 3:or=a.stateNode.containerInfo,to=!0;break e;case 4:or=a.stateNode.containerInfo,to=!0;break e}a=a.return}if(or===null)throw Error(ke(160));o3(o,s,i),or=null,to=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s3(e,t),e=e.sibling}function s3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yi(e,t),Po(t),r&4){try{bd(3,t,t.return),j0(3,t)}catch(x){Rn(t,t.return,x)}try{bd(5,t,t.return)}catch(x){Rn(t,t.return,x)}}break;case 1:Yi(e,t),Po(t),r&512&&n!==null&&eu(n,n.return);break;case 5:if(Yi(e,t),Po(t),r&512&&n!==null&&eu(n,n.return),t.flags&32){var i=t.stateNode;try{Ud(i,"")}catch(x){Rn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&PI(i,o),T1(a,s);var u=T1(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?OI(i,h):d==="dangerouslySetInnerHTML"?CI(i,h):d==="children"?Ud(i,h):Ib(i,d,h,u)}switch(a){case"input":S1(i,o);break;case"textarea":AI(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?au(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?au(i,!!o.multiple,o.defaultValue,!0):au(i,!!o.multiple,o.multiple?[]:"",!1))}i[jd]=o}catch(x){Rn(t,t.return,x)}}break;case 6:if(Yi(e,t),Po(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Rn(t,t.return,x)}}break;case 3:if(Yi(e,t),Po(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vd(e.containerInfo)}catch(x){Rn(t,t.return,x)}break;case 4:Yi(e,t),Po(t);break;case 13:Yi(e,t),Po(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dE=Dn())),r&4&&qA(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wr=(u=wr)||d,Yi(e,t),wr=u):Yi(e,t),Po(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&(t.mode&1)!==0)for(Qe=t,d=t.child;d!==null;){for(h=Qe=d;Qe!==null;){switch(p=Qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:bd(4,p,p.return);break;case 1:eu(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Rn(r,n,x)}}break;case 5:eu(p,p.return);break;case 22:if(p.memoizedState!==null){QA(h);continue}}m!==null?(m.return=p,Qe=m):QA(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=LI("display",s))}catch(x){Rn(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Rn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yi(e,t),Po(t),r&4&&qA(t);break;case 21:break;default:Yi(e,t),Po(t)}}function Po(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i3(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ud(i,""),r.flags&=-33);var o=YA(t);nw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=YA(t);tw(t,a,s);break;default:throw Error(ke(161))}}catch(l){Rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iH(t,e,n){Qe=t,a3(t)}function a3(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||im;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wr;a=im;var u=wr;if(im=s,(wr=l)&&!u)for(Qe=i;Qe!==null;)s=Qe,l=s.child,s.tag===22&&s.memoizedState!==null?KA(i):l!==null?(l.return=s,Qe=l):KA(i);for(;o!==null;)Qe=o,a3(o),o=o.sibling;Qe=i,im=a,wr=u}ZA(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,Qe=o):ZA(t)}}function ZA(t){for(;Qe!==null;){var e=Qe;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:wr||j0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ji(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&IA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}wr||e.flags&512&&ew(e)}catch(p){Rn(e,e.return,p)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function QA(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function KA(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{j0(4,e)}catch(l){Rn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rn(e,i,l)}}var o=e.return;try{ew(e)}catch(l){Rn(e,o,l)}break;case 5:var s=e.return;try{ew(e)}catch(l){Rn(e,s,l)}}}catch(l){Rn(e,e.return,l)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var oH=Math.ceil,vv=Ts.ReactCurrentDispatcher,uE=Ts.ReactCurrentOwner,zi=Ts.ReactCurrentBatchConfig,Vt=0,nr=null,$n=null,lr=0,ui=0,tu=Ca(0),Xn=0,Kd=null,Cl=0,X0=0,fE=0,Ed=null,Hr=null,dE=0,Mu=1/0,ls=null,yv=!1,rw=null,ha=null,om=!1,oa=null,_v=0,Md=0,iw=null,Ag=-1,Rg=0;function Ir(){return(Vt&6)!==0?Dn():Ag!==-1?Ag:Ag=Dn()}function pa(t){return(t.mode&1)===0?1:(Vt&2)!==0&&lr!==0?lr&-lr:$$.transition!==null?(Rg===0&&(Rg=WI()),Rg):(t=Jt,t!==0||(t=window.event,t=t===void 0?16:QI(t.type)),t)}function so(t,e,n,r){if(50<Md)throw Md=0,iw=null,Error(ke(185));Eh(t,n,r),((Vt&2)===0||t!==nr)&&(t===nr&&((Vt&2)===0&&(X0|=n),Xn===4&&na(t,lr)),Zr(t,r),n===1&&Vt===0&&(e.mode&1)===0&&(Mu=Dn()+500,H0&&La()))}function Zr(t,e){var n=t.callbackNode;$V(t,e);var r=nv(t,t===nr?lr:0);if(r===0)n!==null&&aA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aA(n),e===1)t.tag===0?V$(JA.bind(null,t)):gN(JA.bind(null,t)),U$(function(){(Vt&6)===0&&La()}),n=null;else{switch(GI(r)){case 1:n=zb;break;case 4:n=$I;break;case 16:n=tv;break;case 536870912:n=HI;break;default:n=tv}n=m3(n,l3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l3(t,e){if(Ag=-1,Rg=0,(Vt&6)!==0)throw Error(ke(327));var n=t.callbackNode;if(du()&&t.callbackNode!==n)return null;var r=nv(t,t===nr?lr:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=xv(t,r);else{e=r;var i=Vt;Vt|=2;var o=u3();(nr!==t||lr!==e)&&(ls=null,Mu=Dn()+500,xl(t,e));do try{lH();break}catch(a){c3(t,a)}while(1);Qb(),vv.current=o,Vt=i,$n!==null?e=0:(nr=null,lr=0,e=Xn)}if(e!==0){if(e===2&&(i=L1(t),i!==0&&(r=i,e=ow(t,i))),e===1)throw n=Kd,xl(t,0),na(t,r),Zr(t,Dn()),n;if(e===6)na(t,r);else{if(i=t.current.alternate,(r&30)===0&&!sH(i)&&(e=xv(t,r),e===2&&(o=L1(t),o!==0&&(r=o,e=ow(t,o))),e===1))throw n=Kd,xl(t,0),na(t,r),Zr(t,Dn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:il(t,Hr,ls);break;case 3:if(na(t,r),(r&130023424)===r&&(e=dE+500-Dn(),10<e)){if(nv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=F1(il.bind(null,t,Hr,ls),e);break}il(t,Hr,ls);break;case 4:if(na(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oH(r/1960))-r,10<r){t.timeoutHandle=F1(il.bind(null,t,Hr,ls),r);break}il(t,Hr,ls);break;case 5:il(t,Hr,ls);break;default:throw Error(ke(329))}}}return Zr(t,Dn()),t.callbackNode===n?l3.bind(null,t):null}function ow(t,e){var n=Ed;return t.current.memoizedState.isDehydrated&&(xl(t,e).flags|=256),t=xv(t,e),t!==2&&(e=Hr,Hr=n,e!==null&&sw(e)),t}function sw(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function sH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function na(t,e){for(e&=~fE,e&=~X0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oo(e),r=1<<n;t[n]=-1,e&=~r}}function JA(t){if((Vt&6)!==0)throw Error(ke(327));du();var e=nv(t,0);if((e&1)===0)return Zr(t,Dn()),null;var n=xv(t,e);if(t.tag!==0&&n===2){var r=L1(t);r!==0&&(e=r,n=ow(t,r))}if(n===1)throw n=Kd,xl(t,0),na(t,e),Zr(t,Dn()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,il(t,Hr,ls),Zr(t,Dn()),null}function hE(t,e){var n=Vt;Vt|=1;try{return t(e)}finally{Vt=n,Vt===0&&(Mu=Dn()+500,H0&&La())}}function Ll(t){oa!==null&&oa.tag===0&&(Vt&6)===0&&du();var e=Vt;Vt|=1;var n=zi.transition,r=Jt;try{if(zi.transition=null,Jt=1,t)return t()}finally{Jt=r,zi.transition=n,Vt=e,(Vt&6)===0&&La()}}function pE(){ui=tu.current,dn(tu)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k$(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(Yb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&av();break;case 3:bu(),dn(Yr),dn(Mr),rE();break;case 5:nE(r);break;case 4:bu();break;case 13:dn(xn);break;case 19:dn(xn);break;case 10:Kb(r.type._context);break;case 22:case 23:pE()}n=n.return}if(nr=t,$n=t=ma(t.current,null),lr=ui=e,Xn=0,Kd=null,fE=X0=Cl=0,Hr=Ed=null,hl!==null){for(e=0;e<hl.length;e++)if(n=hl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}hl=null}return t}function c3(t,e){do{var n=$n;try{if(Qb(),Mg.current=gv,mv){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mv=!1}if(Rl=0,er=jn=bn=null,wd=!1,qd=0,uE.current=null,n===null||n.return===null){Xn=1,Kd=e,$n=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=lr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=BA(s);if(m!==null){m.flags&=-257,VA(m,s,a,o,e),m.mode&1&&FA(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if((e&1)===0){FA(o,u,e),mE();break e}l=Error(ke(426))}}else if(gn&&a.mode&1){var S=BA(s);if(S!==null){(S.flags&65536)===0&&(S.flags|=256),VA(S,s,a,o,e),qb(Eu(l,a));break e}}o=l=Eu(l,a),Xn!==4&&(Xn=2),Ed===null?Ed=[o]:Ed.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=jN(o,l,e);OA(o,g);break e;case 1:a=l;var _=o.type,w=o.stateNode;if((o.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ha===null||!ha.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=XN(o,a,e);OA(o,E);break e}}o=o.return}while(o!==null)}d3(n)}catch(T){e=T,$n===n&&n!==null&&($n=n=n.return);continue}break}while(1)}function u3(){var t=vv.current;return vv.current=gv,t===null?gv:t}function mE(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),nr===null||(Cl&268435455)===0&&(X0&268435455)===0||na(nr,lr)}function xv(t,e){var n=Vt;Vt|=2;var r=u3();(nr!==t||lr!==e)&&(ls=null,xl(t,e));do try{aH();break}catch(i){c3(t,i)}while(1);if(Qb(),Vt=n,vv.current=r,$n!==null)throw Error(ke(261));return nr=null,lr=0,Xn}function aH(){for(;$n!==null;)f3($n)}function lH(){for(;$n!==null&&!IV();)f3($n)}function f3(t){var e=p3(t.alternate,t,ui);t.memoizedProps=t.pendingProps,e===null?d3(t):$n=e,uE.current=null}function d3(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=eH(n,e,ui),n!==null){$n=n;return}}else{if(n=tH(n,e),n!==null){n.flags&=32767,$n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,$n=null;return}}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);Xn===0&&(Xn=5)}function il(t,e,n){var r=Jt,i=zi.transition;try{zi.transition=null,Jt=1,cH(t,e,n,r)}finally{zi.transition=i,Jt=r}return null}function cH(t,e,n,r){do du();while(oa!==null);if((Vt&6)!==0)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(HV(t,o),t===nr&&($n=nr=null,lr=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||om||(om=!0,m3(tv,function(){return du(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=zi.transition,zi.transition=null;var s=Jt;Jt=1;var a=Vt;Vt|=4,uE.current=null,rH(t,n),s3(n,t),R$(U1),rv=!!k1,U1=k1=null,t.current=n,iH(n),NV(),Vt=a,Jt=s,zi.transition=o}else t.current=n;if(om&&(om=!1,oa=t,_v=i),o=t.pendingLanes,o===0&&(ha=null),UV(n.stateNode),Zr(t,Dn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yv)throw yv=!1,t=rw,rw=null,t;return(_v&1)!==0&&t.tag!==0&&du(),o=t.pendingLanes,(o&1)!==0?t===iw?Md++:(Md=0,iw=t):Md=0,La(),null}function du(){if(oa!==null){var t=GI(_v),e=zi.transition,n=Jt;try{if(zi.transition=null,Jt=16>t?16:t,oa===null)var r=!1;else{if(t=oa,oa=null,_v=0,(Vt&6)!==0)throw Error(ke(331));var i=Vt;for(Vt|=4,Qe=t.current;Qe!==null;){var o=Qe,s=o.child;if((Qe.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Qe=u;Qe!==null;){var d=Qe;switch(d.tag){case 0:case 11:case 15:bd(8,d,o)}var h=d.child;if(h!==null)h.return=d,Qe=h;else for(;Qe!==null;){d=Qe;var p=d.sibling,m=d.return;if(r3(d),d===u){Qe=null;break}if(p!==null){p.return=m,Qe=p;break}Qe=m}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Qe=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,Qe=s;else e:for(;Qe!==null;){if(o=Qe,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:bd(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Qe=g;break e}Qe=o.return}}var _=t.current;for(Qe=_;Qe!==null;){s=Qe;var w=s.child;if((s.subtreeFlags&2064)!==0&&w!==null)w.return=s,Qe=w;else e:for(s=_;Qe!==null;){if(a=Qe,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:j0(9,a)}}catch(T){Rn(a,a.return,T)}if(a===s){Qe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Qe=E;break e}Qe=a.return}}if(Vt=i,La(),Uo&&typeof Uo.onPostCommitFiberRoot=="function")try{Uo.onPostCommitFiberRoot(z0,t)}catch{}r=!0}return r}finally{Jt=n,zi.transition=e}}return!1}function eR(t,e,n){e=Eu(n,e),e=jN(t,e,1),t=da(t,e,1),e=Ir(),t!==null&&(Eh(t,1,e),Zr(t,e))}function Rn(t,e,n){if(t.tag===3)eR(t,t,n);else for(;e!==null;){if(e.tag===3){eR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ha===null||!ha.has(r))){t=Eu(n,t),t=XN(e,t,1),e=da(e,t,1),t=Ir(),e!==null&&(Eh(e,1,t),Zr(e,t));break}}e=e.return}}function uH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ir(),t.pingedLanes|=t.suspendedLanes&n,nr===t&&(lr&n)===n&&(Xn===4||Xn===3&&(lr&130023424)===lr&&500>Dn()-dE?xl(t,0):fE|=n),Zr(t,e)}function h3(t,e){e===0&&((t.mode&1)===0?e=1:(e=qp,qp<<=1,(qp&130023424)===0&&(qp=4194304)));var n=Ir();t=xs(t,e),t!==null&&(Eh(t,e,n),Zr(t,n))}function fH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h3(t,n)}function dH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),h3(t,n)}var p3;p3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yr.current)Xr=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Xr=!1,J$(t,e,n);Xr=(t.flags&131072)!==0}else Xr=!1,gn&&(e.flags&1048576)!==0&&vN(e,uv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pg(t,e),t=e.pendingProps;var i=xu(e,Mr.current);fu(e,n),i=oE(null,e,r,t,i,n);var o=sE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qr(r)?(o=!0,lv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eE(e),i.updater=W0,e.stateNode=i,i._reactInternals=e,j1(e,r,t,n),e=q1(null,e,r,!0,o,n)):(e.tag=0,gn&&o&&Xb(e),Or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pH(r),t=Ji(r,t),i){case 0:e=Y1(null,e,r,t,n);break e;case 1:e=WA(null,e,r,t,n);break e;case 11:e=$A(null,e,r,t,n);break e;case 14:e=HA(null,e,r,Ji(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),Y1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),WA(t,e,r,i,n);case 3:e:{if(QN(e),t===null)throw Error(ke(387));r=e.pendingProps,o=e.memoizedState,i=o.element,SN(t,e),hv(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Eu(Error(ke(423)),e),e=GA(t,e,r,n,i);break e}else if(r!==i){i=Eu(Error(ke(424)),e),e=GA(t,e,r,n,i);break e}else for(di=fa(e.stateNode.containerInfo.firstChild),pi=e,gn=!0,no=null,n=MN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Su(),r===i){e=Ss(t,e,n);break e}Or(t,e,r,n)}e=e.child}return e;case 5:return TN(e),t===null&&H1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,z1(r,i)?s=null:o!==null&&z1(r,o)&&(e.flags|=32),ZN(t,e),Or(t,e,s,n),e.child;case 6:return t===null&&H1(e),null;case 13:return KN(t,e,n);case 4:return tE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wu(e,null,r,n):Or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),$A(t,e,r,i,n);case 7:return Or(t,e,e.pendingProps,n),e.child;case 8:return Or(t,e,e.pendingProps.children,n),e.child;case 12:return Or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,an(fv,r._currentValue),r._currentValue=s,o!==null)if(lo(o.value,s)){if(o.children===i.children&&!Yr.current){e=Ss(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ms(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),W1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ke(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),W1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fu(e,n),i=Bi(i),r=r(i),e.flags|=1,Or(t,e,r,n),e.child;case 14:return r=e.type,i=Ji(r,e.pendingProps),i=Ji(r.type,i),HA(t,e,r,i,n);case 15:return YN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),Pg(t,e),e.tag=1,qr(r)?(t=!0,lv(e)):t=!1,fu(e,n),bN(e,r,i),j1(e,r,i,n),q1(null,e,r,!0,t,n);case 19:return JN(t,e,n);case 22:return qN(t,e,n)}throw Error(ke(156,e.tag))};function m3(t,e){return VI(t,e)}function hH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(t,e,n,r){return new hH(t,e,n,r)}function gE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pH(t){if(typeof t=="function")return gE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Db)return 11;if(t===kb)return 14}return 2}function ma(t,e){var n=t.alternate;return n===null?(n=Ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")gE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gc:return Sl(n.children,i,o,e);case Nb:s=8,i|=8;break;case g1:return t=Ui(12,n,e,i|2),t.elementType=g1,t.lanes=o,t;case v1:return t=Ui(13,n,e,i),t.elementType=v1,t.lanes=o,t;case y1:return t=Ui(19,n,e,i),t.elementType=y1,t.lanes=o,t;case EI:return Y0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wI:s=10;break e;case bI:s=9;break e;case Db:s=11;break e;case kb:s=14;break e;case Qs:s=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Ui(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Sl(t,e,n,r){return t=Ui(7,t,r,e),t.lanes=n,t}function Y0(t,e,n,r){return t=Ui(22,t,r,e),t.elementType=EI,t.lanes=n,t.stateNode={isHidden:!1},t}function tS(t,e,n){return t=Ui(6,t,null,e),t.lanes=n,t}function nS(t,e,n){return e=Ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kx(0),this.expirationTimes=kx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vE(t,e,n,r,i,o,s,a,l){return t=new mH(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ui(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eE(o),t}function gH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g3(t){if(!t)return Ea;t=t._reactInternals;e:{if(Wl(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(qr(n))return mN(t,n,e)}return e}function v3(t,e,n,r,i,o,s,a,l){return t=vE(n,r,!0,t,i,o,s,a,l),t.context=g3(null),n=t.current,r=Ir(),i=pa(n),o=ms(r,i),o.callback=e!=null?e:null,da(n,o,i),t.current.lanes=i,Eh(t,i,r),Zr(t,r),t}function q0(t,e,n,r){var i=e.current,o=Ir(),s=pa(i);return n=g3(n),e.context===null?e.context=n:e.pendingContext=n,e=ms(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=da(i,e,s),t!==null&&(so(t,i,s,o),Eg(t,i,s)),s}function Sv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yE(t,e){tR(t,e),(t=t.alternate)&&tR(t,e)}function vH(){return null}var y3=typeof reportError=="function"?reportError:function(t){console.error(t)};function _E(t){this._internalRoot=t}Z0.prototype.render=_E.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));q0(t,e,null,null)};Z0.prototype.unmount=_E.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ll(function(){q0(null,t,null,null)}),e[_s]=null}};function Z0(t){this._internalRoot=t}Z0.prototype.unstable_scheduleHydration=function(t){if(t){var e=YI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ta.length&&e!==0&&e<ta[n].priority;n++);ta.splice(n,0,t),n===0&&ZI(t)}};function xE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nR(){}function yH(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Sv(s);o.call(u)}}var s=v3(e,r,t,0,null,!1,!1,"",nR);return t._reactRootContainer=s,t[_s]=s.current,Wd(t.nodeType===8?t.parentNode:t),Ll(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sv(l);a.call(u)}}var l=vE(t,0,!1,null,null,!1,!1,"",nR);return t._reactRootContainer=l,t[_s]=l.current,Wd(t.nodeType===8?t.parentNode:t),Ll(function(){q0(e,l,n,r)}),l}function K0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Sv(s);a.call(l)}}q0(e,s,t,i)}else s=yH(n,e,t,i,r);return Sv(s)}jI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dd(e.pendingLanes);n!==0&&(Fb(e,n|1),Zr(e,Dn()),(Vt&6)===0&&(Mu=Dn()+500,La()))}break;case 13:Ll(function(){var r=xs(t,1);if(r!==null){var i=Ir();so(r,t,1,i)}}),yE(t,1)}};Bb=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var n=Ir();so(e,t,134217728,n)}yE(t,134217728)}};XI=function(t){if(t.tag===13){var e=pa(t),n=xs(t,e);if(n!==null){var r=Ir();so(n,t,e,r)}yE(t,e)}};YI=function(){return Jt};qI=function(t,e){var n=Jt;try{return Jt=t,e()}finally{Jt=n}};A1=function(t,e,n){switch(e){case"input":if(S1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$0(r);if(!i)throw Error(ke(90));TI(r),S1(r,i)}}}break;case"textarea":AI(t,n);break;case"select":e=n.value,e!=null&&au(t,!!n.multiple,e,!1)}};DI=hE;kI=Ll;var _H={usingClientEntryPoint:!1,Events:[Th,qc,$0,II,NI,hE]},Ff={findFiberByHostInstance:dl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xH={bundleType:Ff.bundleType,version:Ff.version,rendererPackageName:Ff.rendererPackageName,rendererConfig:Ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ff.findFiberByHostInstance||vH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{z0=sm.inject(xH),Uo=sm}catch{}}yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_H;yi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xE(e))throw Error(ke(200));return gH(t,e,null,n)};yi.createRoot=function(t,e){if(!xE(t))throw Error(ke(299));var n=!1,r="",i=y3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vE(t,1,!1,null,null,n,!1,r,i),t[_s]=e.current,Wd(t.nodeType===8?t.parentNode:t),new _E(e)};yi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=FI(e),t=t===null?null:t.stateNode,t};yi.flushSync=function(t){return Ll(t)};yi.hydrate=function(t,e,n){if(!Q0(e))throw Error(ke(200));return K0(null,t,e,!0,n)};yi.hydrateRoot=function(t,e,n){if(!xE(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=y3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=v3(e,null,t,1,n!=null?n:null,i,!1,o,s),t[_s]=e.current,Wd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Z0(e)};yi.render=function(t,e,n){if(!Q0(e))throw Error(ke(200));return K0(null,t,e,!1,n)};yi.unmountComponentAtNode=function(t){if(!Q0(t))throw Error(ke(40));return t._reactRootContainer?(Ll(function(){K0(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};yi.unstable_batchedUpdates=hE;yi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Q0(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return K0(t,e,n,!1,r)};yi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=yi})(Wu);const SH=Tb(Wu.exports);var rR=Wu.exports;p1.createRoot=rR.createRoot,p1.hydrateRoot=rR.hydrateRoot;const SE=()=>!window.invokeNative,wH=()=>{};var No=function(){return No=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},No.apply(this,arguments)};function _3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bH(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Lg="right-scroll-bar-position",Og="width-before-scroll-bar",EH="with-scroll-bars-hidden",MH="--removed-body-scroll-bar-size";function TH(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function PH(t,e){var n=L.exports.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function AH(t,e){return PH(e||null,function(n){return t.forEach(function(r){return TH(r,n)})})}var J0={exports:{}},ey={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RH=L.exports,CH=Symbol.for("react.element"),LH=Symbol.for("react.fragment"),OH=Object.prototype.hasOwnProperty,IH=RH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NH={key:!0,ref:!0,__self:!0,__source:!0};function x3(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)OH.call(e,r)&&!NH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CH,type:t,key:o,ref:s,props:i,_owner:IH.current}}ey.Fragment=LH;ey.jsx=x3;ey.jsxs=x3;(function(t){t.exports=ey})(J0);const Dr=J0.exports.Fragment,Z=J0.exports.jsx,ut=J0.exports.jsxs;function DH(t){return t}function kH(t,e){e===void 0&&(e=DH);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function UH(t){t===void 0&&(t={});var e=kH(null);return e.options=No({async:!0,ssr:!1},t),e}var S3=function(t){var e=t.sideCar,n=_3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return Z(r,{...No({},n)})};S3.isSideCarExport=!0;function zH(t,e){return t.useMedium(e),S3}var w3=UH(),rS=function(){},ty=L.exports.forwardRef(function(t,e){var n=L.exports.useRef(null),r=L.exports.useState({onScrollCapture:rS,onWheelCapture:rS,onTouchMoveCapture:rS}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,y=t.inert,x=t.allowPinchZoom,S=t.as,g=S===void 0?"div":S,_=t.gapMode,w=_3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,T=AH([n,e]),P=No(No({},w),i);return ut(Dr,{children:[d&&Z(E,{sideCar:w3,removeScrollBar:u,shards:h,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:_}),s?L.exports.cloneElement(L.exports.Children.only(a),No(No({},P),{ref:T})):Z(g,{...No({},P,{className:l,ref:T}),children:a})]})});ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ty.classNames={fullWidth:Og,zeroRight:Lg};var FH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FH();return e&&t.setAttribute("nonce",e),t}function VH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $H(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var HH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=BH())&&(VH(e,n),$H(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WH=function(){var t=HH();return function(e,n){L.exports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},b3=function(){var t=WH(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},GH={left:0,top:0,right:0,gap:0},iS=function(t){return parseInt(t||"",10)||0},jH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[iS(n),iS(r),iS(i)]},XH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GH;var e=jH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},YH=b3(),qH=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(EH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Og,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lg," .").concat(Lg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Og," .").concat(Og,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(MH,": ").concat(a,`px;
  }
`)},ZH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,o=L.exports.useMemo(function(){return XH(i)},[i]);return Z(YH,{styles:qH(o,!e,i,n?"":"!important")})},aw=!1;if(typeof window<"u")try{var am=Object.defineProperty({},"passive",{get:function(){return aw=!0,!0}});window.addEventListener("test",am,am),window.removeEventListener("test",am,am)}catch{aw=!1}var hc=aw?{passive:!1}:!1,QH=function(t){return t.tagName==="TEXTAREA"},E3=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!QH(t)&&n[e]==="visible")},KH=function(t){return E3(t,"overflowY")},JH=function(t){return E3(t,"overflowX")},iR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=M3(t,r);if(i){var o=T3(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},e6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},t6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},M3=function(t,e){return t==="v"?KH(e):JH(e)},T3=function(t,e){return t==="v"?e6(e):t6(e)},n6=function(t,e){return t==="h"&&e==="rtl"?-1:1},r6=function(t,e,n,r,i){var o=n6(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),u=!1,d=s>0,h=0,p=0;do{var m=T3(t,a),y=m[0],x=m[1],S=m[2],g=x-S-o*y;(y||g)&&M3(t,a)&&(h+=g,p+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(i&&h===0||!i&&s>h)||!d&&(i&&p===0||!i&&-s>p))&&(u=!0),u},lm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oR=function(t){return[t.deltaX,t.deltaY]},sR=function(t){return t&&"current"in t?t.current:t},i6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},s6=0,pc=[];function a6(t){var e=L.exports.useRef([]),n=L.exports.useRef([0,0]),r=L.exports.useRef(),i=L.exports.useState(s6++)[0],o=L.exports.useState(b3)[0],s=L.exports.useRef(t);L.exports.useEffect(function(){s.current=t},[t]),L.exports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=bH([t.lockRef.current],(t.shards||[]).map(sR),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=L.exports.useCallback(function(x,S){if("touches"in x&&x.touches.length===2)return!s.current.allowPinchZoom;var g=lm(x),_=n.current,w="deltaX"in x?x.deltaX:_[0]-g[0],E="deltaY"in x?x.deltaY:_[1]-g[1],T,P=x.target,A=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in x&&A==="h"&&P.type==="range")return!1;var I=iR(A,P);if(!I)return!0;if(I?T=A:(T=A==="v"?"h":"v",I=iR(A,P)),!I)return!1;if(!r.current&&"changedTouches"in x&&(w||E)&&(r.current=T),!T)return!0;var C=r.current||T;return r6(C,S,x,C==="h"?w:E,!0)},[]),l=L.exports.useCallback(function(x){var S=x;if(!(!pc.length||pc[pc.length-1]!==o)){var g="deltaY"in S?oR(S):lm(S),_=e.current.filter(function(T){return T.name===S.type&&T.target===S.target&&i6(T.delta,g)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var w=(s.current.shards||[]).map(sR).filter(Boolean).filter(function(T){return T.contains(S.target)}),E=w.length>0?a(S,w[0]):!s.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),u=L.exports.useCallback(function(x,S,g,_){var w={name:x,delta:S,target:g,should:_};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),d=L.exports.useCallback(function(x){n.current=lm(x),r.current=void 0},[]),h=L.exports.useCallback(function(x){u(x.type,oR(x),x.target,a(x,t.lockRef.current))},[]),p=L.exports.useCallback(function(x){u(x.type,lm(x),x.target,a(x,t.lockRef.current))},[]);L.exports.useEffect(function(){return pc.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,hc),document.addEventListener("touchmove",l,hc),document.addEventListener("touchstart",d,hc),function(){pc=pc.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,hc),document.removeEventListener("touchmove",l,hc),document.removeEventListener("touchstart",d,hc)}},[]);var m=t.removeScrollBar,y=t.inert;return ut(Dr,{children:[y?Z(o,{styles:o6(i)}):null,m?Z(ZH,{gapMode:t.gapMode}):null]})}const l6=zH(w3,a6);var P3=L.exports.forwardRef(function(t,e){return Z(ty,{...No({},t,{ref:e,sideCar:l6})})});P3.classNames=ty.classNames;const c6=P3;function lw(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function u6(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function f6(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function d6(t,e,n){return lw(t,n)===lw(e,n)}function h6({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var l;n==null||n(a);const u=Array.from(((l=lw(a.currentTarget,t))==null?void 0:l.querySelectorAll(e))||[]).filter(x=>d6(a.currentTarget,x,t)),d=u.findIndex(x=>a.currentTarget===x),h=f6(d,u,r),p=u6(d,u,r),m=o==="rtl"?p:h,y=o==="rtl"?h:p;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[m].focus(),i&&u[m].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[y].focus(),i&&u[y].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[p].focus(),i&&u[p].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const x=u.length-1;!u[x].disabled&&u[x].focus();break}}}}function wE(t){const e=L.exports.createContext(null);return[({children:i,value:o})=>Z(e.Provider,{value:o,children:i}),()=>{const i=L.exports.useContext(e);if(i===null)throw new Error(t);return i}]}function bE(t){return Array.isArray(t)?t:[t]}function aR(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function EE(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==jt.Fragment:!1}function A3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=A3(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function p6(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=A3(e))&&(r&&(r+=" "),r+=n);return r}const R3={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function m6(t){return()=>({fontFamily:t.fontFamily||"sans-serif"})}var g6=Object.defineProperty,lR=Object.getOwnPropertySymbols,v6=Object.prototype.hasOwnProperty,y6=Object.prototype.propertyIsEnumerable,cR=(t,e,n)=>e in t?g6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uR=(t,e)=>{for(var n in e||(e={}))v6.call(e,n)&&cR(t,n,e[n]);if(lR)for(var n of lR(e))y6.call(e,n)&&cR(t,n,e[n]);return t};function _6(t){return e=>({WebkitTapHighlightColor:"transparent",[e||"&:focus"]:uR({},t.focusRing==="always"||t.focusRing==="auto"?t.focusRingStyles.styles(t):t.focusRingStyles.resetStyles(t)),[e?e.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:uR({},t.focusRing==="auto"||t.focusRing==="never"?t.focusRingStyles.resetStyles(t):null)})}function Ah(t){return e=>typeof t.primaryShade=="number"?t.primaryShade:t.primaryShade[e||t.colorScheme]}function ME(t){const e=Ah(t);return(n,r,i=!0,o=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,l]=n.split("."),u=parseInt(l,10);if(a in t.colors&&u>=0&&u<10)return t.colors[a][typeof r=="number"&&!o?r:u]}const s=typeof r=="number"?r:e();return n in t.colors?t.colors[n][s]:i?t.colors[t.primaryColor][s]:n}}function C3(t){let e="";for(let n=1;n<t.length-1;n+=1)e+=`${t[n]} ${n/(t.length-1)*100}%, `;return`${t[0]} 0%, ${e}${t[t.length-1]} 100%`}function x6(t,...e){return`linear-gradient(${t}deg, ${C3(e)})`}function S6(...t){return`radial-gradient(circle, ${C3(t)})`}function L3(t){const e=ME(t),n=Ah(t);return r=>{const i={from:(r==null?void 0:r.from)||t.defaultGradient.from,to:(r==null?void 0:r.to)||t.defaultGradient.to,deg:(r==null?void 0:r.deg)||t.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${e(i.from,n(),!1)} 0%, ${e(i.to,n(),!1)} 100%)`}}function O3(t){return e=>{if(typeof e=="number")return`${e/16}${t}`;if(typeof e=="string"){const n=e.replace("px","");if(!Number.isNaN(Number(n)))return`${Number(n)/16}${t}`}return e}}const ae=O3("rem"),ny=O3("em");function nt({size:t,sizes:e,units:n}){return t in e?e[t]:typeof t=="number"?n==="em"?ny(t):ae(t):t||e.md}function Tu(t){return typeof t=="number"?t:typeof t=="string"&&t.includes("rem")?Number(t.replace("rem",""))*16:typeof t=="string"&&t.includes("em")?Number(t.replace("em",""))*16:Number(t)}function w6(t){return e=>`@media (min-width: ${ny(Tu(nt({size:e,sizes:t.breakpoints})))})`}function b6(t){return e=>`@media (max-width: ${ny(Tu(nt({size:e,sizes:t.breakpoints}))-1)})`}function E6(t){return/^#?([0-9A-F]{3}){1,2}$/i.test(t)}function M6(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function T6(t){const[e,n,r,i]=t.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:e,g:n,b:r,a:i||1}}function TE(t){return E6(t)?M6(t):t.startsWith("rgb")?T6(t):{r:0,g:0,b:0,a:1}}function Vc(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(--"))return t;const{r:n,g:r,b:i}=TE(t);return`rgba(${n}, ${r}, ${i}, ${e})`}function P6(t=0){return{position:"absolute",top:ae(t),right:ae(t),left:ae(t),bottom:ae(t)}}function A6(t,e){if(typeof t=="string"&&t.startsWith("var(--"))return t;const{r:n,g:r,b:i,a:o}=TE(t),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function R6(t,e){if(typeof t=="string"&&t.startsWith("var(--"))return t;const{r:n,g:r,b:i,a:o}=TE(t),s=a=>Math.round(a+(255-a)*e);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`}function C6(t){return e=>{if(typeof e=="number")return ae(e);const n=typeof t.defaultRadius=="number"?t.defaultRadius:t.radius[t.defaultRadius]||t.defaultRadius;return t.radius[e]||e||n}}function L6(t,e){if(typeof t=="string"&&t.includes(".")){const[n,r]=t.split("."),i=parseInt(r,10);if(n in e.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function O6(t){const e=ME(t),n=Ah(t),r=L3(t);return({variant:i,color:o,gradient:s,primaryFallback:a})=>{const l=L6(o,t);switch(i){case"light":return{border:"transparent",background:Vc(e(o,t.colorScheme==="dark"?8:0,a,!1),t.colorScheme==="dark"?.2:1),color:o==="dark"?t.colorScheme==="dark"?t.colors.dark[0]:t.colors.dark[9]:e(o,t.colorScheme==="dark"?2:n("light")),hover:Vc(e(o,t.colorScheme==="dark"?7:1,a,!1),t.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:o==="dark"?t.colorScheme==="dark"?t.colors.dark[0]:t.colors.dark[9]:e(o,t.colorScheme==="dark"?2:n("light")),hover:Vc(e(o,t.colorScheme==="dark"?8:0,a,!1),t.colorScheme==="dark"?.2:1)};case"outline":return{border:e(o,t.colorScheme==="dark"?5:n("light")),background:"transparent",color:e(o,t.colorScheme==="dark"?5:n("light")),hover:t.colorScheme==="dark"?Vc(e(o,5,a,!1),.05):Vc(e(o,0,a,!1),.35)};case"default":return{border:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[4],background:t.colorScheme==="dark"?t.colors.dark[6]:t.white,color:t.colorScheme==="dark"?t.white:t.black,hover:t.colorScheme==="dark"?t.colors.dark[5]:t.colors.gray[0]};case"white":return{border:"transparent",background:t.white,color:e(o,n()),hover:null};case"transparent":return{border:"transparent",color:o==="dark"?t.colorScheme==="dark"?t.colors.dark[0]:t.colors.dark[9]:e(o,t.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(s),color:t.white,border:"transparent",hover:null};default:{const u=n(),d=l.isSplittedColor?l.shade:u,h=l.isSplittedColor?l.key:o;return{border:"transparent",background:e(h,d,a),color:t.white,hover:e(h,d===9?8:d+1)}}}}}function I6(t){return e=>{const n=Ah(t)(e);return t.colors[t.primaryColor][n]}}function N6(t){return{"@media (hover: hover)":{"&:hover":t},"@media (hover: none)":{"&:active":t}}}function D6(t){return()=>({userSelect:"none",color:t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[5]})}function k6(t){return()=>t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]}const Gn={fontStyles:m6,themeColor:ME,focusStyles:_6,linearGradient:x6,radialGradient:S6,smallerThan:b6,largerThan:w6,rgba:Vc,cover:P6,darken:A6,lighten:R6,radius:C6,variant:O6,primaryShade:Ah,hover:N6,gradient:L3,primaryColor:I6,placeholderStyles:D6,dimmed:k6};var U6=Object.defineProperty,z6=Object.defineProperties,F6=Object.getOwnPropertyDescriptors,fR=Object.getOwnPropertySymbols,B6=Object.prototype.hasOwnProperty,V6=Object.prototype.propertyIsEnumerable,dR=(t,e,n)=>e in t?U6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$6=(t,e)=>{for(var n in e||(e={}))B6.call(e,n)&&dR(t,n,e[n]);if(fR)for(var n of fR(e))V6.call(e,n)&&dR(t,n,e[n]);return t},H6=(t,e)=>z6(t,F6(e));function I3(t){return H6($6({},t),{fn:{fontStyles:Gn.fontStyles(t),themeColor:Gn.themeColor(t),focusStyles:Gn.focusStyles(t),largerThan:Gn.largerThan(t),smallerThan:Gn.smallerThan(t),radialGradient:Gn.radialGradient,linearGradient:Gn.linearGradient,gradient:Gn.gradient(t),rgba:Gn.rgba,cover:Gn.cover,lighten:Gn.lighten,darken:Gn.darken,primaryShade:Gn.primaryShade(t),radius:Gn.radius(t),variant:Gn.variant(t),hover:Gn.hover,primaryColor:Gn.primaryColor(t),placeholderStyles:Gn.placeholderStyles(t),dimmed:Gn.dimmed(t)}})}Object.keys(R3);const W6={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:R3,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1)",sm:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 0.625rem 0.9375rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.4375rem 0.4375rem -0.3125rem",md:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.25rem 1.5625rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.625rem 0.625rem -0.3125rem",lg:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.75rem 1.4375rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 0.75rem 0.75rem -0.4375rem",xl:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 2.25rem 1.75rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 1.0625rem 1.0625rem -0.4375rem"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},radius:{xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"2rem"},spacing:{xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:"2.125rem",lineHeight:1.3,fontWeight:void 0},h2:{fontSize:"1.625rem",lineHeight:1.35,fontWeight:void 0},h3:{fontSize:"1.375rem",lineHeight:1.4,fontWeight:void 0},h4:{fontSize:"1.125rem",lineHeight:1.45,fontWeight:void 0},h5:{fontSize:"1rem",lineHeight:1.5,fontWeight:void 0},h6:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(0.0625rem)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:t=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${t.colors[t.primaryColor][t.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:t=>({outline:"none",borderColor:t.colors[t.primaryColor][typeof t.primaryShade=="object"?t.primaryShade[t.colorScheme]:t.primaryShade]})}},PE=I3(W6);function G6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function j6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var X6=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(j6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=G6(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Sr="-ms-",wv="-moz-",Yt="-webkit-",N3="comm",AE="rule",RE="decl",Y6="@import",D3="@keyframes",q6="@layer",Z6=Math.abs,ry=String.fromCharCode,Q6=Object.assign;function K6(t,e){return ar(t,0)^45?(((e<<2^ar(t,0))<<2^ar(t,1))<<2^ar(t,2))<<2^ar(t,3):0}function k3(t){return t.trim()}function J6(t,e){return(t=e.exec(t))?t[0]:t}function qt(t,e,n){return t.replace(e,n)}function cw(t,e){return t.indexOf(e)}function ar(t,e){return t.charCodeAt(e)|0}function Jd(t,e,n){return t.slice(e,n)}function Co(t){return t.length}function CE(t){return t.length}function cm(t,e){return e.push(t),t}function e8(t,e){return t.map(e).join("")}var iy=1,Pu=1,U3=0,Kr=0,Vn=0,Xu="";function oy(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:iy,column:Pu,length:s,return:""}}function Bf(t,e){return Q6(oy("",null,null,"",null,null,0),t,{length:-t.length},e)}function t8(){return Vn}function n8(){return Vn=Kr>0?ar(Xu,--Kr):0,Pu--,Vn===10&&(Pu=1,iy--),Vn}function mi(){return Vn=Kr<U3?ar(Xu,Kr++):0,Pu++,Vn===10&&(Pu=1,iy++),Vn}function Fo(){return ar(Xu,Kr)}function Ig(){return Kr}function Rh(t,e){return Jd(Xu,t,e)}function eh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z3(t){return iy=Pu=1,U3=Co(Xu=t),Kr=0,[]}function F3(t){return Xu="",t}function Ng(t){return k3(Rh(Kr-1,uw(t===91?t+2:t===40?t+1:t)))}function r8(t){for(;(Vn=Fo())&&Vn<33;)mi();return eh(t)>2||eh(Vn)>3?"":" "}function i8(t,e){for(;--e&&mi()&&!(Vn<48||Vn>102||Vn>57&&Vn<65||Vn>70&&Vn<97););return Rh(t,Ig()+(e<6&&Fo()==32&&mi()==32))}function uw(t){for(;mi();)switch(Vn){case t:return Kr;case 34:case 39:t!==34&&t!==39&&uw(Vn);break;case 40:t===41&&uw(t);break;case 92:mi();break}return Kr}function o8(t,e){for(;mi()&&t+Vn!==47+10;)if(t+Vn===42+42&&Fo()===47)break;return"/*"+Rh(e,Kr-1)+"*"+ry(t===47?t:mi())}function s8(t){for(;!eh(Fo());)mi();return Rh(t,Kr)}function a8(t){return F3(Dg("",null,null,null,[""],t=z3(t),0,[0],t))}function Dg(t,e,n,r,i,o,s,a,l){for(var u=0,d=0,h=s,p=0,m=0,y=0,x=1,S=1,g=1,_=0,w="",E=i,T=o,P=r,A=w;S;)switch(y=_,_=mi()){case 40:if(y!=108&&ar(A,h-1)==58){cw(A+=qt(Ng(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:A+=Ng(_);break;case 9:case 10:case 13:case 32:A+=r8(y);break;case 92:A+=i8(Ig()-1,7);continue;case 47:switch(Fo()){case 42:case 47:cm(l8(o8(mi(),Ig()),e,n),l);break;default:A+="/"}break;case 123*x:a[u++]=Co(A)*g;case 125*x:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+d:g==-1&&(A=qt(A,/\f/g,"")),m>0&&Co(A)-h&&cm(m>32?pR(A+";",r,n,h-1):pR(qt(A," ","")+";",r,n,h-2),l);break;case 59:A+=";";default:if(cm(P=hR(A,e,n,u,d,i,a,w,E=[],T=[],h),o),_===123)if(d===0)Dg(A,e,P,P,E,o,h,a,T);else switch(p===99&&ar(A,3)===110?100:p){case 100:case 108:case 109:case 115:Dg(t,P,P,r&&cm(hR(t,P,P,0,0,i,a,w,i,E=[],h),T),i,T,h,a,r?E:T);break;default:Dg(A,P,P,P,[""],T,0,a,T)}}u=d=m=0,x=g=1,w=A="",h=s;break;case 58:h=1+Co(A),m=y;default:if(x<1){if(_==123)--x;else if(_==125&&x++==0&&n8()==125)continue}switch(A+=ry(_),_*x){case 38:g=d>0?1:(A+="\f",-1);break;case 44:a[u++]=(Co(A)-1)*g,g=1;break;case 64:Fo()===45&&(A+=Ng(mi())),p=Fo(),d=h=Co(w=A+=s8(Ig())),_++;break;case 45:y===45&&Co(A)==2&&(x=0)}}return o}function hR(t,e,n,r,i,o,s,a,l,u,d){for(var h=i-1,p=i===0?o:[""],m=CE(p),y=0,x=0,S=0;y<r;++y)for(var g=0,_=Jd(t,h+1,h=Z6(x=s[y])),w=t;g<m;++g)(w=k3(x>0?p[g]+" "+_:qt(_,/&\f/g,p[g])))&&(l[S++]=w);return oy(t,e,n,i===0?AE:a,l,u,d)}function l8(t,e,n){return oy(t,e,n,N3,ry(t8()),Jd(t,2,-2),0)}function pR(t,e,n,r){return oy(t,e,n,RE,Jd(t,0,r),Jd(t,r+1,-1),r)}function hu(t,e){for(var n="",r=CE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function c8(t,e,n,r){switch(t.type){case q6:if(t.children.length)break;case Y6:case RE:return t.return=t.return||t.value;case N3:return"";case D3:return t.return=t.value+"{"+hu(t.children,r)+"}";case AE:t.value=t.props.join(",")}return Co(n=hu(t.children,r))?t.return=t.value+"{"+n+"}":""}function u8(t){var e=CE(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function f8(t){return function(e){e.root||(e=e.return)&&t(e)}}var mR=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function d8(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var h8=function(e,n,r){for(var i=0,o=0;i=o,o=Fo(),i===38&&o===12&&(n[r]=1),!eh(o);)mi();return Rh(e,Kr)},p8=function(e,n){var r=-1,i=44;do switch(eh(i)){case 0:i===38&&Fo()===12&&(n[r]=1),e[r]+=h8(Kr-1,n,r);break;case 2:e[r]+=Ng(i);break;case 4:if(i===44){e[++r]=Fo()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ry(i)}while(i=mi());return e},m8=function(e,n){return F3(p8(z3(e),n))},gR=new WeakMap,g8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gR.get(r))&&!i){gR.set(e,!0);for(var o=[],s=m8(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},v8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function B3(t,e){switch(K6(t,e)){case 5103:return Yt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+t+wv+t+Sr+t+t;case 6828:case 4268:return Yt+t+Sr+t+t;case 6165:return Yt+t+Sr+"flex-"+t+t;case 5187:return Yt+t+qt(t,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+Sr+"flex-$1$2")+t;case 5443:return Yt+t+Sr+"flex-item-"+qt(t,/flex-|-self/,"")+t;case 4675:return Yt+t+Sr+"flex-line-pack"+qt(t,/align-content|flex-|-self/,"")+t;case 5548:return Yt+t+Sr+qt(t,"shrink","negative")+t;case 5292:return Yt+t+Sr+qt(t,"basis","preferred-size")+t;case 6060:return Yt+"box-"+qt(t,"-grow","")+Yt+t+Sr+qt(t,"grow","positive")+t;case 4554:return Yt+qt(t,/([^-])(transform)/g,"$1"+Yt+"$2")+t;case 6187:return qt(qt(qt(t,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),t,"")+t;case 5495:case 3959:return qt(t,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return qt(qt(t,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+Sr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+t+t;case 4095:case 3583:case 4068:case 2532:return qt(t,/(.+)-inline(.+)/,Yt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Co(t)-1-e>6)switch(ar(t,e+1)){case 109:if(ar(t,e+4)!==45)break;case 102:return qt(t,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+wv+(ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cw(t,"stretch")?B3(qt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ar(t,e+1)!==115)break;case 6444:switch(ar(t,Co(t)-3-(~cw(t,"!important")&&10))){case 107:return qt(t,":",":"+Yt)+t;case 101:return qt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yt+(ar(t,14)===45?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+Sr+"$2box$3")+t}break;case 5936:switch(ar(t,e+11)){case 114:return Yt+t+Sr+qt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Yt+t+Sr+qt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Yt+t+Sr+qt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Yt+t+Sr+t+t}return t}var y8=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case RE:e.return=B3(e.value,e.length);break;case D3:return hu([Bf(e,{value:qt(e.value,"@","@"+Yt)})],i);case AE:if(e.length)return e8(e.props,function(o){switch(J6(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hu([Bf(e,{props:[qt(o,/:(read-\w+)/,":"+wv+"$1")]})],i);case"::placeholder":return hu([Bf(e,{props:[qt(o,/:(plac\w+)/,":"+Yt+"input-$1")]}),Bf(e,{props:[qt(o,/:(plac\w+)/,":"+wv+"$1")]}),Bf(e,{props:[qt(o,/:(plac\w+)/,Sr+"input-$1")]})],i)}return""})}},_8=[y8],V3=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var S=x.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||_8,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var S=x.getAttribute("data-emotion").split(" "),g=1;g<S.length;g++)o[S[g]]=!0;a.push(x)});var l,u=[g8,v8];{var d,h=[c8,f8(function(x){d.insert(x)})],p=u8(u.concat(i,h)),m=function(S){return hu(a8(S),p)};l=function(S,g,_,w){d=_,m(S?S+"{"+g.styles+"}":g.styles),w&&(y.inserted[g.name]=!0)}}var y={key:n,sheet:new X6({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return y.sheet.hydrate(a),y};function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}var $3={exports:{}},en={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr=typeof Symbol=="function"&&Symbol.for,LE=rr?Symbol.for("react.element"):60103,OE=rr?Symbol.for("react.portal"):60106,sy=rr?Symbol.for("react.fragment"):60107,ay=rr?Symbol.for("react.strict_mode"):60108,ly=rr?Symbol.for("react.profiler"):60114,cy=rr?Symbol.for("react.provider"):60109,uy=rr?Symbol.for("react.context"):60110,IE=rr?Symbol.for("react.async_mode"):60111,fy=rr?Symbol.for("react.concurrent_mode"):60111,dy=rr?Symbol.for("react.forward_ref"):60112,hy=rr?Symbol.for("react.suspense"):60113,x8=rr?Symbol.for("react.suspense_list"):60120,py=rr?Symbol.for("react.memo"):60115,my=rr?Symbol.for("react.lazy"):60116,S8=rr?Symbol.for("react.block"):60121,w8=rr?Symbol.for("react.fundamental"):60117,b8=rr?Symbol.for("react.responder"):60118,E8=rr?Symbol.for("react.scope"):60119;function xi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LE:switch(t=t.type,t){case IE:case fy:case sy:case ly:case ay:case hy:return t;default:switch(t=t&&t.$$typeof,t){case uy:case dy:case my:case py:case cy:return t;default:return e}}case OE:return e}}}function H3(t){return xi(t)===fy}en.AsyncMode=IE;en.ConcurrentMode=fy;en.ContextConsumer=uy;en.ContextProvider=cy;en.Element=LE;en.ForwardRef=dy;en.Fragment=sy;en.Lazy=my;en.Memo=py;en.Portal=OE;en.Profiler=ly;en.StrictMode=ay;en.Suspense=hy;en.isAsyncMode=function(t){return H3(t)||xi(t)===IE};en.isConcurrentMode=H3;en.isContextConsumer=function(t){return xi(t)===uy};en.isContextProvider=function(t){return xi(t)===cy};en.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LE};en.isForwardRef=function(t){return xi(t)===dy};en.isFragment=function(t){return xi(t)===sy};en.isLazy=function(t){return xi(t)===my};en.isMemo=function(t){return xi(t)===py};en.isPortal=function(t){return xi(t)===OE};en.isProfiler=function(t){return xi(t)===ly};en.isStrictMode=function(t){return xi(t)===ay};en.isSuspense=function(t){return xi(t)===hy};en.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sy||t===fy||t===ly||t===ay||t===hy||t===x8||typeof t=="object"&&t!==null&&(t.$$typeof===my||t.$$typeof===py||t.$$typeof===cy||t.$$typeof===uy||t.$$typeof===dy||t.$$typeof===w8||t.$$typeof===b8||t.$$typeof===E8||t.$$typeof===S8)};en.typeOf=xi;(function(t){t.exports=en})($3);var W3=$3.exports,M8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G3={};G3[W3.ForwardRef]=M8;G3[W3.Memo]=T8;var P8=!0;function A8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var R8=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||P8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},j3=function(e,n,r){R8(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function C8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var L8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},O8=/[A-Z]|^ms/g,I8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,X3=function(e){return e.charCodeAt(1)===45},vR=function(e){return e!=null&&typeof e!="boolean"},oS=d8(function(t){return X3(t)?t:t.replace(O8,"-$&").toLowerCase()}),yR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(I8,function(r,i,o){return Lo={name:i,styles:o,next:Lo},i})}return L8[e]!==1&&!X3(e)&&typeof n=="number"&&n!==0?n+"px":n};function th(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Lo={name:n.name,styles:n.styles,next:Lo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Lo={name:r.name,styles:r.styles,next:Lo},r=r.next;var i=n.styles+";";return i}return N8(t,e,n)}case"function":{if(t!==void 0){var o=Lo,s=n(t);return Lo=o,th(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function N8(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=th(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":vR(s)&&(r+=oS(o)+":"+yR(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)vR(s[a])&&(r+=oS(o)+":"+yR(o,s[a])+";");else{var l=th(t,e,s);switch(o){case"animation":case"animationName":{r+=oS(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var _R=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Lo,Y3=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Lo=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=th(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=th(r,n,e[a]),i&&(o+=s[a]);_R.lastIndex=0;for(var l="",u;(u=_R.exec(o))!==null;)l+="-"+u[1];var d=C8(o)+l;return{name:d,styles:o,next:Lo}},D8=Qg["useInsertionEffect"]?Qg["useInsertionEffect"]:!1,xR=D8||L.exports.useLayoutEffect,q3=L.exports.createContext(typeof HTMLElement<"u"?V3({key:"css"}):null);q3.Provider;var k8=function(e){return L.exports.forwardRef(function(n,r){var i=L.exports.useContext(q3);return e(n,i,r)})},fw=L.exports.createContext({}),U8=function(e,n){if(typeof n=="function"){var r=n(e);return r}return yn({},e,n)},z8=mR(function(t){return mR(function(e){return U8(t,e)})}),F8=function(e){var n=L.exports.useContext(fw);return e.theme!==n&&(n=z8(n)(e.theme)),Z(fw.Provider,{value:n,children:e.children})},gy=k8(function(t,e){var n=t.styles,r=Y3([n],void 0,L.exports.useContext(fw)),i=L.exports.useRef();return xR(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),xR(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&j3(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null}),B8=Object.defineProperty,V8=Object.defineProperties,$8=Object.getOwnPropertyDescriptors,SR=Object.getOwnPropertySymbols,H8=Object.prototype.hasOwnProperty,W8=Object.prototype.propertyIsEnumerable,wR=(t,e,n)=>e in t?B8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G8=(t,e)=>{for(var n in e||(e={}))H8.call(e,n)&&wR(t,n,e[n]);if(SR)for(var n of SR(e))W8.call(e,n)&&wR(t,n,e[n]);return t},j8=(t,e)=>V8(t,$8(e));function X8({theme:t}){return Z(gy,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:t.colorScheme==="dark"?"dark":"light"},body:j8(G8({},t.fn.fontStyles()),{backgroundColor:t.colorScheme==="dark"?t.colors.dark[7]:t.white,color:t.colorScheme==="dark"?t.colors.dark[0]:t.black,lineHeight:t.lineHeight,fontSize:t.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function Vf(t,e,n,r=ae){Object.keys(e).forEach(i=>{t[`--mantine-${n}-${i}`]=r(e[i])})}function Y8({theme:t}){const e={"--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-transition-timing-function":t.transitionTimingFunction,"--mantine-line-height":`${t.lineHeight}`,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":`${t.headings.fontWeight}`};Vf(e,t.shadows,"shadow"),Vf(e,t.fontSizes,"font-size"),Vf(e,t.radius,"radius"),Vf(e,t.spacing,"spacing"),Vf(e,t.breakpoints,"breakpoints",ny),Object.keys(t.colors).forEach(r=>{t.colors[r].forEach((i,o)=>{e[`--mantine-color-${r}-${o}`]=i})});const n=t.headings.sizes;return Object.keys(n).forEach(r=>{e[`--mantine-${r}-font-size`]=n[r].fontSize,e[`--mantine-${r}-line-height`]=`${n[r].lineHeight}`}),Z(gy,{styles:{":root":e}})}var q8=Object.defineProperty,Z8=Object.defineProperties,Q8=Object.getOwnPropertyDescriptors,bR=Object.getOwnPropertySymbols,K8=Object.prototype.hasOwnProperty,J8=Object.prototype.propertyIsEnumerable,ER=(t,e,n)=>e in t?q8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ao=(t,e)=>{for(var n in e||(e={}))K8.call(e,n)&&ER(t,n,e[n]);if(bR)for(var n of bR(e))J8.call(e,n)&&ER(t,n,e[n]);return t},sS=(t,e)=>Z8(t,Q8(e));function eW(t,e){var n;if(!e)return t;const r=Object.keys(t).reduce((i,o)=>{if(o==="headings"&&e.headings){const s=e.headings.sizes?Object.keys(t.headings.sizes).reduce((a,l)=>(a[l]=Ao(Ao({},t.headings.sizes[l]),e.headings.sizes[l]),a),{}):t.headings.sizes;return sS(Ao({},i),{headings:sS(Ao(Ao({},t.headings),e.headings),{sizes:s})})}if(o==="breakpoints"&&e.breakpoints){const s=Ao(Ao({},t.breakpoints),e.breakpoints);return sS(Ao({},i),{breakpoints:Object.fromEntries(Object.entries(s).sort((a,l)=>Tu(a[1])-Tu(l[1])))})}return i[o]=typeof e[o]=="object"?Ao(Ao({},t[o]),e[o]):typeof e[o]=="number"||typeof e[o]=="boolean"||typeof e[o]=="function"?e[o]:e[o]||t[o],i},{});if((e==null?void 0:e.fontFamily)&&!((n=e==null?void 0:e.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=e.fontFamily),!(r.primaryColor in r.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more \u2013 https://mantine.dev/theming/colors/#primary-color");return r}function tW(t,e){return I3(eW(t,e))}function Z3(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}const nW={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:`${ae(1)} dotted ButtonText`},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"}};function rW(){return Z(gy,{styles:nW})}var iW=Object.defineProperty,MR=Object.getOwnPropertySymbols,oW=Object.prototype.hasOwnProperty,sW=Object.prototype.propertyIsEnumerable,TR=(t,e,n)=>e in t?iW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Td=(t,e)=>{for(var n in e||(e={}))oW.call(e,n)&&TR(t,n,e[n]);if(MR)for(var n of MR(e))sW.call(e,n)&&TR(t,n,e[n]);return t};const bv=L.exports.createContext({theme:PE});function ho(){var t;return((t=L.exports.useContext(bv))==null?void 0:t.theme)||PE}function aW(t){const e=ho(),n=r=>{var i,o,s,a;return{styles:((i=e.components[r])==null?void 0:i.styles)||{},classNames:((o=e.components[r])==null?void 0:o.classNames)||{},variants:(s=e.components[r])==null?void 0:s.variants,sizes:(a=e.components[r])==null?void 0:a.sizes}};return Array.isArray(t)?t.map(n):[n(t)]}function Q3(){var t;return(t=L.exports.useContext(bv))==null?void 0:t.emotionCache}function Tt(t,e,n){var r;const i=ho(),o=(r=i.components[t])==null?void 0:r.defaultProps,s=typeof o=="function"?o(i):o;return Td(Td(Td({},e),s),Z3(n))}function K3({theme:t,emotionCache:e,withNormalizeCSS:n=!1,withGlobalStyles:r=!1,withCSSVariables:i=!1,inherit:o=!1,children:s}){const a=L.exports.useContext(bv),l=tW(PE,o?Td(Td({},a.theme),t):t);return Z(F8,{theme:l,children:ut(bv.Provider,{value:{theme:l,emotionCache:e},children:[n&&Z(rW,{}),r&&Z(X8,{theme:l}),i&&Z(Y8,{theme:l}),typeof l.globalStyles=="function"&&Z(gy,{styles:l.globalStyles(l)}),s]})})}K3.displayName="@mantine/core/MantineProvider";const lW={app:100,modal:200,popover:300,overlay:400,max:9999};function vy(t){return lW[t]}function cW(t,e){const n=L.exports.useRef();return(!n.current||e.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===e[i]).indexOf(!1)>=0)&&(n.current={v:t(),prevDeps:[...e]}),n.current.v}const uW=V3({key:"mantine",prepend:!0});function fW(){return Q3()||uW}var dW=Object.defineProperty,PR=Object.getOwnPropertySymbols,hW=Object.prototype.hasOwnProperty,pW=Object.prototype.propertyIsEnumerable,AR=(t,e,n)=>e in t?dW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mW=(t,e)=>{for(var n in e||(e={}))hW.call(e,n)&&AR(t,n,e[n]);if(PR)for(var n of PR(e))pW.call(e,n)&&AR(t,n,e[n]);return t};const aS="ref";function gW(t){let e;if(t.length!==1)return{args:t,ref:e};const[n]=t;if(!(n instanceof Object))return{args:t,ref:e};if(!(aS in n))return{args:t,ref:e};e=n[aS];const r=mW({},n);return delete r[aS],{args:[r],ref:e}}const{cssFactory:vW}=(()=>{function t(n,r,i){const o=[],s=A8(n,o,i);return o.length<2?i:s+r(o)}function e(n){const{cache:r}=n,i=(...s)=>{const{ref:a,args:l}=gW(s),u=Y3(l,r.registered);return j3(r,u,!1),`${r.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...s)=>t(r.registered,i,p6(s))}}return{cssFactory:e}})();function J3(){const t=fW();return cW(()=>vW({cache:t}),[t])}function yW({cx:t,classes:e,context:n,classNames:r,name:i,cache:o}){const s=n.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(e).reduce((a,l)=>(a[l]=t(e[l],s[l],r!=null&&r[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(o==null?void 0:o.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(o==null?void 0:o.key)||"mantine"}-${i}-${l}`:null),a),{})}var _W=Object.defineProperty,RR=Object.getOwnPropertySymbols,xW=Object.prototype.hasOwnProperty,SW=Object.prototype.propertyIsEnumerable,CR=(t,e,n)=>e in t?_W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lS=(t,e)=>{for(var n in e||(e={}))xW.call(e,n)&&CR(t,n,e[n]);if(RR)for(var n of RR(e))SW.call(e,n)&&CR(t,n,e[n]);return t};function dw(t,e){return e&&Object.keys(e).forEach(n=>{t[n]?t[n]=lS(lS({},t[n]),e[n]):t[n]=lS({},e[n])}),t}function LR(t,e,n,r){const i=o=>typeof o=="function"?o(e,n||{},r):o||{};return Array.isArray(t)?t.map(o=>i(o.styles)).reduce((o,s)=>dw(o,s),{}):i(t)}function wW({ctx:t,theme:e,params:n,variant:r,size:i}){return t.reduce((o,s)=>(s.variants&&r in s.variants&&dw(o,s.variants[r](e,n,{variant:r,size:i})),s.sizes&&i in s.sizes&&dw(o,s.sizes[i](e,n,{variant:r,size:i})),o),{})}function Lt(t){const e=typeof t=="function"?t:()=>t;function n(r,i){const o=ho(),s=aW(i==null?void 0:i.name),a=Q3(),l={variant:i==null?void 0:i.variant,size:i==null?void 0:i.size},{css:u,cx:d}=J3(),h=e(o,r,l),p=LR(i==null?void 0:i.styles,o,r,l),m=LR(s,o,r,l),y=wW({ctx:s,theme:o,params:r,variant:i==null?void 0:i.variant,size:i==null?void 0:i.size}),x=Object.fromEntries(Object.keys(h).map(S=>{const g=d({[u(h[S])]:!(i!=null&&i.unstyled)},u(y[S]),u(m[S]),u(p[S]));return[S,g]}));return{classes:yW({cx:d,classes:x,context:s,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:d,theme:o}}return n}function al(t){return`___ref-${t||""}`}var bW=Object.defineProperty,EW=Object.defineProperties,MW=Object.getOwnPropertyDescriptors,OR=Object.getOwnPropertySymbols,TW=Object.prototype.hasOwnProperty,PW=Object.prototype.propertyIsEnumerable,IR=(t,e,n)=>e in t?bW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$f=(t,e)=>{for(var n in e||(e={}))TW.call(e,n)&&IR(t,n,e[n]);if(OR)for(var n of OR(e))PW.call(e,n)&&IR(t,n,e[n]);return t},Hf=(t,e)=>EW(t,MW(e));const Wf={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${ae(10)})`},transitionProperty:"transform, opacity"},um={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${ae(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${ae(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${ae(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${ae(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Hf($f({},Wf),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Hf($f({},Wf),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Hf($f({},Wf),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Hf($f({},Wf),{common:{transformOrigin:"top left"}}),"pop-top-right":Hf($f({},Wf),{common:{transformOrigin:"top right"}})};function AW(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function RW(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function CW(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=L.exports.useState(n?e:RW(t,e)),o=L.exports.useRef();return L.exports.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(t),i(o.current.matches),AW(o.current,s=>i(s.matches))},[t]),r}function ga(t,e,n){return Math.min(Math.max(t,e),n)}const yy=typeof document<"u"?L.exports.useLayoutEffect:L.exports.useEffect;function nh(t,e){const n=L.exports.useRef(!1);L.exports.useEffect(()=>()=>{n.current=!1},[]),L.exports.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function LW({opened:t,shouldReturnFocus:e=!0}){const n=L.exports.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return nh(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[t,e]),r}const OW=/input|select|textarea|button|object/,eD="a, input, select, textarea, button, object, [tabindex]";function IW(t){return t.style.display==="none"}function NW(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(IW(n))return!1;n=n.parentNode}return!0}function tD(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function hw(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(tD(t));return(OW.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&NW(t)}function nD(t){const e=tD(t);return(Number.isNaN(e)||e>=0)&&hw(t)}function DW(t){return Array.from(t.querySelectorAll(eD)).filter(nD)}function kW(t,e){const n=DW(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();if(!(r===i.activeElement||t===i.activeElement))return;e.preventDefault();const s=n[e.shiftKey?n.length-1:0];s&&s.focus()}function rD(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function UW(t,e="body > :not(script)"){const n=rD(),r=Array.from(document.querySelectorAll(e)).map(i=>{var o;if(((o=i==null?void 0:i.shadowRoot)==null?void 0:o.contains(t))||i.contains(t))return;const s=i.getAttribute("aria-hidden"),a=i.getAttribute("data-hidden"),l=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!a&&!l&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:a||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}function zW(t=!0){const e=L.exports.useRef(),n=L.exports.useRef(null),r=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(eD));s=a.find(nD)||a.find(hw)||null,!s&&hw(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=L.exports.useCallback(o=>{if(!!t){if(o===null){n.current&&(n.current(),n.current=null);return}n.current=UW(o),e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),e.current=o):e.current=null)}},[t]);return L.exports.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const o=s=>{s.key==="Tab"&&e.current&&kW(e.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),n.current&&n.current()}},[t]),i}const FW=jt["useId".toString()]||(()=>{});function BW(){const t=FW();return t?`mantine-${t.replace(/:/g,"")}`:""}function Ch(t){const e=BW(),[n,r]=L.exports.useState(e);return yy(()=>{r(rD())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function VW(t,e,n){L.exports.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function iD(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function $W(...t){return e=>{t.forEach(n=>iD(n,e))}}function Yu(...t){return L.exports.useCallback($W(...t),t)}function HW(t,e,n="ltr"){const r=L.exports.useRef(),i=L.exports.useRef(!1),o=L.exports.useRef(!1),s=L.exports.useRef(0),[a,l]=L.exports.useState(!1);return L.exports.useEffect(()=>{i.current=!0},[]),L.exports.useEffect(()=>{const u=({x:_,y:w})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const E=r.current.getBoundingClientRect();if(E.width&&E.height){const T=ga((_-E.left)/E.width,0,1);t({x:n==="ltr"?T:1-T,y:ga((w-E.top)/E.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",x),document.addEventListener("mouseup",m),document.addEventListener("touchmove",g),document.addEventListener("touchend",m)},h=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",m)},p=()=>{!o.current&&i.current&&(o.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),l(!0),d())},m=()=>{o.current&&i.current&&(o.current=!1,l(!1),h(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},y=_=>{p(),_.preventDefault(),x(_)},x=_=>u({x:_.clientX,y:_.clientY}),S=_=>{_.cancelable&&_.preventDefault(),p(),g(_)},g=_=>{_.cancelable&&_.preventDefault(),u({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",y),r.current.addEventListener("touchstart",S,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",y),r.current.removeEventListener("touchstart",S))}},[n,t]),{ref:r,active:a}}function NE({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,o]=L.exports.useState(e!==void 0?e:n),s=a=>{o(a),r==null||r(a)};return t!==void 0?[t,r,!0]:[i,s,!1]}function DE(t,e){return CW("(prefers-reduced-motion: reduce)",t,e)}const WW={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function GW(){const t=L.exports.useRef(0),e=L.exports.useRef(null),[n,r]=L.exports.useState(WW),i=L.exports.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const s=o[0];s&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{e.current&&r(s.contentRect)}))}):null,[]);return L.exports.useEffect(()=>(e.current&&i.observe(e.current),()=>{i.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[e.current]),[e,n]}function NR(){if(typeof window>"u")return"undetermined";const{userAgent:t}=window.navigator,e=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return e.test(t)?"macos":r.test(t)?"ios":n.test(t)?"windows":/Android/i.test(t)?"android":/Linux/i.test(t)?"linux":"undetermined"}function jW(t={getValueInEffect:!0}){const[e,n]=L.exports.useState(t.getValueInEffect?"undetermined":NR());return yy(()=>{t.getValueInEffect&&n(NR)},[]),e}function XW(t=!1,e){const{onOpen:n,onClose:r}=e||{},[i,o]=L.exports.useState(t),s=L.exports.useCallback(()=>{o(u=>u||(n==null||n(),!0))},[n]),a=L.exports.useCallback(()=>{o(u=>u&&(r==null||r(),!1))},[r]),l=L.exports.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}var DR=Object.getOwnPropertySymbols,YW=Object.prototype.hasOwnProperty,qW=Object.prototype.propertyIsEnumerable,ZW=(t,e)=>{var n={};for(var r in t)YW.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&DR)for(var r of DR(t))e.indexOf(r)<0&&qW.call(t,r)&&(n[r]=t[r]);return n};function kE(t){const e=t,{m:n,mx:r,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:d,py:h,pt:p,pb:m,pl:y,pr:x,bg:S,c:g,opacity:_,ff:w,fz:E,fw:T,lts:P,ta:A,lh:I,fs:C,tt:O,td:B,w:ee,miw:V,maw:F,h:J,mih:re,mah:ne,bgsz:U,bgp:K,bgr:W,bga:G,pos:N,top:te,left:D,bottom:ue,right:ce,inset:Pe,display:Ae}=e,Re=ZW(e,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:Z3({m:n,mx:r,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:d,py:h,pt:p,pb:m,pl:y,pr:x,bg:S,c:g,opacity:_,ff:w,fz:E,fw:T,lts:P,ta:A,lh:I,fs:C,tt:O,td:B,w:ee,miw:V,maw:F,h:J,mih:re,mah:ne,bgsz:U,bgp:K,bgr:W,bga:G,pos:N,top:te,left:D,bottom:ue,right:ce,inset:Pe,display:Ae}),rest:Re}}function QW(t,e){const n=Object.keys(t).filter(r=>r!=="base").sort((r,i)=>Tu(nt({size:r,sizes:e.breakpoints}))-Tu(nt({size:i,sizes:e.breakpoints})));return"base"in t?["base",...n]:n}function KW({value:t,theme:e,getValue:n,property:r}){if(t==null)return;if(typeof t=="object")return QW(t,e).reduce((s,a)=>{if(a==="base"&&t.base!==void 0){const u=n(t.base,e);return Array.isArray(r)?(r.forEach(d=>{s[d]=u}),s):(s[r]=u,s)}const l=n(t[a],e);return Array.isArray(r)?(s[e.fn.largerThan(a)]={},r.forEach(u=>{s[e.fn.largerThan(a)][u]=l}),s):(s[e.fn.largerThan(a)]={[r]:l},s)},{});const i=n(t,e);return Array.isArray(r)?r.reduce((o,s)=>(o[s]=i,o),{}):{[r]:i}}function JW(t,e){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:e.fn.variant({variant:"filled",color:t,primaryFallback:!1}).background}function eG(t){return ae(t)}function tG(t){return t}function nG(t,e){return nt({size:t,sizes:e.fontSizes})}const rG=["-xs","-sm","-md","-lg","-xl"];function iG(t,e){return rG.includes(t)?`calc(${nt({size:t.replace("-",""),sizes:e.spacing})} * -1)`:nt({size:t,sizes:e.spacing})}const oG={identity:tG,color:JW,size:eG,fontSize:nG,spacing:iG},sG={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var aG=Object.defineProperty,kR=Object.getOwnPropertySymbols,lG=Object.prototype.hasOwnProperty,cG=Object.prototype.propertyIsEnumerable,UR=(t,e,n)=>e in t?aG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zR=(t,e)=>{for(var n in e||(e={}))lG.call(e,n)&&UR(t,n,e[n]);if(kR)for(var n of kR(e))cG.call(e,n)&&UR(t,n,e[n]);return t};function FR(t,e,n=sG){return Object.keys(n).reduce((i,o)=>(o in t&&t[o]!==void 0&&i.push(KW({value:t[o],getValue:oG[n[o].type],property:n[o].property,theme:e})),i),[]).reduce((i,o)=>(Object.keys(o).forEach(s=>{typeof o[s]=="object"&&o[s]!==null&&s in i?i[s]=zR(zR({},i[s]),o[s]):i[s]=o[s]}),i),{})}function BR(t,e){return typeof t=="function"?t(e):t}function uG(t,e,n){const r=ho(),{css:i,cx:o}=J3();return Array.isArray(t)?o(n,i(FR(e,r)),t.map(s=>i(BR(s,r)))):o(n,i(BR(t,r)),i(FR(e,r)))}var fG=Object.defineProperty,Ev=Object.getOwnPropertySymbols,oD=Object.prototype.hasOwnProperty,sD=Object.prototype.propertyIsEnumerable,VR=(t,e,n)=>e in t?fG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dG=(t,e)=>{for(var n in e||(e={}))oD.call(e,n)&&VR(t,n,e[n]);if(Ev)for(var n of Ev(e))sD.call(e,n)&&VR(t,n,e[n]);return t},hG=(t,e)=>{var n={};for(var r in t)oD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ev)for(var r of Ev(t))e.indexOf(r)<0&&sD.call(t,r)&&(n[r]=t[r]);return n};const aD=L.exports.forwardRef((t,e)=>{var n=t,{className:r,component:i,style:o,sx:s}=n,a=hG(n,["className","component","style","sx"]);const{systemStyles:l,rest:u}=kE(a);return Z(i||"div",{...dG({ref:e,className:uG(s,l,r),style:o},u)})});aD.displayName="@mantine/core/Box";const Dt=aD;var pG=Object.defineProperty,mG=Object.defineProperties,gG=Object.getOwnPropertyDescriptors,$R=Object.getOwnPropertySymbols,vG=Object.prototype.hasOwnProperty,yG=Object.prototype.propertyIsEnumerable,HR=(t,e,n)=>e in t?pG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WR=(t,e)=>{for(var n in e||(e={}))vG.call(e,n)&&HR(t,n,e[n]);if($R)for(var n of $R(e))yG.call(e,n)&&HR(t,n,e[n]);return t},_G=(t,e)=>mG(t,gG(e)),xG=Lt(t=>({root:_G(WR(WR({},t.fn.focusStyles()),t.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:t.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:t.colorScheme==="dark"?t.colors.dark[0]:t.black,textDecoration:"none",boxSizing:"border-box"})}));const SG=xG;var wG=Object.defineProperty,Mv=Object.getOwnPropertySymbols,lD=Object.prototype.hasOwnProperty,cD=Object.prototype.propertyIsEnumerable,GR=(t,e,n)=>e in t?wG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bG=(t,e)=>{for(var n in e||(e={}))lD.call(e,n)&&GR(t,n,e[n]);if(Mv)for(var n of Mv(e))cD.call(e,n)&&GR(t,n,e[n]);return t},EG=(t,e)=>{var n={};for(var r in t)lD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Mv)for(var r of Mv(t))e.indexOf(r)<0&&cD.call(t,r)&&(n[r]=t[r]);return n};const uD=L.exports.forwardRef((t,e)=>{const n=Tt("UnstyledButton",{},t),{className:r,component:i="button",unstyled:o,variant:s}=n,a=EG(n,["className","component","unstyled","variant"]),{classes:l,cx:u}=SG(null,{name:"UnstyledButton",unstyled:o,variant:s});return Z(Dt,{...bG({component:i,ref:e,className:u(l.root,r),type:i==="button"?"button":void 0},a)})});uD.displayName="@mantine/core/UnstyledButton";const UE=uD;var MG=Object.defineProperty,TG=Object.defineProperties,PG=Object.getOwnPropertyDescriptors,jR=Object.getOwnPropertySymbols,AG=Object.prototype.hasOwnProperty,RG=Object.prototype.propertyIsEnumerable,XR=(t,e,n)=>e in t?MG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pw=(t,e)=>{for(var n in e||(e={}))AG.call(e,n)&&XR(t,n,e[n]);if(jR)for(var n of jR(e))RG.call(e,n)&&XR(t,n,e[n]);return t},YR=(t,e)=>TG(t,PG(e));const CG=["subtle","filled","outline","light","default","transparent","gradient"],fm={xs:ae(18),sm:ae(22),md:ae(28),lg:ae(34),xl:ae(44)};function LG({variant:t,theme:e,color:n,gradient:r}){const i=e.fn.variant({color:n,variant:t,gradient:r});return t==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":e.fn.hover({backgroundSize:"200%"})}:CG.includes(t)?pw({border:`${ae(1)} solid ${i.border}`,backgroundColor:i.background,color:i.color},e.fn.hover({backgroundColor:i.hover})):null}var OG=Lt((t,{radius:e,color:n,gradient:r},{variant:i,size:o})=>({root:YR(pw({position:"relative",borderRadius:t.fn.radius(e),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:nt({size:o,sizes:fm}),minHeight:nt({size:o,sizes:fm}),width:nt({size:o,sizes:fm}),minWidth:nt({size:o,sizes:fm})},LG({variant:i,theme:t,color:n,gradient:r})),{"&:active":t.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:t.colors.gray[t.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:t.fn.themeColor("gray",t.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:t.fn.themeColor("gray",t.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":YR(pw({content:'""'},t.fn.cover(ae(-1))),{backgroundColor:t.colorScheme==="dark"?t.fn.rgba(t.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:t.fn.radius(e),cursor:"not-allowed"})}})}));const IG=OG;var NG=Object.defineProperty,Tv=Object.getOwnPropertySymbols,fD=Object.prototype.hasOwnProperty,dD=Object.prototype.propertyIsEnumerable,qR=(t,e,n)=>e in t?NG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DG=(t,e)=>{for(var n in e||(e={}))fD.call(e,n)&&qR(t,n,e[n]);if(Tv)for(var n of Tv(e))dD.call(e,n)&&qR(t,n,e[n]);return t},kG=(t,e)=>{var n={};for(var r in t)fD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Tv)for(var r of Tv(t))e.indexOf(r)<0&&dD.call(t,r)&&(n[r]=t[r]);return n};function UG(t){var e=t,{size:n,color:r}=e,i=kG(e,["size","color"]);return ut("svg",{...DG({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:n},i),children:[ut("rect",{y:"10",width:"15",height:"120",rx:"6",children:[Z("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),ut("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6",children:[Z("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),ut("rect",{x:"60",width:"15",height:"140",rx:"6",children:[Z("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),ut("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6",children:[Z("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),ut("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6",children:[Z("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]})]})}var zG=Object.defineProperty,Pv=Object.getOwnPropertySymbols,hD=Object.prototype.hasOwnProperty,pD=Object.prototype.propertyIsEnumerable,ZR=(t,e,n)=>e in t?zG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FG=(t,e)=>{for(var n in e||(e={}))hD.call(e,n)&&ZR(t,n,e[n]);if(Pv)for(var n of Pv(e))pD.call(e,n)&&ZR(t,n,e[n]);return t},BG=(t,e)=>{var n={};for(var r in t)hD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Pv)for(var r of Pv(t))e.indexOf(r)<0&&pD.call(t,r)&&(n[r]=t[r]);return n};function VG(t){var e=t,{size:n,color:r}=e,i=BG(e,["size","color"]);return Z("svg",{...FG({width:n,height:n,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),children:Z("g",{fill:"none",fillRule:"evenodd",children:ut("g",{transform:"translate(2.5 2.5)",strokeWidth:"5",children:[Z("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),Z("path",{d:"M32 16c0-9.94-8.06-16-16-16",children:Z("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})})]})})})}var $G=Object.defineProperty,Av=Object.getOwnPropertySymbols,mD=Object.prototype.hasOwnProperty,gD=Object.prototype.propertyIsEnumerable,QR=(t,e,n)=>e in t?$G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HG=(t,e)=>{for(var n in e||(e={}))mD.call(e,n)&&QR(t,n,e[n]);if(Av)for(var n of Av(e))gD.call(e,n)&&QR(t,n,e[n]);return t},WG=(t,e)=>{var n={};for(var r in t)mD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Av)for(var r of Av(t))e.indexOf(r)<0&&gD.call(t,r)&&(n[r]=t[r]);return n};function GG(t){var e=t,{size:n,color:r}=e,i=WG(e,["size","color"]);return ut("svg",{...HG({width:n,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),children:[ut("circle",{cx:"15",cy:"15",r:"15",children:[Z("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}),ut("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3",children:[Z("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]}),ut("circle",{cx:"105",cy:"15",r:"15",children:[Z("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),Z("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})]})}var jG=Object.defineProperty,Rv=Object.getOwnPropertySymbols,vD=Object.prototype.hasOwnProperty,yD=Object.prototype.propertyIsEnumerable,KR=(t,e,n)=>e in t?jG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XG=(t,e)=>{for(var n in e||(e={}))vD.call(e,n)&&KR(t,n,e[n]);if(Rv)for(var n of Rv(e))yD.call(e,n)&&KR(t,n,e[n]);return t},YG=(t,e)=>{var n={};for(var r in t)vD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Rv)for(var r of Rv(t))e.indexOf(r)<0&&yD.call(t,r)&&(n[r]=t[r]);return n};const cS={bars:UG,oval:VG,dots:GG},qG={xs:ae(18),sm:ae(22),md:ae(36),lg:ae(44),xl:ae(58)},ZG={size:"md"};function zE(t){const e=Tt("Loader",ZG,t),{size:n,color:r,variant:i}=e,o=YG(e,["size","color","variant"]),s=ho(),a=i in cS?i:s.loader;return Z(Dt,{...XG({role:"presentation",component:cS[a]||cS.bars,size:nt({size:n,sizes:qG}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:r||s.primaryColor}).background},o)})}zE.displayName="@mantine/core/Loader";var QG=Object.defineProperty,Cv=Object.getOwnPropertySymbols,_D=Object.prototype.hasOwnProperty,xD=Object.prototype.propertyIsEnumerable,JR=(t,e,n)=>e in t?QG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eC=(t,e)=>{for(var n in e||(e={}))_D.call(e,n)&&JR(t,n,e[n]);if(Cv)for(var n of Cv(e))xD.call(e,n)&&JR(t,n,e[n]);return t},KG=(t,e)=>{var n={};for(var r in t)_D.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cv)for(var r of Cv(t))e.indexOf(r)<0&&xD.call(t,r)&&(n[r]=t[r]);return n};const JG={color:"gray",size:"md",variant:"subtle"},SD=L.exports.forwardRef((t,e)=>{const n=Tt("ActionIcon",JG,t),{className:r,color:i,children:o,radius:s,size:a,variant:l,gradient:u,disabled:d,loaderProps:h,loading:p,unstyled:m,__staticSelector:y}=n,x=KG(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:S,cx:g,theme:_}=IG({radius:s,color:i,gradient:u},{name:["ActionIcon",y],unstyled:m,size:a,variant:l}),w=Z(zE,{...eC({color:_.fn.variant({color:i,variant:l}).color,size:"100%","data-action-icon-loader":!0},h)});return Z(UE,{...eC({className:g(S.root,r),ref:e,disabled:d,"data-disabled":d||void 0,"data-loading":p||void 0,unstyled:m},x),children:p?w:o})});SD.displayName="@mantine/core/ActionIcon";const va=SD;var e9=Object.defineProperty,t9=Object.defineProperties,n9=Object.getOwnPropertyDescriptors,Lv=Object.getOwnPropertySymbols,wD=Object.prototype.hasOwnProperty,bD=Object.prototype.propertyIsEnumerable,tC=(t,e,n)=>e in t?e9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r9=(t,e)=>{for(var n in e||(e={}))wD.call(e,n)&&tC(t,n,e[n]);if(Lv)for(var n of Lv(e))bD.call(e,n)&&tC(t,n,e[n]);return t},i9=(t,e)=>t9(t,n9(e)),o9=(t,e)=>{var n={};for(var r in t)wD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Lv)for(var r of Lv(t))e.indexOf(r)<0&&bD.call(t,r)&&(n[r]=t[r]);return n};function ED(t){const e=Tt("Portal",{},t),{children:n,target:r,className:i,innerRef:o}=e,s=o9(e,["children","target","className","innerRef"]),a=ho(),[l,u]=L.exports.useState(!1),d=L.exports.useRef();return yy(()=>(u(!0),d.current=r?typeof r=="string"?document.querySelector(r):r:document.createElement("div"),r||document.body.appendChild(d.current),()=>{!r&&document.body.removeChild(d.current)}),[r]),l?Wu.exports.createPortal(Z("div",{...i9(r9({className:i,dir:a.dir},s),{ref:o}),children:n}),d.current):null}ED.displayName="@mantine/core/Portal";var s9=Object.defineProperty,Ov=Object.getOwnPropertySymbols,MD=Object.prototype.hasOwnProperty,TD=Object.prototype.propertyIsEnumerable,nC=(t,e,n)=>e in t?s9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a9=(t,e)=>{for(var n in e||(e={}))MD.call(e,n)&&nC(t,n,e[n]);if(Ov)for(var n of Ov(e))TD.call(e,n)&&nC(t,n,e[n]);return t},l9=(t,e)=>{var n={};for(var r in t)MD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ov)for(var r of Ov(t))e.indexOf(r)<0&&TD.call(t,r)&&(n[r]=t[r]);return n};function _y(t){var e=t,{withinPortal:n=!0,children:r}=e,i=l9(e,["withinPortal","children"]);return n?Z(ED,{...a9({},i),children:r}):Z(Dr,{children:r})}_y.displayName="@mantine/core/OptionalPortal";var c9=Object.defineProperty,rC=Object.getOwnPropertySymbols,u9=Object.prototype.hasOwnProperty,f9=Object.prototype.propertyIsEnumerable,iC=(t,e,n)=>e in t?c9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d9=(t,e)=>{for(var n in e||(e={}))u9.call(e,n)&&iC(t,n,e[n]);if(rC)for(var n of rC(e))f9.call(e,n)&&iC(t,n,e[n]);return t};function PD(t){return Z("svg",{...d9({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),children:Z("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}PD.displayName="@mantine/core/CloseIcon";var h9=Object.defineProperty,Iv=Object.getOwnPropertySymbols,AD=Object.prototype.hasOwnProperty,RD=Object.prototype.propertyIsEnumerable,oC=(t,e,n)=>e in t?h9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p9=(t,e)=>{for(var n in e||(e={}))AD.call(e,n)&&oC(t,n,e[n]);if(Iv)for(var n of Iv(e))RD.call(e,n)&&oC(t,n,e[n]);return t},m9=(t,e)=>{var n={};for(var r in t)AD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Iv)for(var r of Iv(t))e.indexOf(r)<0&&RD.call(t,r)&&(n[r]=t[r]);return n};const g9={xs:ae(12),sm:ae(16),md:ae(20),lg:ae(28),xl:ae(34)},v9={size:"sm"},CD=L.exports.forwardRef((t,e)=>{const n=Tt("CloseButton",v9,t),{iconSize:r,size:i,children:o}=n,s=m9(n,["iconSize","size","children"]),a=ae(r||g9[i]);return Z(va,{...p9({ref:e,__staticSelector:"CloseButton",size:i},s),children:o||Z(PD,{width:a,height:a})})});CD.displayName="@mantine/core/CloseButton";const y9=CD;var _9=Object.defineProperty,x9=Object.defineProperties,S9=Object.getOwnPropertyDescriptors,sC=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,b9=Object.prototype.propertyIsEnumerable,aC=(t,e,n)=>e in t?_9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dm=(t,e)=>{for(var n in e||(e={}))w9.call(e,n)&&aC(t,n,e[n]);if(sC)for(var n of sC(e))b9.call(e,n)&&aC(t,n,e[n]);return t},E9=(t,e)=>x9(t,S9(e));function M9({underline:t,strikethrough:e}){const n=[];return t&&n.push("underline"),e&&n.push("line-through"),n.length>0?n.join(" "):"none"}function T9({theme:t,color:e}){return e==="dimmed"?t.fn.dimmed():typeof e=="string"&&(e in t.colors||e.split(".")[0]in t.colors)?t.fn.variant({variant:"filled",color:e}).background:e||"inherit"}function P9(t){return typeof t=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical"}:null}function A9({theme:t,truncate:e}){return e==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:t.dir==="ltr"?"rtl":"ltr",textAlign:t.dir==="ltr"?"right":"left"}:e?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var R9=Lt((t,{color:e,lineClamp:n,truncate:r,inline:i,inherit:o,underline:s,gradient:a,weight:l,transform:u,align:d,strikethrough:h,italic:p},{size:m})=>{const y=t.fn.variant({variant:"gradient",gradient:a});return{root:E9(dm(dm(dm(dm({},t.fn.fontStyles()),t.fn.focusStyles()),P9(n)),A9({theme:t,truncate:r})),{color:T9({color:e,theme:t}),fontFamily:o?"inherit":t.fontFamily,fontSize:o||m===void 0?"inherit":nt({size:m,sizes:t.fontSizes}),lineHeight:o?"inherit":i?1:t.lineHeight,textDecoration:M9({underline:s,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:u,textAlign:d,fontStyle:p?"italic":void 0}),gradient:{backgroundImage:y.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const C9=R9;var L9=Object.defineProperty,Nv=Object.getOwnPropertySymbols,LD=Object.prototype.hasOwnProperty,OD=Object.prototype.propertyIsEnumerable,lC=(t,e,n)=>e in t?L9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O9=(t,e)=>{for(var n in e||(e={}))LD.call(e,n)&&lC(t,n,e[n]);if(Nv)for(var n of Nv(e))OD.call(e,n)&&lC(t,n,e[n]);return t},I9=(t,e)=>{var n={};for(var r in t)LD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Nv)for(var r of Nv(t))e.indexOf(r)<0&&OD.call(t,r)&&(n[r]=t[r]);return n};const N9={variant:"text"},ID=L.exports.forwardRef((t,e)=>{const n=Tt("Text",N9,t),{className:r,size:i,weight:o,transform:s,color:a,align:l,variant:u,lineClamp:d,truncate:h,gradient:p,inline:m,inherit:y,underline:x,strikethrough:S,italic:g,classNames:_,styles:w,unstyled:E,span:T,__staticSelector:P}=n,A=I9(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:I,cx:C}=C9({color:a,lineClamp:d,truncate:h,inline:m,inherit:y,underline:x,strikethrough:S,italic:g,weight:o,transform:s,align:l,gradient:p},{unstyled:E,name:P||"Text",variant:u,size:i});return Z(Dt,{...O9({ref:e,className:C(I.root,{[I.gradient]:u==="gradient"},r),component:T?"span":"div"},A)})});ID.displayName="@mantine/core/Text";const Wr=ID,hm={xs:ae(1),sm:ae(2),md:ae(3),lg:ae(4),xl:ae(5)};function pm(t,e){const n=t.fn.variant({variant:"outline",color:e}).border;return typeof e=="string"&&(e in t.colors||e.split(".")[0]in t.colors)?n:e===void 0?t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[4]:e}var D9=Lt((t,{color:e},{size:n,variant:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:ae(1),borderTop:`${nt({size:n,sizes:hm})} ${r} ${pm(t,e)}`,marginRight:t.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${nt({size:n,sizes:hm})} ${r} ${pm(t,e)}`,marginLeft:t.spacing.xs}},labelDefaultStyles:{color:e==="dark"?t.colors.dark[1]:t.fn.themeColor(e,t.colorScheme==="dark"?5:t.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:ae(nt({size:n,sizes:hm})),borderTopColor:pm(t,e),borderTopStyle:r,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:ae(nt({size:n,sizes:hm})),borderLeftColor:pm(t,e),borderLeftStyle:r}}));const k9=D9;var U9=Object.defineProperty,z9=Object.defineProperties,F9=Object.getOwnPropertyDescriptors,Dv=Object.getOwnPropertySymbols,ND=Object.prototype.hasOwnProperty,DD=Object.prototype.propertyIsEnumerable,cC=(t,e,n)=>e in t?U9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uC=(t,e)=>{for(var n in e||(e={}))ND.call(e,n)&&cC(t,n,e[n]);if(Dv)for(var n of Dv(e))DD.call(e,n)&&cC(t,n,e[n]);return t},B9=(t,e)=>z9(t,F9(e)),V9=(t,e)=>{var n={};for(var r in t)ND.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Dv)for(var r of Dv(t))e.indexOf(r)<0&&DD.call(t,r)&&(n[r]=t[r]);return n};const $9={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},mw=L.exports.forwardRef((t,e)=>{const n=Tt("Divider",$9,t),{className:r,color:i,orientation:o,size:s,label:a,labelPosition:l,labelProps:u,variant:d,styles:h,classNames:p,unstyled:m}=n,y=V9(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:x,cx:S}=k9({color:i},{classNames:p,styles:h,unstyled:m,name:"Divider",variant:d,size:s}),g=o==="vertical",_=o==="horizontal",w=!!a&&_,E=!(u!=null&&u.color);return Z(Dt,{...uC({ref:e,className:S(x.root,{[x.vertical]:g,[x.horizontal]:_,[x.withLabel]:w},r),role:"separator"},y),children:w&&Z(Wr,{...B9(uC({},u),{size:(u==null?void 0:u.size)||"xs",mt:ae(2),className:S(x.label,x[l],{[x.labelDefaultStyles]:E})}),children:a})})});mw.displayName="@mantine/core/Divider";function H9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kD(...t){return e=>t.forEach(n=>H9(n,e))}function Gl(...t){return L.exports.useCallback(kD(...t),t)}const UD=L.exports.forwardRef((t,e)=>{const{children:n,...r}=t,i=L.exports.Children.toArray(n),o=i.find(G9);if(o){const s=o.props.children,a=i.map(l=>l===o?L.exports.Children.count(s)>1?L.exports.Children.only(null):L.exports.isValidElement(s)?s.props.children:null:l);return L.exports.createElement(gw,yn({},r,{ref:e}),L.exports.isValidElement(s)?L.exports.cloneElement(s,void 0,a):null)}return L.exports.createElement(gw,yn({},r,{ref:e}),n)});UD.displayName="Slot";const gw=L.exports.forwardRef((t,e)=>{const{children:n,...r}=t;return L.exports.isValidElement(n)?L.exports.cloneElement(n,{...j9(r,n.props),ref:kD(e,n.ref)}):L.exports.Children.count(n)>1?L.exports.Children.only(null):null});gw.displayName="SlotClone";const W9=({children:t})=>L.exports.createElement(L.exports.Fragment,null,t);function G9(t){return L.exports.isValidElement(t)&&t.type===W9}function j9(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}const X9=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],Lh=X9.reduce((t,e)=>{const n=L.exports.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?UD:e;return L.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),L.exports.createElement(a,yn({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),vw=Boolean(globalThis==null?void 0:globalThis.document)?L.exports.useLayoutEffect:()=>{};function Y9(t,e){return L.exports.useReducer((n,r)=>{const i=e[n][r];return i!=null?i:n},t)}const Oh=t=>{const{present:e,children:n}=t,r=q9(e),i=typeof n=="function"?n({present:r.isPresent}):L.exports.Children.only(n),o=Gl(r.ref,i.ref);return typeof n=="function"||r.isPresent?L.exports.cloneElement(i,{ref:o}):null};Oh.displayName="Presence";function q9(t){const[e,n]=L.exports.useState(),r=L.exports.useRef({}),i=L.exports.useRef(t),o=L.exports.useRef("none"),s=t?"mounted":"unmounted",[a,l]=Y9(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.exports.useEffect(()=>{const u=mm(r.current);o.current=a==="mounted"?u:"none"},[a]),vw(()=>{const u=r.current,d=i.current;if(d!==t){const p=o.current,m=mm(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),vw(()=>{if(e){const u=h=>{const m=mm(r.current).includes(h.animationName);h.target===e&&m&&Wu.exports.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===e&&(o.current=mm(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:L.exports.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function mm(t){return(t==null?void 0:t.animationName)||"none"}function Z9(t,e=[]){let n=[];function r(o,s){const a=L.exports.createContext(s),l=n.length;n=[...n,s];function u(h){const{scope:p,children:m,...y}=h,x=(p==null?void 0:p[t][l])||a,S=L.exports.useMemo(()=>y,Object.values(y));return L.exports.createElement(x.Provider,{value:S},m)}function d(h,p){const m=(p==null?void 0:p[t][l])||a,y=L.exports.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const i=()=>{const o=n.map(s=>L.exports.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return L.exports.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Q9(i,...e)]}function Q9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return L.exports.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function ll(t){const e=L.exports.useRef(t);return L.exports.useEffect(()=>{e.current=t}),L.exports.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const K9=L.exports.createContext(void 0);function J9(t){const e=L.exports.useContext(K9);return t||e||"ltr"}function e7(t,[e,n]){return Math.min(n,Math.max(e,t))}function wl(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function t7(t,e){return L.exports.useReducer((n,r)=>{const i=e[n][r];return i!=null?i:n},t)}const zD="ScrollArea",[FD,nve]=Z9(zD),[n7,Hi]=FD(zD),r7=L.exports.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=L.exports.useState(null),[u,d]=L.exports.useState(null),[h,p]=L.exports.useState(null),[m,y]=L.exports.useState(null),[x,S]=L.exports.useState(null),[g,_]=L.exports.useState(0),[w,E]=L.exports.useState(0),[T,P]=L.exports.useState(!1),[A,I]=L.exports.useState(!1),C=Gl(e,B=>l(B)),O=J9(i);return L.exports.createElement(n7,{scope:n,type:r,dir:O,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:A,onScrollbarYEnabledChange:I,onCornerWidthChange:_,onCornerHeightChange:E},L.exports.createElement(Lh.div,yn({dir:O},s,{ref:C,style:{position:"relative",["--radix-scroll-area-corner-width"]:g+"px",["--radix-scroll-area-corner-height"]:w+"px",...t.style}})))}),i7="ScrollAreaViewport",o7=L.exports.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,...i}=t,o=Hi(i7,n),s=L.exports.useRef(null),a=Gl(e,s,o.onViewportChange);return L.exports.createElement(L.exports.Fragment,null,L.exports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),L.exports.createElement(Lh.div,yn({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style}}),L.exports.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ps="ScrollAreaScrollbar",s7=L.exports.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hi(Ps,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return L.exports.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?L.exports.createElement(a7,yn({},r,{ref:e,forceMount:n})):i.type==="scroll"?L.exports.createElement(l7,yn({},r,{ref:e,forceMount:n})):i.type==="auto"?L.exports.createElement(BD,yn({},r,{ref:e,forceMount:n})):i.type==="always"?L.exports.createElement(FE,yn({},r,{ref:e})):null}),a7=L.exports.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hi(Ps,t.__scopeScrollArea),[o,s]=L.exports.useState(!1);return L.exports.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),L.exports.createElement(Oh,{present:n||o},L.exports.createElement(BD,yn({"data-state":o?"visible":"hidden"},r,{ref:e})))}),l7=L.exports.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hi(Ps,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Sy(()=>l("SCROLL_END"),100),[a,l]=t7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return L.exports.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),L.exports.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(l("SCROLL"),s()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,o,l,s]),L.exports.createElement(Oh,{present:n||a!=="hidden"},L.exports.createElement(FE,yn({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:wl(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:wl(t.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),BD=L.exports.forwardRef((t,e)=>{const n=Hi(Ps,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=L.exports.useState(!1),a=t.orientation==="horizontal",l=Sy(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:d)}},10);return Au(n.viewport,l),Au(n.content,l),L.exports.createElement(Oh,{present:r||o},L.exports.createElement(FE,yn({"data-state":o?"visible":"hidden"},i,{ref:e})))}),FE=L.exports.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Hi(Ps,t.__scopeScrollArea),o=L.exports.useRef(null),s=L.exports.useRef(0),[a,l]=L.exports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=WD(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:Boolean(u>0&&u<1),onThumbChange:p=>o.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function h(p,m){return g7(p,s.current,a,m)}return n==="horizontal"?L.exports.createElement(c7,yn({},d,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,m=fC(p,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=h(p,i.dir))}})):n==="vertical"?L.exports.createElement(u7,yn({},d,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,m=fC(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=h(p))}})):null}),c7=L.exports.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Hi(Ps,t.__scopeScrollArea),[s,a]=L.exports.useState(),l=L.exports.useRef(null),u=Gl(e,l,o.onScrollbarXChange);return L.exports.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),L.exports.createElement($D,yn({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,["--radix-scroll-area-thumb-width"]:xy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),jD(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:kv(s.paddingLeft),paddingEnd:kv(s.paddingRight)}})}}))}),u7=L.exports.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Hi(Ps,t.__scopeScrollArea),[s,a]=L.exports.useState(),l=L.exports.useRef(null),u=Gl(e,l,o.onScrollbarYChange);return L.exports.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),L.exports.createElement($D,yn({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)",["--radix-scroll-area-thumb-height"]:xy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),jD(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:kv(s.paddingTop),paddingEnd:kv(s.paddingBottom)}})}}))}),[f7,VD]=FD(Ps),$D=L.exports.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,m=Hi(Ps,n),[y,x]=L.exports.useState(null),S=Gl(e,C=>x(C)),g=L.exports.useRef(null),_=L.exports.useRef(""),w=m.viewport,E=r.content-r.viewport,T=ll(d),P=ll(l),A=Sy(h,10);function I(C){if(g.current){const O=C.clientX-g.current.left,B=C.clientY-g.current.top;u({x:O,y:B})}}return L.exports.useEffect(()=>{const C=O=>{const B=O.target;(y==null?void 0:y.contains(B))&&T(O,E)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,y,E,T]),L.exports.useEffect(P,[r,P]),Au(y,A),Au(m.content,A),L.exports.createElement(f7,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:ll(o),onThumbPointerUp:ll(s),onThumbPositionChange:P,onThumbPointerDown:ll(a)},L.exports.createElement(Lh.div,yn({},p,{ref:S,style:{position:"absolute",...p.style},onPointerDown:wl(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=y.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(C))}),onPointerMove:wl(t.onPointerMove,I),onPointerUp:wl(t.onPointerUp,C=>{const O=C.target;O.hasPointerCapture(C.pointerId)&&O.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=_.current,g.current=null})})))}),yw="ScrollAreaThumb",d7=L.exports.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=VD(yw,t.__scopeScrollArea);return L.exports.createElement(Oh,{present:n||i.hasThumb},L.exports.createElement(h7,yn({ref:e},r)))}),h7=L.exports.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Hi(yw,n),s=VD(yw,n),{onThumbPositionChange:a}=s,l=Gl(e,h=>s.onThumbChange(h)),u=L.exports.useRef(),d=Sy(()=>{u.current&&(u.current(),u.current=void 0)},100);return L.exports.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!u.current){const m=v7(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,a]),L.exports.createElement(Lh.div,yn({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:wl(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,x=h.clientY-m.top;s.onThumbPointerDown({x:y,y:x})}),onPointerUp:wl(t.onPointerUp,s.onThumbPointerUp)}))}),HD="ScrollAreaCorner",p7=L.exports.forwardRef((t,e)=>{const n=Hi(HD,t.__scopeScrollArea),r=Boolean(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?L.exports.createElement(m7,yn({},t,{ref:e})):null}),m7=L.exports.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Hi(HD,n),[o,s]=L.exports.useState(0),[a,l]=L.exports.useState(0),u=Boolean(o&&a);return Au(i.scrollbarX,()=>{var d;const h=((d=i.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;i.onCornerHeightChange(h),l(h)}),Au(i.scrollbarY,()=>{var d;const h=((d=i.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;i.onCornerWidthChange(h),s(h)}),u?L.exports.createElement(Lh.div,yn({},r,{ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}})):null});function kv(t){return t?parseInt(t,10):0}function WD(t,e){const n=t/e;return isNaN(n)?0:n}function xy(t){const e=WD(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function g7(t,e,n,r="ltr"){const i=xy(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return GD([l,u],h)(t)}function fC(t,e,n="ltr"){const r=xy(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=e7(t,l);return GD([0,s],[0,a])(u)}function GD(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function jD(t,e){return t>0&&t<e}const v7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Sy(t,e){const n=ll(t),r=L.exports.useRef(0);return L.exports.useEffect(()=>()=>window.clearTimeout(r.current),[]),L.exports.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Au(t,e){const n=ll(e);vw(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const y7=r7,_7=o7,dC=s7,hC=d7,x7=p7;var S7=Lt((t,{scrollbarSize:e,offsetScrollbars:n,scrollbarHovered:r,hidden:i})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?ae(e):void 0,paddingBottom:n?ae(e):void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${ae(e)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:t.colorScheme==="dark"?t.colors.dark[8]:t.colors.gray[0],[`& .${al("thumb")}`]:{backgroundColor:t.colorScheme==="dark"?t.fn.rgba(t.white,.5):t.fn.rgba(t.black,.5)}},'&[data-orientation="vertical"]':{width:ae(e)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:ae(e)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:al("thumb"),flex:1,backgroundColor:t.colorScheme==="dark"?t.fn.rgba(t.white,.4):t.fn.rgba(t.black,.4),borderRadius:ae(e),position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:ae(44),minHeight:ae(44)}},corner:{backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const w7=S7;var b7=Object.defineProperty,E7=Object.defineProperties,M7=Object.getOwnPropertyDescriptors,Uv=Object.getOwnPropertySymbols,XD=Object.prototype.hasOwnProperty,YD=Object.prototype.propertyIsEnumerable,pC=(t,e,n)=>e in t?b7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_w=(t,e)=>{for(var n in e||(e={}))XD.call(e,n)&&pC(t,n,e[n]);if(Uv)for(var n of Uv(e))YD.call(e,n)&&pC(t,n,e[n]);return t},qD=(t,e)=>E7(t,M7(e)),ZD=(t,e)=>{var n={};for(var r in t)XD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Uv)for(var r of Uv(t))e.indexOf(r)<0&&YD.call(t,r)&&(n[r]=t[r]);return n};const QD={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},wy=L.exports.forwardRef((t,e)=>{const n=Tt("ScrollArea",QD,t),{children:r,className:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:d,offsetScrollbars:h,viewportRef:p,onScrollPositionChange:m,unstyled:y,variant:x,viewportProps:S}=n,g=ZD(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[_,w]=L.exports.useState(!1),E=ho(),{classes:T,cx:P}=w7({scrollbarSize:a,offsetScrollbars:h,scrollbarHovered:_,hidden:u==="never"},{name:"ScrollArea",classNames:o,styles:s,unstyled:y,variant:x});return Z(y7,{type:u==="never"?"always":u,scrollHideDelay:l,dir:d||E.dir,ref:e,asChild:!0,children:ut(Dt,{..._w({className:P(T.root,i)},g),children:[Z(_7,{...qD(_w({},S),{className:T.viewport,ref:p,onScroll:typeof m=="function"?({currentTarget:A})=>m({x:A.scrollLeft,y:A.scrollTop}):void 0}),children:r}),Z(dC,{orientation:"horizontal",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:Z(hC,{className:T.thumb})}),Z(dC,{orientation:"vertical",className:T.scrollbar,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:Z(hC,{className:T.thumb})}),Z(x7,{className:T.corner})]})})}),KD=L.exports.forwardRef((t,e)=>{const n=Tt("ScrollAreaAutosize",QD,t),{children:r,classNames:i,styles:o,scrollbarSize:s,scrollHideDelay:a,type:l,dir:u,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:p,unstyled:m,sx:y,variant:x,viewportProps:S}=n,g=ZD(n,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return jt.createElement(Dt,qD(_w({},g),{ref:e,sx:[{display:"flex"},...bE(y)]}),jt.createElement(Dt,{sx:{display:"flex",flexDirection:"column",flex:1}},jt.createElement(wy,{classNames:i,styles:o,scrollHideDelay:a,scrollbarSize:s,type:l,dir:u,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:p,unstyled:m,variant:x,viewportProps:S},r)))});KD.displayName="@mantine/core/ScrollAreaAutosize";wy.displayName="@mantine/core/ScrollArea";wy.Autosize=KD;const JD=wy;function Ih(t){return t.split("-")[1]}function BE(t){return t==="y"?"height":"width"}function ws(t){return t.split("-")[0]}function qu(t){return["top","bottom"].includes(ws(t))?"x":"y"}function mC(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=qu(e),l=BE(a),u=r[l]/2-i[l]/2,d=ws(e),h=a==="x";let p;switch(d){case"top":p={x:o,y:r.y-i.height};break;case"bottom":p={x:o,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:s};break;case"left":p={x:r.x-i.width,y:s};break;default:p={x:r.x,y:r.y}}switch(Ih(e)){case"start":p[a]-=u*(n&&h?-1:1);break;case"end":p[a]+=u*(n&&h?-1:1);break}return p}const T7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=mC(u,r,l),p=r,m={},y=0;for(let x=0;x<a.length;x++){const{name:S,fn:g}=a[x],{x:_,y:w,data:E,reset:T}=await g({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});if(d=_!=null?_:d,h=w!=null?w:h,m={...m,[S]:{...m[S],...E}},T&&y<=50){y++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(u=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:d,y:h}=mC(u,p,l)),x=-1;continue}}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};function Zu(t,e){return typeof t=="function"?t(e):t}function P7(t){return{top:0,right:0,bottom:0,left:0,...t}}function VE(t){return typeof t!="number"?P7(t):{top:t,right:t,bottom:t,left:t}}function Ru(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function ek(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Zu(e,t),y=VE(m),S=a[p?h==="floating"?"reference":"floating":h],g=Ru(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{...s.floating,x:r,y:i}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},T=Ru(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:w,strategy:l}):_);return{top:(g.top-T.top+y.top)/E.y,bottom:(T.bottom-g.bottom+y.bottom)/E.y,left:(g.left-T.left+y.left)/E.x,right:(T.right-g.right+y.right)/E.x}}const Cu=Math.min,zv=Math.max;function xw(t,e,n){return zv(t,Cu(e,n))}const gC=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=e,{element:l,padding:u=0}=Zu(t,e)||{};if(l==null)return{};const d=VE(u),h={x:n,y:r},p=qu(i),m=BE(p),y=await s.getDimensions(l),x=p==="y",S=x?"top":"left",g=x?"bottom":"right",_=x?"clientHeight":"clientWidth",w=o.reference[m]+o.reference[p]-h[p]-o.floating[m],E=h[p]-o.reference[p],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let P=T?T[_]:0;(!P||!await(s.isElement==null?void 0:s.isElement(T)))&&(P=a.floating[_]||o.floating[m]);const A=w/2-E/2,I=P/2-y[m]/2-1,C=Cu(d[S],I),O=Cu(d[g],I),B=C,ee=P-y[m]-O,V=P/2-y[m]/2+A,F=xw(B,V,ee),re=Ih(i)!=null&&V!=F&&o.reference[m]/2-(V<B?C:O)-y[m]/2<0?V<B?B-V:ee-V:0;return{[p]:h[p]-re,data:{[p]:F,centerOffset:V-F+re}}}}),A7={left:"right",right:"left",bottom:"top",top:"bottom"};function Fv(t){return t.replace(/left|right|bottom|top/g,e=>A7[e])}function R7(t,e,n){n===void 0&&(n=!1);const r=Ih(t),i=qu(t),o=BE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Fv(s)),{main:s,cross:Fv(s)}}const C7={start:"end",end:"start"};function Sw(t){return t.replace(/start|end/g,e=>C7[e])}function L7(t){const e=Fv(t);return[Sw(t),e,Sw(e)]}function O7(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function I7(t,e,n,r){const i=Ih(t);let o=O7(ws(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Sw)))),o}const N7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...x}=Zu(t,e),S=ws(r),g=ws(s)===s,_=await(a.isRTL==null?void 0:a.isRTL(l.floating)),w=h||(g||!y?[Fv(s)]:L7(s));!h&&m!=="none"&&w.push(...I7(s,y,m,_));const E=[s,...w],T=await ek(e,x),P=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(T[S]),d){const{main:B,cross:ee}=R7(r,o,_);P.push(T[B],T[ee])}if(A=[...A,{placement:r,overflows:P}],!P.every(B=>B<=0)){var I,C;const B=(((I=i.flip)==null?void 0:I.index)||0)+1,ee=E[B];if(ee)return{data:{index:B,overflows:A},reset:{placement:ee}};let V=(C=A.filter(F=>F.overflows[0]<=0).sort((F,J)=>F.overflows[1]-J.overflows[1])[0])==null?void 0:C.placement;if(!V)switch(p){case"bestFit":{var O;const F=(O=A.map(J=>[J.placement,J.overflows.filter(re=>re>0).reduce((re,ne)=>re+ne,0)]).sort((J,re)=>J[1]-re[1])[0])==null?void 0:O[0];F&&(V=F);break}case"initialPlacement":V=s;break}if(r!==V)return{reset:{placement:V}}}return{}}}};function tk(t){const e=Cu(...t.map(o=>o.left)),n=Cu(...t.map(o=>o.top)),r=zv(...t.map(o=>o.right)),i=zv(...t.map(o=>o.bottom));return{x:e,y:n,width:r-e,height:i-n}}function D7(t){const e=t.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>Ru(tk(i)))}const k7=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=e,{padding:a=2,x:l,y:u}=Zu(t,e),d=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),h=D7(d),p=Ru(tk(d)),m=VE(a);function y(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&u!=null)return h.find(S=>l>S.left-m.left&&l<S.right+m.right&&u>S.top-m.top&&u<S.bottom+m.bottom)||p;if(h.length>=2){if(qu(n)==="x"){const O=h[0],B=h[h.length-1],ee=ws(n)==="top",V=O.top,F=B.bottom,J=ee?O.left:B.left,re=ee?O.right:B.right,ne=re-J,U=F-V;return{top:V,bottom:F,left:J,right:re,width:ne,height:U,x:J,y:V}}const S=ws(n)==="left",g=zv(...h.map(O=>O.right)),_=Cu(...h.map(O=>O.left)),w=h.filter(O=>S?O.left===_:O.right===g),E=w[0].top,T=w[w.length-1].bottom,P=_,A=g,I=A-P,C=T-E;return{top:E,bottom:T,left:P,right:A,width:I,height:C,x:P,y:E}}return p}const x=await o.getElementRects({reference:{getBoundingClientRect:y},floating:r.floating,strategy:s});return i.reference.x!==x.reference.x||i.reference.y!==x.reference.y||i.reference.width!==x.reference.width||i.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}};async function U7(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ws(n),a=Ih(n),l=qu(n)==="x",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,h=Zu(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const z7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await U7(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function F7(t){return t==="x"?"y":"x"}const nk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x:g,y:_}=S;return{x:g,y:_}}},...l}=Zu(t,e),u={x:n,y:r},d=await ek(e,l),h=qu(ws(i)),p=F7(h);let m=u[h],y=u[p];if(o){const S=h==="y"?"top":"left",g=h==="y"?"bottom":"right",_=m+d[S],w=m-d[g];m=xw(_,m,w)}if(s){const S=p==="y"?"top":"left",g=p==="y"?"bottom":"right",_=y+d[S],w=y-d[g];y=xw(_,y,w)}const x=a.fn({...e,[h]:m,[p]:y});return{...x,data:{x:x.x-n,y:x.y-r}}}}};function Fi(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function co(t){return Fi(t).getComputedStyle(t)}function rk(t){return t instanceof Fi(t).Node}function Ma(t){return rk(t)?(t.nodeName||"").toLowerCase():"#document"}function uo(t){return t instanceof Fi(t).HTMLElement}function bs(t){return t instanceof Fi(t).Element}function vC(t){return typeof ShadowRoot>"u"?!1:t instanceof Fi(t).ShadowRoot||t instanceof ShadowRoot}function Nh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=co(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function B7(t){return["table","td","th"].includes(Ma(t))}function $E(t){const e=HE(),n=co(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function by(t){return["html","body","#document"].includes(Ma(t))}const ww=Math.min,pu=Math.max,Bv=Math.round,gm=Math.floor,Ol=t=>({x:t,y:t});function ik(t){const e=co(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=uo(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Bv(n)!==o||Bv(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function WE(t){return bs(t)?t:t.contextElement}function mu(t){const e=WE(t);if(!uo(e))return Ol(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=ik(e);let s=(o?Bv(n.width):n.width)/r,a=(o?Bv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const yC=Ol(0);function ok(t,e,n){var r,i;if(e===void 0&&(e=!0),!HE())return yC;const o=t?Fi(t):window;return!n||e&&n!==o?yC:{x:((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,y:((i=o.visualViewport)==null?void 0:i.offsetTop)||0}}function Il(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=WE(t);let s=Ol(1);e&&(r?bs(r)&&(s=mu(r)):s=mu(t));const a=ok(o,n,r);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){const p=Fi(o),m=r&&bs(r)?Fi(r):r;let y=p.frameElement;for(;y&&r&&m!==p;){const x=mu(y),S=y.getBoundingClientRect(),g=getComputedStyle(y),_=S.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,w=S.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=_,u+=w,y=Fi(y).frameElement}}return Ru({width:d,height:h,x:l,y:u})}function As(t){return((rk(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ey(t){return bs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function V7(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=uo(n),o=As(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a=Ol(1);const l=Ol(0);if((i||!i&&r!=="fixed")&&((Ma(n)!=="body"||Nh(o))&&(s=Ey(n)),uo(n))){const u=Il(n);a=mu(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}}function sk(t){return Il(As(t)).left+Ey(t).scrollLeft}function $7(t){const e=As(t),n=Ey(t),r=t.ownerDocument.body,i=pu(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=pu(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+sk(t);const a=-n.scrollTop;return co(r).direction==="rtl"&&(s+=pu(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Lu(t){if(Ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vC(t)&&t.host||As(t);return vC(e)?e.host:e}function ak(t){const e=Lu(t);return by(e)?t.ownerDocument?t.ownerDocument.body:t.body:uo(e)&&Nh(e)?e:ak(e)}function ya(t,e){var n;e===void 0&&(e=[]);const r=ak(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Fi(r);return i?e.concat(o,o.visualViewport||[],Nh(r)?r:[]):e.concat(r,ya(r))}function H7(t,e){const n=Fi(t),r=As(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=HE();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function W7(t,e){const n=Il(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=uo(t)?mu(t):Ol(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function _C(t,e,n){let r;if(e==="viewport")r=H7(t,n);else if(e==="document")r=$7(As(t));else if(bs(e))r=W7(e,n);else{const i=ok(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ru(r)}function lk(t,e){const n=Lu(t);return n===e||!bs(n)||by(n)?!1:co(n).position==="fixed"||lk(n,e)}function G7(t,e){const n=e.get(t);if(n)return n;let r=ya(t).filter(a=>bs(a)&&Ma(a)!=="body"),i=null;const o=co(t).position==="fixed";let s=o?Lu(t):t;for(;bs(s)&&!by(s);){const a=co(s),l=$E(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Nh(s)&&!l&&lk(t,s))?r=r.filter(d=>d!==s):i=a,s=Lu(s)}return e.set(t,r),r}function j7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?G7(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const h=_C(e,d,i);return u.top=pu(h.top,u.top),u.right=ww(h.right,u.right),u.bottom=ww(h.bottom,u.bottom),u.left=pu(h.left,u.left),u},_C(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function X7(t){return ik(t)}function xC(t,e){return!uo(t)||co(t).position==="fixed"?null:e?e(t):t.offsetParent}function Y7(t){let e=Lu(t);for(;uo(e)&&!by(e);){if($E(e))return e;e=Lu(e)}return null}function SC(t,e){const n=Fi(t);if(!uo(t))return n;let r=xC(t,e);for(;r&&B7(r)&&co(r).position==="static";)r=xC(r,e);return r&&(Ma(r)==="html"||Ma(r)==="body"&&co(r).position==="static"&&!$E(r))?n:r||Y7(t)||n}function q7(t,e,n){const r=uo(e),i=As(e),o=n==="fixed",s=Il(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Ol(0);if(r||!r&&!o)if((Ma(e)!=="body"||Nh(i))&&(a=Ey(e)),uo(e)){const u=Il(e,!0,o,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=sk(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}const Z7={getClippingRect:j7,convertOffsetParentRelativeRectToViewportRelativeRect:V7,isElement:bs,getDimensions:X7,getOffsetParent:SC,getDocumentElement:As,getScale:mu,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||SC,o=this.getDimensions;return{reference:q7(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>co(t).direction==="rtl"};function Q7(t,e){let n=null,r;const i=As(t);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=gm(d),y=gm(i.clientWidth-(u+h)),x=gm(i.clientHeight-(d+p)),S=gm(u),_={rootMargin:-m+"px "+-y+"px "+-x+"px "+-S+"px",threshold:pu(0,ww(1,l))||1};let w=!0;function E(T){const P=T[0].intersectionRatio;if(P!==l){if(!w)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return s(!0),o}function K7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=WE(t),d=i||o?[...u?ya(u):[],...ya(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&a?Q7(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,x=l?Il(t):null;l&&S();function S(){const g=Il(t);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&n(),x=g,y=requestAnimationFrame(S)}return n(),()=>{d.forEach(g=>{i&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),h&&h(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const J7=(t,e,n)=>{const r=new Map,i={platform:Z7,...n},o={...i.platform,_c:r};return T7(t,e,{...i,platform:o})},ej=t=>{const{element:e,padding:n}=t;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){return r(e)?e.current!=null?gC({element:e.current,padding:n}).fn(i):{}:e?gC({element:e,padding:n}).fn(i):{}}}};var kg=typeof document<"u"?L.exports.useLayoutEffect:L.exports.useEffect;function Vv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Vv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Vv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function wC(t){const e=L.exports.useRef(t);return kg(()=>{e.current=t}),e}function tj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:o,open:s}=t,[a,l]=L.exports.useState({x:null,y:null,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,d]=L.exports.useState(r);Vv(u,r)||d(r);const h=L.exports.useRef(null),p=L.exports.useRef(null),m=L.exports.useRef(a),y=wC(o),x=wC(i),[S,g]=L.exports.useState(null),[_,w]=L.exports.useState(null),E=L.exports.useCallback(O=>{h.current!==O&&(h.current=O,g(O))},[]),T=L.exports.useCallback(O=>{p.current!==O&&(p.current=O,w(O))},[]),P=L.exports.useCallback(()=>{if(!h.current||!p.current)return;const O={placement:e,strategy:n,middleware:u};x.current&&(O.platform=x.current),J7(h.current,p.current,O).then(B=>{const ee={...B,isPositioned:!0};A.current&&!Vv(m.current,ee)&&(m.current=ee,Wu.exports.flushSync(()=>{l(ee)}))})},[u,e,n,x]);kg(()=>{s===!1&&m.current.isPositioned&&(m.current.isPositioned=!1,l(O=>({...O,isPositioned:!1})))},[s]);const A=L.exports.useRef(!1);kg(()=>(A.current=!0,()=>{A.current=!1}),[]),kg(()=>{if(S&&_){if(y.current)return y.current(S,_,P);P()}},[S,_,P,y]);const I=L.exports.useMemo(()=>({reference:h,floating:p,setReference:E,setFloating:T}),[E,T]),C=L.exports.useMemo(()=>({reference:S,floating:_}),[S,_]);return L.exports.useMemo(()=>({...a,update:P,refs:I,elements:C,reference:E,floating:T}),[a,P,I,C,E,T])}var Ou=typeof document<"u"?L.exports.useLayoutEffect:L.exports.useEffect;let uS=!1,nj=0;const bC=()=>"floating-ui-"+nj++;function rj(){const[t,e]=L.exports.useState(()=>uS?bC():void 0);return Ou(()=>{t==null&&e(bC())},[]),L.exports.useEffect(()=>{uS||(uS=!0)},[]),t}const ij=Qg["useId".toString()],EC=ij||rj;function oj(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){t.set(e,(t.get(e)||[]).filter(r=>r!==n))}}}const sj=L.exports.createContext(null),aj=L.exports.createContext(null),ck=()=>{var t;return((t=L.exports.useContext(sj))==null?void 0:t.id)||null},GE=()=>L.exports.useContext(aj);function sa(t){return(t==null?void 0:t.ownerDocument)||document}function lj(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function cj(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function jE(t){return sa(t).defaultView||window}function Do(t){return t?t instanceof jE(t).Element:!1}function uk(t){return t?t instanceof jE(t).HTMLElement:!1}function uj(t){if(typeof ShadowRoot>"u")return!1;const e=jE(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function fj(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(lj())||e.test(cj()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function dj(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function fk(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function MC(t){const e=L.exports.useRef(t);return Ou(()=>{e.current=t}),e}const TC="data-floating-ui-safe-polygon";function Ug(t,e,n){return n&&!fk(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}const hj=function(t,e){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=e===void 0?{}:e;const{open:l,onOpenChange:u,dataRef:d,events:h,elements:{domReference:p,floating:m},refs:y}=t,x=GE(),S=ck(),g=MC(i),_=MC(r),w=L.exports.useRef(),E=L.exports.useRef(),T=L.exports.useRef(),P=L.exports.useRef(),A=L.exports.useRef(!0),I=L.exports.useRef(!1),C=L.exports.useRef(()=>{}),O=L.exports.useCallback(()=>{var F;const J=(F=d.current.openEvent)==null?void 0:F.type;return(J==null?void 0:J.includes("mouse"))&&J!=="mousedown"},[d]);L.exports.useEffect(()=>{if(!n)return;function F(){clearTimeout(E.current),clearTimeout(P.current),A.current=!0}return h.on("dismiss",F),()=>{h.off("dismiss",F)}},[n,h]),L.exports.useEffect(()=>{if(!n||!g.current||!l)return;function F(){O()&&u(!1)}const J=sa(m).documentElement;return J.addEventListener("mouseleave",F),()=>{J.removeEventListener("mouseleave",F)}},[m,l,u,n,g,d,O]);const B=L.exports.useCallback(function(F){F===void 0&&(F=!0);const J=Ug(_.current,"close",w.current);J&&!T.current?(clearTimeout(E.current),E.current=setTimeout(()=>u(!1),J)):F&&(clearTimeout(E.current),u(!1))},[_,u]),ee=L.exports.useCallback(()=>{C.current(),T.current=void 0},[]),V=L.exports.useCallback(()=>{if(I.current){const F=sa(y.floating.current).body;F.style.pointerEvents="",F.removeAttribute(TC),I.current=!1}},[y]);return L.exports.useEffect(()=>{if(!n)return;function F(){return d.current.openEvent?["click","mousedown"].includes(d.current.openEvent.type):!1}function J(U){if(clearTimeout(E.current),A.current=!1,o&&!fk(w.current)||s>0&&Ug(_.current,"open")===0)return;d.current.openEvent=U;const K=Ug(_.current,"open",w.current);K?E.current=setTimeout(()=>{u(!0)},K):u(!0)}function re(U){if(F())return;C.current();const K=sa(m);if(clearTimeout(P.current),g.current){l||clearTimeout(E.current),T.current=g.current({...t,tree:x,x:U.clientX,y:U.clientY,onClose(){V(),ee(),B()}});const W=T.current;K.addEventListener("mousemove",W),C.current=()=>{K.removeEventListener("mousemove",W)};return}B()}function ne(U){F()||g.current==null||g.current({...t,tree:x,x:U.clientX,y:U.clientY,onClose(){V(),ee(),B()}})(U)}if(Do(p)){const U=p;return l&&U.addEventListener("mouseleave",ne),m==null||m.addEventListener("mouseleave",ne),a&&U.addEventListener("mousemove",J,{once:!0}),U.addEventListener("mouseenter",J),U.addEventListener("mouseleave",re),()=>{l&&U.removeEventListener("mouseleave",ne),m==null||m.removeEventListener("mouseleave",ne),a&&U.removeEventListener("mousemove",J),U.removeEventListener("mouseenter",J),U.removeEventListener("mouseleave",re)}}},[p,m,n,t,o,s,a,B,ee,V,u,l,x,_,g,d]),Ou(()=>{var F;if(!!n&&l&&(F=g.current)!=null&&F.__options.blockPointerEvents&&O()){const ne=sa(m).body;if(ne.setAttribute(TC,""),ne.style.pointerEvents="none",I.current=!0,Do(p)&&m){var J,re;const U=p,K=x==null||(J=x.nodesRef.current.find(W=>W.id===S))==null||(re=J.context)==null?void 0:re.elements.floating;return K&&(K.style.pointerEvents=""),U.style.pointerEvents="auto",m.style.pointerEvents="auto",()=>{U.style.pointerEvents="",m.style.pointerEvents=""}}}},[n,l,S,m,p,x,g,d,O]),Ou(()=>{l||(w.current=void 0,ee(),V())},[l,ee,V]),L.exports.useEffect(()=>()=>{ee(),clearTimeout(E.current),clearTimeout(P.current),V()},[n,ee,V]),L.exports.useMemo(()=>{if(!n)return{};function F(J){w.current=J.pointerType}return{reference:{onPointerDown:F,onPointerEnter:F,onMouseMove(){l||s===0||(clearTimeout(P.current),P.current=setTimeout(()=>{A.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),B(!1)}}}},[h,n,s,l,u,B])},dk=L.exports.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),hk=()=>L.exports.useContext(dk),pj=t=>{let{children:e,delay:n,timeoutMs:r=0}=t;const[i,o]=L.exports.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=L.exports.useRef(null),a=L.exports.useCallback(l=>{o({currentId:l})},[]);return Ou(()=>{i.currentId?s.current===null?s.current=i.currentId:o({isInstantPhase:!0}):(o({isInstantPhase:!1}),s.current=null)},[i.currentId]),Z(dk.Provider,{value:L.exports.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,o,a]),children:e})},mj=(t,e)=>{let{open:n,onOpenChange:r}=t,{id:i}=e;const{currentId:o,setCurrentId:s,initialDelay:a,setState:l,timeoutMs:u}=hk();L.exports.useEffect(()=>{o&&(l({delay:{open:1,close:Ug(a,"close")}}),o!==i&&r(!1))},[i,r,l,o,a]),L.exports.useEffect(()=>{function d(){r(!1),l({delay:a,currentId:null})}if(!n&&o===i)if(u){const h=window.setTimeout(d,u);return()=>{clearTimeout(h)}}else d()},[n,l,o,i,r,a,u]),L.exports.useEffect(()=>{n&&s(i)},[n,s,i])};function gj(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function PC(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&uj(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function fS(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)})||[],r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function vj(t){return"composedPath"in t?t.composedPath()[0]:t.target}const yj=Qg["useInsertionEffect".toString()],_j=yj||(t=>t());function pk(t){const e=L.exports.useRef(()=>{});return _j(()=>{e.current=t}),L.exports.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function zg(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}const xj={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Sj={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},wj=function(t){var e,n;return t===void 0&&(t=!0),{escapeKeyBubbles:typeof t=="boolean"?t:(e=t.escapeKey)!=null?e:!0,outsidePressBubbles:typeof t=="boolean"?t:(n=t.outsidePress)!=null?n:!0}},bj=function(t,e){let{open:n,onOpenChange:r,events:i,nodeId:o,elements:{reference:s,domReference:a,floating:l},dataRef:u}=t,{enabled:d=!0,escapeKey:h=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:y=!1,referencePressEvent:x="pointerdown",ancestorScroll:S=!1,bubbles:g=!0}=e===void 0?{}:e;const _=GE(),w=ck()!=null,E=pk(typeof p=="function"?p:()=>!1),T=typeof p=="function"?E:p,P=L.exports.useRef(!1),{escapeKeyBubbles:A,outsidePressBubbles:I}=wj(g);return L.exports.useEffect(()=>{if(!n||!d)return;u.current.__escapeKeyBubbles=A,u.current.__outsidePressBubbles=I;function C(F){if(F.key==="Escape"){const J=_?fS(_.nodesRef.current,o):[];if(J.length>0){let re=!0;if(J.forEach(ne=>{var U;if((U=ne.context)!=null&&U.open&&!ne.context.dataRef.current.__escapeKeyBubbles){re=!1;return}}),!re)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function O(F){const J=P.current;if(P.current=!1,J||typeof T=="function"&&!T(F))return;const re=vj(F);if(uk(re)&&l){const K=l.ownerDocument.defaultView||window,W=re.scrollWidth>re.clientWidth,G=re.scrollHeight>re.clientHeight;let N=G&&F.offsetX>re.clientWidth;if(G&&K.getComputedStyle(re).direction==="rtl"&&(N=F.offsetX<=re.offsetWidth-re.clientWidth),N||W&&F.offsetY>re.clientHeight)return}const ne=_&&fS(_.nodesRef.current,o).some(K=>{var W;return zg(F,(W=K.context)==null?void 0:W.elements.floating)});if(zg(F,l)||zg(F,a)||ne)return;const U=_?fS(_.nodesRef.current,o):[];if(U.length>0){let K=!0;if(U.forEach(W=>{var G;if((G=W.context)!=null&&G.open&&!W.context.dataRef.current.__outsidePressBubbles){K=!1;return}}),!K)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:fj(F)||dj(F)}}),r(!1)}function B(){r(!1)}const ee=sa(l);h&&ee.addEventListener("keydown",C),T&&ee.addEventListener(m,O);let V=[];return S&&(Do(a)&&(V=ya(a)),Do(l)&&(V=V.concat(ya(l))),!Do(s)&&s&&s.contextElement&&(V=V.concat(ya(s.contextElement)))),V=V.filter(F=>{var J;return F!==((J=ee.defaultView)==null?void 0:J.visualViewport)}),V.forEach(F=>{F.addEventListener("scroll",B,{passive:!0})}),()=>{h&&ee.removeEventListener("keydown",C),T&&ee.removeEventListener(m,O),V.forEach(F=>{F.removeEventListener("scroll",B)})}},[u,l,a,s,h,T,m,i,_,o,n,r,S,d,A,I,w]),L.exports.useEffect(()=>{P.current=!1},[T,m]),L.exports.useMemo(()=>d?{reference:{[xj[x]]:()=>{y&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Sj[m]]:()=>{P.current=!0}}}:{},[d,i,y,m,x,r])},Ej=function(t,e){let{open:n,onOpenChange:r,dataRef:i,events:o,refs:s,elements:{floating:a,domReference:l}}=t,{enabled:u=!0,keyboardOnly:d=!0}=e===void 0?{}:e;const h=L.exports.useRef(""),p=L.exports.useRef(!1),m=L.exports.useRef();return L.exports.useEffect(()=>{if(!u)return;const x=sa(a).defaultView||window;function S(){!n&&uk(l)&&l===gj(sa(l))&&(p.current=!0)}return x.addEventListener("blur",S),()=>{x.removeEventListener("blur",S)}},[a,l,n,u]),L.exports.useEffect(()=>{if(!u)return;function y(x){(x.type==="referencePress"||x.type==="escapeKey")&&(p.current=!0)}return o.on("dismiss",y),()=>{o.off("dismiss",y)}},[o,u]),L.exports.useEffect(()=>()=>{clearTimeout(m.current)},[]),L.exports.useMemo(()=>u?{reference:{onPointerDown(y){let{pointerType:x}=y;h.current=x,p.current=!!(x&&d)},onMouseLeave(){p.current=!1},onFocus(y){var x;p.current||y.type==="focus"&&((x=i.current.openEvent)==null?void 0:x.type)==="mousedown"&&i.current.openEvent&&zg(i.current.openEvent,l)||(i.current.openEvent=y.nativeEvent,r(!0))},onBlur(y){p.current=!1;const x=y.relatedTarget,S=Do(x)&&x.hasAttribute("data-floating-ui-focus-guard")&&x.getAttribute("data-type")==="outside";m.current=setTimeout(()=>{PC(s.floating.current,x)||PC(l,x)||S||r(!1)})}}}:{},[u,d,l,s,i,r])},Mj=function(t,e){let{open:n}=t,{enabled:r=!0,role:i="dialog"}=e===void 0?{}:e;const o=EC(),s=EC();return L.exports.useMemo(()=>{const a={id:o,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?o:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[r,i,n,o,s])};function mk(t){t===void 0&&(t={});const{open:e=!1,onOpenChange:n,nodeId:r}=t,i=tj(t),o=GE(),s=L.exports.useRef(null),a=L.exports.useRef({}),l=L.exports.useState(()=>oj())[0],[u,d]=L.exports.useState(null),h=L.exports.useCallback(g=>{const _=Do(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;i.refs.setReference(_)},[i.refs]),p=L.exports.useCallback(g=>{(Do(g)||g===null)&&(s.current=g,d(g)),(Do(i.refs.reference.current)||i.refs.reference.current===null||g!==null&&!Do(g))&&i.refs.setReference(g)},[i.refs]),m=L.exports.useMemo(()=>({...i.refs,setReference:p,setPositionReference:h,domReference:s}),[i.refs,p,h]),y=L.exports.useMemo(()=>({...i.elements,domReference:u}),[i.elements,u]),x=pk(n),S=L.exports.useMemo(()=>({...i,refs:m,elements:y,dataRef:a,nodeId:r,events:l,open:e,onOpenChange:x}),[i,r,l,e,x,m,y]);return Ou(()=>{const g=o==null?void 0:o.nodesRef.current.find(_=>_.id===r);g&&(g.context=S)}),L.exports.useMemo(()=>({...i,context:S,refs:m,reference:p,positionReference:h}),[i,m,S,p,h])}function dS(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var d,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];(d=r.get(a))==null||d.forEach(y=>y(...p))}}}else i[a]=l}),i),{})}}const Tj=function(t){t===void 0&&(t=[]);const e=t,n=L.exports.useCallback(o=>dS(o,t,"reference"),e),r=L.exports.useCallback(o=>dS(o,t,"floating"),e),i=L.exports.useCallback(o=>dS(o,t,"item"),t.map(o=>o==null?void 0:o.item));return L.exports.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function Pj({opened:t,floating:e,position:n,positionDependencies:r}){const[i,o]=L.exports.useState(0);L.exports.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current)return K7(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),nh(()=>{e.update()},r),nh(()=>{o(s=>s+1)},[t])}var Aj=Object.defineProperty,AC=Object.getOwnPropertySymbols,Rj=Object.prototype.hasOwnProperty,Cj=Object.prototype.propertyIsEnumerable,RC=(t,e,n)=>e in t?Aj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mc=(t,e)=>{for(var n in e||(e={}))Rj.call(e,n)&&RC(t,n,e[n]);if(AC)for(var n of AC(e))Cj.call(e,n)&&RC(t,n,e[n]);return t};const CC={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Lj({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in um?mc(mc(mc({transitionProperty:um[t].transitionProperty},i),um[t].common),um[t][CC[e]]):null:mc(mc(mc({transitionProperty:t.transitionProperty},i),t.common),t[CC[e]])}function Oj({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=ho(),u=DE(),d=l.respectReducedMotion?u:!1,[h,p]=L.exports.useState(d?0:t),[m,y]=L.exports.useState(r?"entered":"exited"),x=L.exports.useRef(-1),S=g=>{const _=g?i:o,w=g?s:a;y(g?"pre-entering":"pre-exiting"),window.clearTimeout(x.current);const E=d?0:g?t:e;if(p(E),E===0)typeof _=="function"&&_(),typeof w=="function"&&w(),y(g?"entered":"exited");else{const T=window.setTimeout(()=>{typeof _=="function"&&_(),y(g?"entering":"exiting")},10);x.current=window.setTimeout(()=>{window.clearTimeout(T),typeof w=="function"&&w(),y(g?"entered":"exited")},E)}};return nh(()=>{S(r)},[r]),L.exports.useEffect(()=>()=>window.clearTimeout(x.current),[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||l.transitionTimingFunction}}function Qu({keepMounted:t,transition:e,duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:d}){const{transitionDuration:h,transitionStatus:p,transitionTimingFunction:m}=Oj({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:d});return h===0?i?Z(Dr,{children:o({})}):t?o({display:"none"}):null:p==="exited"?t?o({display:"none"}):null:Z(Dr,{children:o(Lj({transition:e,duration:h,state:p,timingFunction:m}))})}Qu.displayName="@mantine/core/Transition";function gk({children:t,active:e=!0,refProp:n="ref"}){const r=zW(e),i=Yu(r,t==null?void 0:t.ref);return EE(t)?L.exports.cloneElement(t,{[n]:i}):t}gk.displayName="@mantine/core/FocusTrap";var Ij=Object.defineProperty,Nj=Object.defineProperties,Dj=Object.getOwnPropertyDescriptors,LC=Object.getOwnPropertySymbols,kj=Object.prototype.hasOwnProperty,Uj=Object.prototype.propertyIsEnumerable,OC=(t,e,n)=>e in t?Ij(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hs=(t,e)=>{for(var n in e||(e={}))kj.call(e,n)&&OC(t,n,e[n]);if(LC)for(var n of LC(e))Uj.call(e,n)&&OC(t,n,e[n]);return t},vm=(t,e)=>Nj(t,Dj(e));function IC(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function NC(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const zj={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Fj({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=t.split("-"),d={width:ae(e),height:ae(e),transform:"rotate(45deg)",position:"absolute",[zj[l]]:ae(r)},h=ae(-e/2);return l==="left"?vm(Hs(Hs({},d),IC(u,s,n,i)),{right:h,borderLeftColor:"transparent",borderBottomColor:"transparent"}):l==="right"?vm(Hs(Hs({},d),IC(u,s,n,i)),{left:h,borderRightColor:"transparent",borderTopColor:"transparent"}):l==="top"?vm(Hs(Hs({},d),NC(u,o,n,i,a)),{bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent"}):l==="bottom"?vm(Hs(Hs({},d),NC(u,o,n,i,a)),{top:h,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var Bj=Object.defineProperty,Vj=Object.defineProperties,$j=Object.getOwnPropertyDescriptors,$v=Object.getOwnPropertySymbols,vk=Object.prototype.hasOwnProperty,yk=Object.prototype.propertyIsEnumerable,DC=(t,e,n)=>e in t?Bj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hj=(t,e)=>{for(var n in e||(e={}))vk.call(e,n)&&DC(t,n,e[n]);if($v)for(var n of $v(e))yk.call(e,n)&&DC(t,n,e[n]);return t},Wj=(t,e)=>Vj(t,$j(e)),Gj=(t,e)=>{var n={};for(var r in t)vk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$v)for(var r of $v(t))e.indexOf(r)<0&&yk.call(t,r)&&(n[r]=t[r]);return n};const _k=L.exports.forwardRef((t,e)=>{var n=t,{position:r,arrowSize:i,arrowOffset:o,arrowRadius:s,arrowPosition:a,visible:l,arrowX:u,arrowY:d}=n,h=Gj(n,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const p=ho();return l?Z("div",{...Wj(Hj({},h),{ref:e,style:Fj({position:r,arrowSize:i,arrowOffset:o,arrowRadius:s,arrowPosition:a,dir:p.dir,arrowX:u,arrowY:d})})}):null});_k.displayName="@mantine/core/FloatingArrow";function jj(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}var Xj=Object.defineProperty,Yj=Object.defineProperties,qj=Object.getOwnPropertyDescriptors,Hv=Object.getOwnPropertySymbols,xk=Object.prototype.hasOwnProperty,Sk=Object.prototype.propertyIsEnumerable,kC=(t,e,n)=>e in t?Xj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ym=(t,e)=>{for(var n in e||(e={}))xk.call(e,n)&&kC(t,n,e[n]);if(Hv)for(var n of Hv(e))Sk.call(e,n)&&kC(t,n,e[n]);return t},Zj=(t,e)=>Yj(t,qj(e)),Qj=(t,e)=>{var n={};for(var r in t)xk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Hv)for(var r of Hv(t))e.indexOf(r)<0&&Sk.call(t,r)&&(n[r]=t[r]);return n};function Kj(t,e,n){const r=Tt(t,e,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:d,unstyled:h,__staticSelector:p,sx:m,errorProps:y,labelProps:x,descriptionProps:S,wrapperProps:g,id:_,size:w,style:E,inputContainer:T,inputWrapperOrder:P,withAsterisk:A,variant:I}=r,C=Qj(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),O=Ch(_),{systemStyles:B,rest:ee}=kE(C),V=ym({label:i,description:o,error:s,required:a,classNames:l,className:d,__staticSelector:p,sx:m,errorProps:y,labelProps:x,descriptionProps:S,unstyled:h,styles:u,id:O,size:w,style:E,inputContainer:T,inputWrapperOrder:P,withAsterisk:A,variant:I},g);return Zj(ym({},ee),{classNames:l,styles:u,unstyled:h,wrapperProps:ym(ym({},V),B),inputProps:{required:a,classNames:l,styles:u,unstyled:h,id:O,size:w,__staticSelector:p,error:s,variant:I}})}var Jj=Lt((t,e,{size:n})=>({label:{display:"inline-block",fontSize:nt({size:n,sizes:t.fontSizes}),fontWeight:500,color:t.colorScheme==="dark"?t.colors.dark[0]:t.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:t.fn.variant({variant:"filled",color:"red"}).background}}));const eX=Jj;var tX=Object.defineProperty,Wv=Object.getOwnPropertySymbols,wk=Object.prototype.hasOwnProperty,bk=Object.prototype.propertyIsEnumerable,UC=(t,e,n)=>e in t?tX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nX=(t,e)=>{for(var n in e||(e={}))wk.call(e,n)&&UC(t,n,e[n]);if(Wv)for(var n of Wv(e))bk.call(e,n)&&UC(t,n,e[n]);return t},rX=(t,e)=>{var n={};for(var r in t)wk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wv)for(var r of Wv(t))e.indexOf(r)<0&&bk.call(t,r)&&(n[r]=t[r]);return n};const iX={labelElement:"label",size:"sm"},XE=L.exports.forwardRef((t,e)=>{const n=Tt("InputLabel",iX,t),{labelElement:r,children:i,required:o,size:s,classNames:a,styles:l,unstyled:u,className:d,htmlFor:h,__staticSelector:p,variant:m,onMouseDown:y}=n,x=rX(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:S,cx:g}=eX(null,{name:["InputWrapper",p],classNames:a,styles:l,unstyled:u,variant:m,size:s});return ut(Dt,{...nX({component:r,ref:e,className:g(S.label,d),htmlFor:r==="label"?h:void 0,onMouseDown:_=>{y==null||y(_),!_.defaultPrevented&&_.detail>1&&_.preventDefault()}},x),children:[i,o&&Z("span",{className:S.required,"aria-hidden":!0,children:" *"})]})});XE.displayName="@mantine/core/InputLabel";var oX=Lt((t,e,{size:n})=>({error:{wordBreak:"break-word",color:t.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${nt({size:n,sizes:t.fontSizes})} - ${ae(2)})`,lineHeight:1.2,display:"block"}}));const sX=oX;var aX=Object.defineProperty,Gv=Object.getOwnPropertySymbols,Ek=Object.prototype.hasOwnProperty,Mk=Object.prototype.propertyIsEnumerable,zC=(t,e,n)=>e in t?aX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lX=(t,e)=>{for(var n in e||(e={}))Ek.call(e,n)&&zC(t,n,e[n]);if(Gv)for(var n of Gv(e))Mk.call(e,n)&&zC(t,n,e[n]);return t},cX=(t,e)=>{var n={};for(var r in t)Ek.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Gv)for(var r of Gv(t))e.indexOf(r)<0&&Mk.call(t,r)&&(n[r]=t[r]);return n};const uX={size:"sm"},YE=L.exports.forwardRef((t,e)=>{const n=Tt("InputError",uX,t),{children:r,className:i,classNames:o,styles:s,unstyled:a,size:l,__staticSelector:u,variant:d}=n,h=cX(n,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:p,cx:m}=sX(null,{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a,variant:d,size:l});return Z(Wr,{...lX({className:m(p.error,i),ref:e},h),children:r})});YE.displayName="@mantine/core/InputError";var fX=Lt((t,e,{size:n})=>({description:{wordBreak:"break-word",color:t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6],fontSize:`calc(${nt({size:n,sizes:t.fontSizes})} - ${ae(2)})`,lineHeight:1.2,display:"block"}}));const dX=fX;var hX=Object.defineProperty,jv=Object.getOwnPropertySymbols,Tk=Object.prototype.hasOwnProperty,Pk=Object.prototype.propertyIsEnumerable,FC=(t,e,n)=>e in t?hX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pX=(t,e)=>{for(var n in e||(e={}))Tk.call(e,n)&&FC(t,n,e[n]);if(jv)for(var n of jv(e))Pk.call(e,n)&&FC(t,n,e[n]);return t},mX=(t,e)=>{var n={};for(var r in t)Tk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&jv)for(var r of jv(t))e.indexOf(r)<0&&Pk.call(t,r)&&(n[r]=t[r]);return n};const gX={size:"sm"},qE=L.exports.forwardRef((t,e)=>{const n=Tt("InputDescription",gX,t),{children:r,className:i,classNames:o,styles:s,unstyled:a,size:l,__staticSelector:u,variant:d}=n,h=mX(n,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:p,cx:m}=dX(null,{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a,variant:d,size:l});return Z(Wr,{...pX({color:"dimmed",className:m(p.description,i),ref:e,unstyled:a},h),children:r})});qE.displayName="@mantine/core/InputDescription";const Ak=L.exports.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),vX=Ak.Provider,yX=()=>L.exports.useContext(Ak);function _X(t,{hasDescription:e,hasError:n}){const r=t.findIndex(l=>l==="input"),i=t[r-1],o=t[r+1];return{offsetBottom:e&&o==="description"||n&&o==="error",offsetTop:e&&i==="description"||n&&i==="error"}}var xX=Object.defineProperty,SX=Object.defineProperties,wX=Object.getOwnPropertyDescriptors,BC=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,EX=Object.prototype.propertyIsEnumerable,VC=(t,e,n)=>e in t?xX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MX=(t,e)=>{for(var n in e||(e={}))bX.call(e,n)&&VC(t,n,e[n]);if(BC)for(var n of BC(e))EX.call(e,n)&&VC(t,n,e[n]);return t},TX=(t,e)=>SX(t,wX(e)),PX=Lt(t=>({root:TX(MX({},t.fn.fontStyles()),{lineHeight:t.lineHeight})}));const AX=PX;var RX=Object.defineProperty,CX=Object.defineProperties,LX=Object.getOwnPropertyDescriptors,Xv=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable,$C=(t,e,n)=>e in t?RX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ws=(t,e)=>{for(var n in e||(e={}))Rk.call(e,n)&&$C(t,n,e[n]);if(Xv)for(var n of Xv(e))Ck.call(e,n)&&$C(t,n,e[n]);return t},HC=(t,e)=>CX(t,LX(e)),OX=(t,e)=>{var n={};for(var r in t)Rk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xv)for(var r of Xv(t))e.indexOf(r)<0&&Ck.call(t,r)&&(n[r]=t[r]);return n};const IX={labelElement:"label",size:"sm",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Lk=L.exports.forwardRef((t,e)=>{const n=Tt("InputWrapper",IX,t),{className:r,label:i,children:o,required:s,id:a,error:l,description:u,labelElement:d,labelProps:h,descriptionProps:p,errorProps:m,classNames:y,styles:x,size:S,inputContainer:g,__staticSelector:_,unstyled:w,inputWrapperOrder:E,withAsterisk:T,variant:P}=n,A=OX(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:I,cx:C}=AX(null,{classNames:y,styles:x,name:["InputWrapper",_],unstyled:w,variant:P,size:S}),O={classNames:y,styles:x,unstyled:w,size:S,variant:P,__staticSelector:_},B=typeof T=="boolean"?T:s,ee=a?`${a}-error`:m==null?void 0:m.id,V=a?`${a}-description`:p==null?void 0:p.id,J=`${!!l&&typeof l!="boolean"?ee:""} ${u?V:""}`,re=J.trim().length>0?J.trim():void 0,ne=i&&Z(XE,{...Ws(Ws({key:"label",labelElement:d,id:a?`${a}-label`:void 0,htmlFor:a,required:B},O),h),children:i}),U=u&&Z(qE,{...HC(Ws(Ws({key:"description"},p),O),{size:(p==null?void 0:p.size)||O.size,id:(p==null?void 0:p.id)||V}),children:u}),K=Z(L.exports.Fragment,{children:g(o)},"input"),W=typeof l!="boolean"&&l&&Z(YE,{...HC(Ws(Ws({},m),O),{size:(m==null?void 0:m.size)||O.size,key:"error",id:(m==null?void 0:m.id)||ee}),children:l}),G=E.map(N=>{switch(N){case"label":return ne;case"input":return K;case"description":return U;case"error":return W;default:return null}});return Z(vX,{value:Ws({describedBy:re},_X(E,{hasDescription:!!U,hasError:!!W})),children:Z(Dt,{...Ws({className:C(I.root,r),ref:e},A),children:G})})});Lk.displayName="@mantine/core/InputWrapper";var NX=Object.defineProperty,Yv=Object.getOwnPropertySymbols,Ok=Object.prototype.hasOwnProperty,Ik=Object.prototype.propertyIsEnumerable,WC=(t,e,n)=>e in t?NX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DX=(t,e)=>{for(var n in e||(e={}))Ok.call(e,n)&&WC(t,n,e[n]);if(Yv)for(var n of Yv(e))Ik.call(e,n)&&WC(t,n,e[n]);return t},kX=(t,e)=>{var n={};for(var r in t)Ok.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Yv)for(var r of Yv(t))e.indexOf(r)<0&&Ik.call(t,r)&&(n[r]=t[r]);return n};const UX={},Nk=L.exports.forwardRef((t,e)=>{const n=Tt("InputPlaceholder",UX,t),{sx:r}=n,i=kX(n,["sx"]);return Z(Dt,{...DX({component:"span",sx:[o=>o.fn.placeholderStyles(),...bE(r)],ref:e},i)})});Nk.displayName="@mantine/core/InputPlaceholder";var zX=Object.defineProperty,FX=Object.defineProperties,BX=Object.getOwnPropertyDescriptors,GC=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,$X=Object.prototype.propertyIsEnumerable,jC=(t,e,n)=>e in t?zX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_m=(t,e)=>{for(var n in e||(e={}))VX.call(e,n)&&jC(t,n,e[n]);if(GC)for(var n of GC(e))$X.call(e,n)&&jC(t,n,e[n]);return t},hS=(t,e)=>FX(t,BX(e));const Lr={xs:ae(30),sm:ae(36),md:ae(42),lg:ae(50),xl:ae(60)},HX=["default","filled","unstyled"];function WX({theme:t,variant:e}){return HX.includes(e)?e==="default"?{border:`${ae(1)} solid ${t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[4]}`,backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.white,transition:"border-color 100ms ease","&:focus, &:focus-within":t.focusRingStyles.inputStyles(t)}:e==="filled"?{border:`${ae(1)} solid transparent`,backgroundColor:t.colorScheme==="dark"?t.colors.dark[5]:t.colors.gray[1],"&:focus, &:focus-within":t.focusRingStyles.inputStyles(t)}:{borderWidth:0,color:t.colorScheme==="dark"?t.colors.dark[0]:t.black,backgroundColor:"transparent",minHeight:ae(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var GX=Lt((t,{multiline:e,radius:n,invalid:r,rightSectionWidth:i,withRightSection:o,iconWidth:s,offsetBottom:a,offsetTop:l,pointer:u},{variant:d,size:h})=>{const p=t.fn.variant({variant:"filled",color:"red"}).background,m=d==="default"||d==="filled"?{minHeight:nt({size:h,sizes:Lr}),paddingLeft:`calc(${nt({size:h,sizes:Lr})}  / 3)`,paddingRight:o?i||nt({size:h,sizes:Lr}):`calc(${nt({size:h,sizes:Lr})}  / 3)`,borderRadius:t.fn.radius(n)}:d==="unstyled"&&o?{paddingRight:i||nt({size:h,sizes:Lr})}:null;return{wrapper:{position:"relative",marginTop:l?`calc(${t.spacing.xs} / 2)`:void 0,marginBottom:a?`calc(${t.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:hS(_m(_m(hS(_m({},t.fn.fontStyles()),{height:e?d==="unstyled"?void 0:"auto":nt({size:h,sizes:Lr}),WebkitTapHighlightColor:"transparent",lineHeight:e?t.lineHeight:`calc(${nt({size:h,sizes:Lr})} - ${ae(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:nt({size:h,sizes:t.fontSizes}),width:"100%",color:t.colorScheme==="dark"?t.colors.dark[0]:t.black,display:"block",textAlign:"left",cursor:u?"pointer":void 0}),WX({theme:t,variant:d})),m),{"&:disabled, &[data-disabled]":{backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[1],color:t.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:t.colors.dark[2]}},"&[data-invalid]":{color:p,borderColor:p,"&::placeholder":{opacity:1,color:p}},"&[data-with-icon]":{paddingLeft:typeof s=="number"?ae(s):nt({size:h,sizes:Lr})},"&::placeholder":hS(_m({},t.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:s?ae(s):nt({size:h,sizes:Lr}),color:r?t.colors.red[t.colorScheme==="dark"?6:7]:t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:i||nt({size:h,sizes:Lr})}}});const jX=GX;var XX=Object.defineProperty,YX=Object.defineProperties,qX=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertySymbols,Dk=Object.prototype.hasOwnProperty,kk=Object.prototype.propertyIsEnumerable,XC=(t,e,n)=>e in t?XX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xm=(t,e)=>{for(var n in e||(e={}))Dk.call(e,n)&&XC(t,n,e[n]);if(qv)for(var n of qv(e))kk.call(e,n)&&XC(t,n,e[n]);return t},YC=(t,e)=>YX(t,qX(e)),ZX=(t,e)=>{var n={};for(var r in t)Dk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qv)for(var r of qv(t))e.indexOf(r)<0&&kk.call(t,r)&&(n[r]=t[r]);return n};const QX={size:"sm",variant:"default"},jl=L.exports.forwardRef((t,e)=>{const n=Tt("Input",QX,t),{className:r,error:i,required:o,disabled:s,variant:a,icon:l,style:u,rightSectionWidth:d,iconWidth:h,rightSection:p,rightSectionProps:m,radius:y,size:x,wrapperProps:S,classNames:g,styles:_,__staticSelector:w,multiline:E,sx:T,unstyled:P,pointer:A}=n,I=ZX(n,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:C,offsetTop:O,describedBy:B}=yX(),{classes:ee,cx:V}=jX({radius:y,multiline:E,invalid:!!i,rightSectionWidth:d?ae(d):void 0,iconWidth:h,withRightSection:!!p,offsetBottom:C,offsetTop:O,pointer:A},{classNames:g,styles:_,name:["Input",w],unstyled:P,variant:a,size:x}),{systemStyles:F,rest:J}=kE(I);return ut(Dt,{...xm(xm({className:V(ee.wrapper,r),sx:T,style:u},F),S),children:[l&&Z("div",{className:ee.icon,children:l}),Z(Dt,{...YC(xm({component:"input"},J),{ref:e,required:o,"aria-invalid":!!i,"aria-describedby":B,disabled:s,"data-disabled":s||void 0,"data-with-icon":!!l||void 0,"data-invalid":!!i||void 0,className:ee.input})}),p&&Z("div",{...YC(xm({},m),{className:ee.rightSection}),children:p})]})});jl.displayName="@mantine/core/Input";jl.Wrapper=Lk;jl.Label=XE;jl.Description=qE;jl.Error=YE;jl.Placeholder=Nk;const qC=jl;var KX=Lt((t,{orientation:e,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:e==="vertical"?"column":"row","& [data-button]":{"&:first-of-type:not(:last-of-type)":{borderBottomRightRadius:0,[e==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[e==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${ae(n)} / 2)`},"&:last-of-type:not(:first-of-type)":{borderTopLeftRadius:0,[e==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[e==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${ae(n)} / 2)`},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[e==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${ae(n)} / 2)`,[e==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${ae(n)} / 2)`},"& + [data-button]":{[e==="vertical"?"marginTop":"marginLeft"]:`calc(${n} * -1)`,"@media (min-resolution: 192dpi)":{[e==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const JX=KX;var eY=Object.defineProperty,Zv=Object.getOwnPropertySymbols,Uk=Object.prototype.hasOwnProperty,zk=Object.prototype.propertyIsEnumerable,ZC=(t,e,n)=>e in t?eY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tY=(t,e)=>{for(var n in e||(e={}))Uk.call(e,n)&&ZC(t,n,e[n]);if(Zv)for(var n of Zv(e))zk.call(e,n)&&ZC(t,n,e[n]);return t},nY=(t,e)=>{var n={};for(var r in t)Uk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zv)for(var r of Zv(t))e.indexOf(r)<0&&zk.call(t,r)&&(n[r]=t[r]);return n};const rY={orientation:"horizontal",buttonBorderWidth:1},Fk=L.exports.forwardRef((t,e)=>{const n=Tt("ButtonGroup",rY,t),{className:r,orientation:i,buttonBorderWidth:o,unstyled:s}=n,a=nY(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=JX({orientation:i,buttonBorderWidth:o},{name:"ButtonGroup",unstyled:s});return Z(Dt,{...tY({className:u(l.root,r),ref:e},a)})});Fk.displayName="@mantine/core/ButtonGroup";var iY=Object.defineProperty,oY=Object.defineProperties,sY=Object.getOwnPropertyDescriptors,QC=Object.getOwnPropertySymbols,aY=Object.prototype.hasOwnProperty,lY=Object.prototype.propertyIsEnumerable,KC=(t,e,n)=>e in t?iY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,us=(t,e)=>{for(var n in e||(e={}))aY.call(e,n)&&KC(t,n,e[n]);if(QC)for(var n of QC(e))lY.call(e,n)&&KC(t,n,e[n]);return t},Fg=(t,e)=>oY(t,sY(e));const cY=["filled","outline","light","white","default","subtle","gradient"],bw={xs:{height:Lr.xs,paddingLeft:ae(14),paddingRight:ae(14)},sm:{height:Lr.sm,paddingLeft:ae(18),paddingRight:ae(18)},md:{height:Lr.md,paddingLeft:ae(22),paddingRight:ae(22)},lg:{height:Lr.lg,paddingLeft:ae(26),paddingRight:ae(26)},xl:{height:Lr.xl,paddingLeft:ae(32),paddingRight:ae(32)},"compact-xs":{height:ae(22),paddingLeft:ae(7),paddingRight:ae(7)},"compact-sm":{height:ae(26),paddingLeft:ae(8),paddingRight:ae(8)},"compact-md":{height:ae(30),paddingLeft:ae(10),paddingRight:ae(10)},"compact-lg":{height:ae(34),paddingLeft:ae(12),paddingRight:ae(12)},"compact-xl":{height:ae(40),paddingLeft:ae(14),paddingRight:ae(14)}};function uY({compact:t,size:e,withLeftIcon:n,withRightIcon:r}){if(t)return bw[`compact-${e}`];const i=bw[e];return i?Fg(us({},i),{paddingLeft:n?`calc(${i.paddingLeft}  / 1.5)`:i.paddingLeft,paddingRight:r?`calc(${i.paddingRight}  / 1.5)`:i.paddingRight}):{}}const fY=t=>({display:t?"block":"inline-block",width:t?"100%":"auto"});function dY({variant:t,theme:e,color:n,gradient:r}){if(!cY.includes(t))return null;const i=e.fn.variant({color:n,variant:t,gradient:r});return t==="gradient"?us({border:0,backgroundImage:i.background,color:i.color},e.fn.hover({backgroundSize:"200%"})):us({border:`${ae(1)} solid ${i.border}`,backgroundColor:i.background,color:i.color},e.fn.hover({backgroundColor:i.hover}))}var hY=Lt((t,{radius:e,fullWidth:n,compact:r,withLeftIcon:i,withRightIcon:o,color:s,gradient:a},{variant:l,size:u})=>({root:Fg(us(Fg(us(us(us(us({},uY({compact:r,size:u,withLeftIcon:i,withRightIcon:o})),t.fn.fontStyles()),t.fn.focusStyles()),fY(n)),{borderRadius:t.fn.radius(e),fontWeight:600,position:"relative",lineHeight:1,fontSize:nt({size:u,sizes:t.fontSizes}),userSelect:"none",cursor:"pointer"}),dY({variant:l,theme:t,color:s,gradient:a})),{"&:active":t.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2],color:t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":Fg(us({content:'""'},t.fn.cover(ae(-1))),{backgroundColor:t.colorScheme==="dark"?t.fn.rgba(t.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:t.fn.radius(e),cursor:"not-allowed"})}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:t.spacing.xs},rightIcon:{marginLeft:t.spacing.xs},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const pY=hY;var mY=Object.defineProperty,Qv=Object.getOwnPropertySymbols,Bk=Object.prototype.hasOwnProperty,Vk=Object.prototype.propertyIsEnumerable,JC=(t,e,n)=>e in t?mY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e2=(t,e)=>{for(var n in e||(e={}))Bk.call(e,n)&&JC(t,n,e[n]);if(Qv)for(var n of Qv(e))Vk.call(e,n)&&JC(t,n,e[n]);return t},gY=(t,e)=>{var n={};for(var r in t)Bk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qv)for(var r of Qv(t))e.indexOf(r)<0&&Vk.call(t,r)&&(n[r]=t[r]);return n};const vY={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},ZE=L.exports.forwardRef((t,e)=>{const n=Tt("Button",vY,t),{className:r,size:i,color:o,type:s,disabled:a,children:l,leftIcon:u,rightIcon:d,fullWidth:h,variant:p,radius:m,uppercase:y,compact:x,loading:S,loaderPosition:g,loaderProps:_,gradient:w,classNames:E,styles:T,unstyled:P}=n,A=gY(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:C,theme:O}=pY({radius:m,color:o,fullWidth:h,compact:x,gradient:w,withLeftIcon:!!u,withRightIcon:!!d},{name:"Button",unstyled:P,classNames:E,styles:T,variant:p,size:i}),B=O.fn.variant({color:o,variant:p}),ee=Z(zE,{...e2({color:B.color,size:`calc(${nt({size:i,sizes:bw}).height} / 2)`},_)});return Z(UE,{...e2({className:C(I.root,r),type:s,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":S||void 0,ref:e,unstyled:P},A),children:ut("div",{className:I.inner,children:[(u||S&&g==="left")&&Z("span",{className:C(I.icon,I.leftIcon),children:S&&g==="left"?ee:u}),S&&g==="center"&&Z("span",{className:I.centerLoader,children:ee}),Z("span",{className:I.label,style:{textTransform:y?"uppercase":void 0},children:l}),(d||S&&g==="right")&&Z("span",{className:C(I.icon,I.rightIcon),children:S&&g==="right"?ee:d})]})})});ZE.displayName="@mantine/core/Button";ZE.Group=Fk;const yY=ZE;var _Y=Lt((t,{radius:e,shadow:n})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:t.colorScheme==="dark"?t.colors.dark[0]:t.black,backgroundColor:t.colorScheme==="dark"?t.colors.dark[7]:t.white,boxSizing:"border-box",borderRadius:t.fn.radius(e),boxShadow:t.shadows[n]||n||"none","&[data-with-border]":{border:`${ae(1)} solid ${t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[3]}`}}}));const xY=_Y;var SY=Object.defineProperty,Kv=Object.getOwnPropertySymbols,$k=Object.prototype.hasOwnProperty,Hk=Object.prototype.propertyIsEnumerable,t2=(t,e,n)=>e in t?SY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wY=(t,e)=>{for(var n in e||(e={}))$k.call(e,n)&&t2(t,n,e[n]);if(Kv)for(var n of Kv(e))Hk.call(e,n)&&t2(t,n,e[n]);return t},bY=(t,e)=>{var n={};for(var r in t)$k.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Kv)for(var r of Kv(t))e.indexOf(r)<0&&Hk.call(t,r)&&(n[r]=t[r]);return n};const EY={},Wk=L.exports.forwardRef((t,e)=>{const n=Tt("Paper",EY,t),{className:r,children:i,radius:o,withBorder:s,shadow:a,unstyled:l,variant:u}=n,d=bY(n,["className","children","radius","withBorder","shadow","unstyled","variant"]),{classes:h,cx:p}=xY({radius:o,shadow:a},{name:"Paper",unstyled:l,variant:u});return Z(Dt,{...wY({className:p(h.root,r),"data-with-border":s||void 0,ref:e},d),children:i})});Wk.displayName="@mantine/core/Paper";const Jv=Wk,[MY,Ku]=wE("ModalBase component was not found in tree");var TY=Lt(()=>({close:{marginLeft:"auto",marginRight:0}}));const PY=TY;var AY=Object.defineProperty,e0=Object.getOwnPropertySymbols,Gk=Object.prototype.hasOwnProperty,jk=Object.prototype.propertyIsEnumerable,n2=(t,e,n)=>e in t?AY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RY=(t,e)=>{for(var n in e||(e={}))Gk.call(e,n)&&n2(t,n,e[n]);if(e0)for(var n of e0(e))jk.call(e,n)&&n2(t,n,e[n]);return t},CY=(t,e)=>{var n={};for(var r in t)Gk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&e0)for(var r of e0(t))e.indexOf(r)<0&&jk.call(t,r)&&(n[r]=t[r]);return n};const LY={size:"sm"},OY=L.exports.forwardRef((t,e)=>{const n=Ku(),r=Tt(`${n.__staticSelector}CloseButton`,LY,t),{className:i}=r,o=CY(r,["className"]),{classes:s,cx:a}=PY(null,n.stylesApi);return Z(y9,{...RY({className:a(s.close,i),ref:e,onClick:n.onClose},o)})});var IY=Lt(()=>({overlay:{}}));const NY=IY;var DY=Object.defineProperty,kY=Object.defineProperties,UY=Object.getOwnPropertyDescriptors,r2=Object.getOwnPropertySymbols,zY=Object.prototype.hasOwnProperty,FY=Object.prototype.propertyIsEnumerable,i2=(t,e,n)=>e in t?DY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BY=(t,e)=>{for(var n in e||(e={}))zY.call(e,n)&&i2(t,n,e[n]);if(r2)for(var n of r2(e))FY.call(e,n)&&i2(t,n,e[n]);return t},VY=(t,e)=>kY(t,UY(e)),$Y=Lt((t,{color:e,opacity:n,blur:r,radius:i,gradient:o,fixed:s,zIndex:a})=>({root:VY(BY({},t.fn.cover(0)),{position:s?"fixed":"absolute",backgroundColor:o?void 0:t.fn.rgba(e,n),backgroundImage:o,backdropFilter:r?`blur(${ae(r)})`:void 0,borderRadius:t.fn.radius(i),zIndex:a,"&[data-center]":{display:"flex",alignItems:"center",justifyContent:"center"}})}));const HY=$Y;var WY=Object.defineProperty,t0=Object.getOwnPropertySymbols,Xk=Object.prototype.hasOwnProperty,Yk=Object.prototype.propertyIsEnumerable,o2=(t,e,n)=>e in t?WY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GY=(t,e)=>{for(var n in e||(e={}))Xk.call(e,n)&&o2(t,n,e[n]);if(t0)for(var n of t0(e))Yk.call(e,n)&&o2(t,n,e[n]);return t},jY=(t,e)=>{var n={};for(var r in t)Xk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&t0)for(var r of t0(t))e.indexOf(r)<0&&Yk.call(t,r)&&(n[r]=t[r]);return n};const XY={opacity:.6,color:"#000",zIndex:vy("modal"),radius:0},qk=L.exports.forwardRef((t,e)=>{const n=Tt("Overlay",XY,t),{variant:r,opacity:i,color:o,blur:s,gradient:a,zIndex:l,radius:u,children:d,className:h,classNames:p,styles:m,unstyled:y,center:x,fixed:S}=n,g=jY(n,["variant","opacity","color","blur","gradient","zIndex","radius","children","className","classNames","styles","unstyled","center","fixed"]),{classes:_,cx:w}=HY({color:o,opacity:i,blur:s,radius:u,gradient:a,fixed:S,zIndex:l},{name:"Overlay",classNames:p,styles:m,unstyled:y,variant:r});return Z(Dt,{...GY({ref:e,className:w(_.root,h),"data-center":x||void 0},g),children:d})});qk.displayName="@mantine/core/Overlay";const YY=qk;var qY=Object.defineProperty,ZY=Object.defineProperties,QY=Object.getOwnPropertyDescriptors,n0=Object.getOwnPropertySymbols,Zk=Object.prototype.hasOwnProperty,Qk=Object.prototype.propertyIsEnumerable,s2=(t,e,n)=>e in t?qY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gf=(t,e)=>{for(var n in e||(e={}))Zk.call(e,n)&&s2(t,n,e[n]);if(n0)for(var n of n0(e))Qk.call(e,n)&&s2(t,n,e[n]);return t},KY=(t,e)=>ZY(t,QY(e)),JY=(t,e)=>{var n={};for(var r in t)Zk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&n0)for(var r of n0(t))e.indexOf(r)<0&&Qk.call(t,r)&&(n[r]=t[r]);return n};const eq={},tq=L.exports.forwardRef((t,e)=>{const n=Ku(),r=Tt(`${n.__staticSelector}Overlay`,eq,t),{onClick:i,transitionProps:o,style:s,className:a}=r,l=JY(r,["onClick","transitionProps","style","className"]),{classes:u,cx:d}=NY(null,n.stylesApi),h=p=>{i==null||i(p),n.closeOnClickOutside&&n.onClose()};return Z(Qu,{...KY(Gf(Gf({mounted:n.opened},n.transitionProps),o),{transition:"fade"}),children:p=>Z(YY,{...Gf({ref:e,onClick:h,fixed:!0,style:Gf(Gf({},s),p),className:d(u.overlay,a),zIndex:n.zIndex},l)})})});var nq=Lt((t,{zIndex:e})=>({inner:{position:"fixed",width:"100%",top:0,bottom:0,maxHeight:"100%",zIndex:e,pointerEvents:"none"},content:{pointerEvents:"all"}}));const rq=nq;var iq=Object.defineProperty,r0=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,Jk=Object.prototype.propertyIsEnumerable,a2=(t,e,n)=>e in t?iq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jf=(t,e)=>{for(var n in e||(e={}))Kk.call(e,n)&&a2(t,n,e[n]);if(r0)for(var n of r0(e))Jk.call(e,n)&&a2(t,n,e[n]);return t},oq=(t,e)=>{var n={};for(var r in t)Kk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&r0)for(var r of r0(t))e.indexOf(r)<0&&Jk.call(t,r)&&(n[r]=t[r]);return n};const sq={},aq=L.exports.forwardRef((t,e)=>{const n=Ku(),r=Tt(`${n.__staticSelector}Content`,sq,t),{className:i,transitionProps:o,style:s,onKeyDown:a}=r,l=oq(r,["className","transitionProps","style","onKeyDown"]),{classes:u,cx:d}=rq({zIndex:n.zIndex+1},n.stylesApi),h=p=>{var m;((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&p.key==="Escape"&&n.closeOnEscape&&n.onClose(),a==null||a(p)};return Z(Qu,{...jf(jf({mounted:n.opened,transition:"pop"},n.transitionProps),o),children:p=>Z("div",{className:d(u.inner),children:Z(gk,{active:n.opened&&n.trapFocus,children:Z(Jv,{...jf({component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":n.bodyMounted?n.getBodyId():void 0,"aria-labelledby":n.titleMounted?n.getTitleId():void 0,onKeyDown:h,ref:e,className:d(u.content,i),style:jf(jf({},s),p),shadow:n.shadow},l),children:l.children})})})})});var lq=Lt((t,{padding:e})=>{const n=nt({size:e,sizes:t.spacing});return{header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:n,paddingRight:`calc(${n} - ${ae(5)})`,position:"sticky",top:0,backgroundColor:t.colorScheme==="dark"?t.colors.dark[7]:t.white,zIndex:1e3}}});const cq=lq;var uq=Object.defineProperty,i0=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,l2=(t,e,n)=>e in t?uq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fq=(t,e)=>{for(var n in e||(e={}))eU.call(e,n)&&l2(t,n,e[n]);if(i0)for(var n of i0(e))tU.call(e,n)&&l2(t,n,e[n]);return t},dq=(t,e)=>{var n={};for(var r in t)eU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&i0)for(var r of i0(t))e.indexOf(r)<0&&tU.call(t,r)&&(n[r]=t[r]);return n};const hq={},pq=L.exports.forwardRef((t,e)=>{const n=Ku(),r=Tt(`${n.__staticSelector}Header`,hq,t),{className:i}=r,o=dq(r,["className"]),{classes:s,cx:a}=cq({padding:n.padding},n.stylesApi);return Z(Dt,{...fq({ref:e,className:a(s.header,i)},o)})});var mq=Lt(t=>({title:{lineHeight:1,padding:0,margin:0,fontWeight:400,fontSize:t.fontSizes.md}}));const gq=mq;var vq=Object.defineProperty,o0=Object.getOwnPropertySymbols,nU=Object.prototype.hasOwnProperty,rU=Object.prototype.propertyIsEnumerable,c2=(t,e,n)=>e in t?vq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yq=(t,e)=>{for(var n in e||(e={}))nU.call(e,n)&&c2(t,n,e[n]);if(o0)for(var n of o0(e))rU.call(e,n)&&c2(t,n,e[n]);return t},_q=(t,e)=>{var n={};for(var r in t)nU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&o0)for(var r of o0(t))e.indexOf(r)<0&&rU.call(t,r)&&(n[r]=t[r]);return n};const xq={},Sq=L.exports.forwardRef((t,e)=>{const n=Ku(),r=Tt(`${n.__staticSelector}Title`,xq,t),{className:i}=r,o=_q(r,["className"]),{classes:s,cx:a}=gq(null,n.stylesApi);return L.exports.useEffect(()=>(n.setTitleMounted(!0),()=>n.setTitleMounted(!1)),[]),Z(Dt,{...yq({component:"h2",id:n.getTitleId(),className:a(s.title,i),ref:e},o)})});var wq=Lt((t,{padding:e})=>({body:{padding:nt({size:e,sizes:t.spacing}),"&:not(:only-child)":{paddingTop:0}}}));const bq=wq;var Eq=Object.defineProperty,s0=Object.getOwnPropertySymbols,iU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable,u2=(t,e,n)=>e in t?Eq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mq=(t,e)=>{for(var n in e||(e={}))iU.call(e,n)&&u2(t,n,e[n]);if(s0)for(var n of s0(e))oU.call(e,n)&&u2(t,n,e[n]);return t},Tq=(t,e)=>{var n={};for(var r in t)iU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&s0)for(var r of s0(t))e.indexOf(r)<0&&oU.call(t,r)&&(n[r]=t[r]);return n};const Pq={},Aq=L.exports.forwardRef((t,e)=>{const n=Ku(),r=Tt(`${n.__staticSelector}Body`,Pq,t),{className:i}=r,o=Tq(r,["className"]),{classes:s,cx:a}=bq({padding:n.padding},n.stylesApi);return L.exports.useEffect(()=>(n.setBodyMounted(!0),()=>n.setBodyMounted(!1)),[]),Z(Dt,{...Mq({id:n.getBodyId(),className:a(s.body,i),ref:e},o)})});function Rq({children:t}){return Z(Dr,{children:t})}function Cq({opened:t,transitionDuration:e}){const[n,r]=L.exports.useState(t),i=L.exports.useRef(),s=DE()?0:e;return L.exports.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[t,s]),n}var Lq=Lt(()=>({root:{}}));const Oq=Lq;var Iq=Object.defineProperty,Nq=Object.defineProperties,Dq=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,aU=Object.prototype.propertyIsEnumerable,f2=(t,e,n)=>e in t?Iq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pS=(t,e)=>{for(var n in e||(e={}))sU.call(e,n)&&f2(t,n,e[n]);if(a0)for(var n of a0(e))aU.call(e,n)&&f2(t,n,e[n]);return t},d2=(t,e)=>Nq(t,Dq(e)),kq=(t,e)=>{var n={};for(var r in t)sU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&a0)for(var r of a0(t))e.indexOf(r)<0&&aU.call(t,r)&&(n[r]=t[r]);return n};const QE={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:vy("modal"),padding:"md",size:"md",shadow:"xl"};function kn(t){const e=Tt("ModalBase",QE,t),{opened:n,onClose:r,children:i,closeOnClickOutside:o,__staticSelector:s,transitionProps:a,withinPortal:l,portalProps:u,keepMounted:d,target:h,zIndex:p,lockScroll:m,trapFocus:y,closeOnEscape:x,returnFocus:S,padding:g,shadow:_,id:w,size:E,variant:T,classNames:P,unstyled:A,styles:I,className:C}=e,O=kq(e,["opened","onClose","children","closeOnClickOutside","__staticSelector","transitionProps","withinPortal","portalProps","keepMounted","target","zIndex","lockScroll","trapFocus","closeOnEscape","returnFocus","padding","shadow","id","size","variant","classNames","unstyled","styles","className"]),{classes:B,cx:ee}=Oq(null,{name:s,classNames:P,styles:I,unstyled:A,variant:T,size:E}),V=Ch(w),[F,J]=L.exports.useState(!1),[re,ne]=L.exports.useState(!1),U=typeof(a==null?void 0:a.duration)=="number"?a==null?void 0:a.duration:200,K=Cq({opened:n,transitionDuration:U});return VW("keydown",W=>{!y&&W.key==="Escape"&&x&&r()}),LW({opened:n,shouldReturnFocus:y&&S}),Z(_y,{...d2(pS({},u),{withinPortal:l,target:h}),children:Z(MY,{value:{__staticSelector:s,opened:n,onClose:r,closeOnClickOutside:o,transitionProps:d2(pS({},a),{duration:U,keepMounted:d}),zIndex:p,padding:g,id:V,getTitleId:()=>`${V}-title`,getBodyId:()=>`${V}-body`,titleMounted:F,bodyMounted:re,setTitleMounted:J,setBodyMounted:ne,trapFocus:y,closeOnEscape:x,shadow:_,stylesApi:{name:s,size:E,variant:T,classNames:P,styles:I,unstyled:A}},children:Z(c6,{enabled:K&&m,children:Z(Dt,{...pS({className:ee(B.root,C)},O),children:i})})})})}kn.CloseButton=OY;kn.Overlay=tq;kn.Content=aq;kn.Header=pq;kn.Title=Sq;kn.Body=Aq;kn.NativeScrollArea=Rq;function Uq(t){return L.exports.Children.toArray(t).filter(Boolean)}const lU={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var zq=Lt((t,{spacing:e,position:n,noWrap:r,grow:i,align:o,count:s})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:o||"center",flexWrap:r?"nowrap":"wrap",justifyContent:lU[n],gap:nt({size:e,sizes:t.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/s}% - (${ae(nt({size:e,sizes:t.spacing}))} - ${nt({size:e,sizes:t.spacing})} / ${s}))`:void 0,flexGrow:i?1:0}}}));const Fq=zq;var Bq=Object.defineProperty,l0=Object.getOwnPropertySymbols,cU=Object.prototype.hasOwnProperty,uU=Object.prototype.propertyIsEnumerable,h2=(t,e,n)=>e in t?Bq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vq=(t,e)=>{for(var n in e||(e={}))cU.call(e,n)&&h2(t,n,e[n]);if(l0)for(var n of l0(e))uU.call(e,n)&&h2(t,n,e[n]);return t},$q=(t,e)=>{var n={};for(var r in t)cU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&l0)for(var r of l0(t))e.indexOf(r)<0&&uU.call(t,r)&&(n[r]=t[r]);return n};const Hq={position:"left",spacing:"md"},Iu=L.exports.forwardRef((t,e)=>{const n=Tt("Group",Hq,t),{className:r,position:i,align:o,children:s,noWrap:a,grow:l,spacing:u,unstyled:d,variant:h}=n,p=$q(n,["className","position","align","children","noWrap","grow","spacing","unstyled","variant"]),m=Uq(s),{classes:y,cx:x}=Fq({align:o,grow:l,noWrap:a,spacing:u,position:i,count:m.length},{unstyled:d,name:"Group",variant:h});return Z(Dt,{...Vq({className:x(y.root,r),ref:e},p),children:m})});Iu.displayName="@mantine/core/Group";const[Wq,Gq]=wE("Modal component was not found in tree"),jq={xs:ae(320),sm:ae(380),md:ae(440),lg:ae(620),xl:ae(780)};var Xq=Lt((t,{yOffset:e,xOffset:n,centered:r,fullScreen:i},{size:o})=>({content:{flex:i?"0 0 100%":`0 0 ${nt({size:o,sizes:jq})}`,maxWidth:"100%",maxHeight:i?void 0:`calc(100vh - (${ae(e)} * 2))`,height:i?"100vh":void 0,borderRadius:i?0:void 0,overflowY:"auto"},inner:{paddingTop:i?0:e,paddingBottom:i?0:e,paddingLeft:i?0:n,paddingRight:i?0:n,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"}}));const Yq=Xq;var qq=Object.defineProperty,Zq=Object.defineProperties,Qq=Object.getOwnPropertyDescriptors,c0=Object.getOwnPropertySymbols,fU=Object.prototype.hasOwnProperty,dU=Object.prototype.propertyIsEnumerable,p2=(t,e,n)=>e in t?qq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ew=(t,e)=>{for(var n in e||(e={}))fU.call(e,n)&&p2(t,n,e[n]);if(c0)for(var n of c0(e))dU.call(e,n)&&p2(t,n,e[n]);return t},hU=(t,e)=>Zq(t,Qq(e)),Kq=(t,e)=>{var n={};for(var r in t)fU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&c0)for(var r of c0(t))e.indexOf(r)<0&&dU.call(t,r)&&(n[r]=t[r]);return n};const Jq=hU(Ew({},QE),{yOffset:"5vh",xOffset:"5vw"});function pU(t){const e=Tt("ModalRoot",Jq,t),{classNames:n,variant:r,size:i,yOffset:o,xOffset:s,scrollAreaComponent:a,radius:l,centered:u,fullScreen:d}=e,h=Kq(e,["classNames","variant","size","yOffset","xOffset","scrollAreaComponent","radius","centered","fullScreen"]),{classes:p,cx:m}=Yq({yOffset:o,xOffset:s,centered:u,fullScreen:d},{name:"Modal",variant:r,size:i});return Z(Wq,{value:{yOffset:o,scrollAreaComponent:a,radius:l},children:Z(kn,{...Ew({__staticSelector:"Modal",size:i,variant:r,classNames:hU(Ew({},n),{content:m(p.content,n==null?void 0:n.content),inner:m(p.inner,n==null?void 0:n.inner)})},h)})})}var eZ=Object.defineProperty,u0=Object.getOwnPropertySymbols,mU=Object.prototype.hasOwnProperty,gU=Object.prototype.propertyIsEnumerable,m2=(t,e,n)=>e in t?eZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tZ=(t,e)=>{for(var n in e||(e={}))mU.call(e,n)&&m2(t,n,e[n]);if(u0)for(var n of u0(e))gU.call(e,n)&&m2(t,n,e[n]);return t},nZ=(t,e)=>{var n={};for(var r in t)mU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&u0)for(var r of u0(t))e.indexOf(r)<0&&gU.call(t,r)&&(n[r]=t[r]);return n};const rZ={shadow:"xl"},vU=L.exports.forwardRef((t,e)=>{const n=Tt("ModalContent",rZ,t),{children:r,scrollAreaComponent:i}=n,o=nZ(n,["children","scrollAreaComponent"]),s=Gq(),a=i||s.scrollAreaComponent||kn.NativeScrollArea;return Z(kn.Content,{...tZ({ref:e,radius:s.radius},o),children:Z(a,{style:{maxHeight:`calc(100vh - (${ae(s.yOffset)} * 2))`},children:r})})});var iZ=Object.defineProperty,oZ=Object.defineProperties,sZ=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertySymbols,yU=Object.prototype.hasOwnProperty,_U=Object.prototype.propertyIsEnumerable,g2=(t,e,n)=>e in t?iZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bg=(t,e)=>{for(var n in e||(e={}))yU.call(e,n)&&g2(t,n,e[n]);if(f0)for(var n of f0(e))_U.call(e,n)&&g2(t,n,e[n]);return t},aZ=(t,e)=>oZ(t,sZ(e)),lZ=(t,e)=>{var n={};for(var r in t)yU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&f0)for(var r of f0(t))e.indexOf(r)<0&&_U.call(t,r)&&(n[r]=t[r]);return n};const cZ=aZ(Bg({},QE),{transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0});function Rs(t){const e=Tt("Modal",cZ,t),{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a}=e,l=lZ(e,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children"]),u=!!n||o;return ut(pU,{...Bg({},l),children:[r&&Z(kn.Overlay,{...Bg({},i)}),ut(vU,{children:[u&&ut(kn.Header,{children:[n&&Z(kn.Title,{children:n}),o&&Z(kn.CloseButton,{...Bg({},s)})]}),Z(kn.Body,{children:a})]})]})}Rs.Root=pU;Rs.CloseButton=kn.CloseButton;Rs.Overlay=kn.Overlay;Rs.Content=vU;Rs.Header=kn.Header;Rs.Title=kn.Title;Rs.Body=kn.Body;Rs.NativeScrollArea=kn.NativeScrollArea;const uZ=(t,e,n)=>Number.isInteger(t)&&t>=0&&e===0?"numeric":!Number.isInteger(t)&&t>=0&&e!==0?"decimal":Number.isInteger(t)&&t<0&&e===0||!Number.isInteger(t)&&t<0&&e!==0?n==="ios"?"text":"decimal":"numeric";function v2({direction:t,size:e}){return Z("svg",{style:{transform:t==="up"?"rotate(180deg)":void 0},width:ae(e),height:ae(e),viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Z("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const xU={xs:ae(20),sm:ae(24),md:ae(30),lg:ae(34),xl:ae(36)};var fZ=Lt((t,{radius:e},{size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:`calc(100% - ${ae(2)})`,margin:ae(1),overflow:"hidden",borderTopRightRadius:t.fn.radius(e),borderBottomRightRadius:t.fn.radius(e)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:nt({size:n,sizes:xU}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`${ae(1)} solid ${t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[4]}`,borderLeft:`${ae(1)} solid ${t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:ae(1),color:t.colorScheme==="dark"?t.colors.dark[0]:t.black,"&:not(:disabled):hover":{backgroundColor:t.colorScheme==="dark"?t.colors.dark[5]:t.colors.gray[0]},"&:disabled":{color:t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const dZ=fZ;var hZ=Object.defineProperty,pZ=Object.defineProperties,mZ=Object.getOwnPropertyDescriptors,d0=Object.getOwnPropertySymbols,SU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,y2=(t,e,n)=>e in t?hZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mS=(t,e)=>{for(var n in e||(e={}))SU.call(e,n)&&y2(t,n,e[n]);if(d0)for(var n of d0(e))wU.call(e,n)&&y2(t,n,e[n]);return t},gZ=(t,e)=>pZ(t,mZ(e)),vZ=(t,e)=>{var n={};for(var r in t)SU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&d0)for(var r of d0(t))e.indexOf(r)<0&&wU.call(t,r)&&(n[r]=t[r]);return n};const yZ={type:"text",size:"sm",__staticSelector:"TextInput"},Dh=L.exports.forwardRef((t,e)=>{const n=Kj("TextInput",yZ,t),{inputProps:r,wrapperProps:i}=n,o=vZ(n,["inputProps","wrapperProps"]);return Z(qC.Wrapper,{...mS({},i),children:Z(qC,{...gZ(mS(mS({},r),o),{ref:e})})})});Dh.displayName="@mantine/core/TextInput";var _Z=Object.defineProperty,xZ=Object.defineProperties,SZ=Object.getOwnPropertyDescriptors,h0=Object.getOwnPropertySymbols,bU=Object.prototype.hasOwnProperty,EU=Object.prototype.propertyIsEnumerable,_2=(t,e,n)=>e in t?_Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wZ=(t,e)=>{for(var n in e||(e={}))bU.call(e,n)&&_2(t,n,e[n]);if(h0)for(var n of h0(e))EU.call(e,n)&&_2(t,n,e[n]);return t},bZ=(t,e)=>xZ(t,SZ(e)),EZ=(t,e)=>{var n={};for(var r in t)bU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&h0)for(var r of h0(t))e.indexOf(r)<0&&EU.call(t,r)&&(n[r]=t[r]);return n};const MZ=t=>t||"",TZ=t=>{if(t==="-")return t;let e=t;e[0]==="."&&(e=`0${t}`);const n=parseFloat(e);return Number.isNaN(n)?"":t},x2={xs:ae(10),sm:ae(14),md:ae(16),lg:ae(18),xl:ae(20)},PZ={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,decimalSeparator:".",formatter:MZ,parser:TZ,type:"text"},ol=L.exports.forwardRef((t,e)=>{const n=Tt("NumberInput",PZ,t),{readOnly:r,disabled:i,value:o,onChange:s,decimalSeparator:a,thousandsSeparator:l,min:u,max:d,startValue:h,step:p,stepHoldInterval:m,stepHoldDelay:y,onFocus:x,onBlur:S,onKeyDown:g,onKeyUp:_,hideControls:w,radius:E,variant:T,precision:P,removeTrailingZeros:A,defaultValue:I,noClampOnBlur:C,handlersRef:O,classNames:B,styles:ee,size:V,rightSection:F,rightSectionWidth:J,formatter:re,parser:ne,inputMode:U,unstyled:K,type:W}=n,G=EZ(n,["readOnly","disabled","value","onChange","decimalSeparator","thousandsSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onFocus","onBlur","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:N,cx:te}=dZ({radius:E},{classNames:B,styles:ee,unstyled:K,name:"NumberInput",variant:T,size:V}),D=Ce=>{if(Ce==="")return"";let q=Ce.toFixed(P);return A&&P>0&&(q=q.replace(new RegExp(`[0]{0,${P}}$`),""),q.endsWith(".")&&(q=q.slice(0,-1))),q},ue=Ce=>{let q=Ce;return a&&(q=q.replace(".",a)),re(q)},ce=Ce=>{let q=Ce;return a&&(q=q.replaceAll(l,"").replace(a,".")),ne(q)},Pe=Ce=>ue(D(Ce)),[Ae,Re]=L.exports.useState(typeof o=="number"?o:typeof I=="number"?I:""),[ze,Ue]=L.exports.useState(()=>Pe(Ae)),$=L.exports.useRef(),[he,_e]=L.exports.useState(!1),Ie=(Ce,q)=>{if(!he||q){const Q=Pe(Ce);Q!==ze&&Ue(Q)}Ce!==Ae&&Re(Ce)},we=typeof u=="number"?u:-1/0,He=typeof d=="number"?d:1/0,We=L.exports.useRef();We.current=()=>{var Ce;let q;Ae===""?q=(Ce=h!=null?h:u)!=null?Ce:0:q=parseFloat(D(ga(Ae+p,we,He))),Ie(q,!0),s==null||s(q)};const qe=L.exports.useRef();qe.current=()=>{var Ce;let q;Ae===""?q=(Ce=h!=null?h:u)!=null?Ce:0:q=parseFloat(D(ga(Ae-p,we,He))),Ie(q,!0),s==null||s(q)},iD(O,{increment:We.current,decrement:qe.current}),L.exports.useEffect(()=>{he||Ie(o===void 0?Ae:o,!0)},[o,he]);const it=y!==void 0&&m!==void 0,ht=L.exports.useRef(null),Xt=L.exports.useRef(0),Y=()=>{ht.current&&window.clearTimeout(ht.current),ht.current=null,Xt.current=0},k=Ce=>{Ce?We.current():qe.current(),Xt.current+=1},ve=Ce=>{if(k(Ce),it){const q=typeof m=="number"?m:m(Xt.current);ht.current=window.setTimeout(()=>ve(Ce),q)}},Ne=(Ce,q)=>{Ce.preventDefault(),$.current.focus(),k(q),it&&(ht.current=window.setTimeout(()=>ve(q),y))};L.exports.useEffect(()=>(Y(),Y),[]);const De=ut("div",{className:N.rightSection,children:[Z("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:Ae>=d,className:te(N.control,N.controlUp),onPointerDown:Ce=>{Ne(Ce,!0)},onPointerUp:Y,onPointerLeave:Y,children:Z(v2,{size:nt({size:V,sizes:x2}),direction:"up"})}),Z("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:Ae<=u,className:te(N.control,N.controlDown),onPointerDown:Ce=>{Ne(Ce,!1)},onPointerUp:Y,onPointerLeave:Y,children:Z(v2,{size:nt({size:V,sizes:x2}),direction:"down"})})]}),Be=Ce=>{let q=Ce;(q[0]===`${a}`||q[0]===".")&&(q=`0${q}`);const Q=parseFloat(D(parseFloat(ce(q)))),me=C?Q:ga(Q,we,He),Oe=Number.isNaN(me)?"":me,j=Ae!==Oe;Ue(Ce),Ie(Oe),j&&(s==null||s(Oe))},tt=Ce=>{Ce.nativeEvent.isComposing||Be(Ce.target.value)},Ve=Ce=>{_e(!0),x==null||x(Ce)},be=Ce=>{_e(!1),S==null||S(Ce)},ot=Ce=>{if(typeof g=="function"&&g(Ce),Ce.repeat&&it&&(Ce.key==="ArrowUp"||Ce.key==="ArrowDown")){Ce.preventDefault();return}r||(Ce.key==="ArrowUp"?Ne(Ce,!0):Ce.key==="ArrowDown"&&Ne(Ce,!1))},at=Ce=>{typeof _=="function"&&_(Ce),(Ce.key==="ArrowUp"||Ce.key==="ArrowDown")&&Y()};return Z(Dh,{...bZ(wZ({},G),{type:W,variant:T,value:ze,disabled:i,readOnly:r,ref:Yu($,e),onChange:tt,onFocus:Ve,onBlur:be,onKeyDown:ot,onKeyUp:at,rightSection:F||(i||r||w||T==="unstyled"?null:De),rightSectionWidth:J!=null?J:`calc(${nt({size:V,sizes:xU})} + ${ae(1)})`,radius:E,max:d,min:u,step:p,size:V,styles:ee,classNames:B,inputMode:U||uZ(p,P,jW()),__staticSelector:"NumberInput",unstyled:K})})});ol.displayName="@mantine/core/NumberInput";const MU=L.exports.createContext(!1),AZ=MU.Provider,RZ=()=>L.exports.useContext(MU);function TU({children:t,openDelay:e=0,closeDelay:n=0}){return Z(AZ,{value:!0,children:Z(pj,{delay:{open:e,close:n},children:t})})}TU.displayName="@mantine/core/TooltipGroup";var CZ=Object.defineProperty,LZ=Object.defineProperties,OZ=Object.getOwnPropertyDescriptors,S2=Object.getOwnPropertySymbols,IZ=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,w2=(t,e,n)=>e in t?CZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b2=(t,e)=>{for(var n in e||(e={}))IZ.call(e,n)&&w2(t,n,e[n]);if(S2)for(var n of S2(e))NZ.call(e,n)&&w2(t,n,e[n]);return t},DZ=(t,e)=>LZ(t,OZ(e));function kZ(t,e){if(!e)return{backgroundColor:t.colorScheme==="dark"?t.colors.gray[2]:t.colors.gray[9],color:t.colorScheme==="dark"?t.black:t.white};const n=t.fn.variant({variant:"filled",color:e,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var UZ=Lt((t,{color:e,radius:n,width:r,multiline:i})=>({tooltip:DZ(b2(b2({},t.fn.fontStyles()),kZ(t,e)),{lineHeight:t.lineHeight,fontSize:t.fontSizes.sm,borderRadius:t.fn.radius(n),padding:`calc(${t.spacing.xs} / 2) ${t.spacing.xs}`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const PU=UZ,AU={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function zZ({offset:t,position:e}){const[n,r]=L.exports.useState(!1),i=L.exports.useRef(),{x:o,y:s,reference:a,floating:l,refs:u,update:d,placement:h}=mk({placement:e,middleware:[nk({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=h.includes("right")?t:e.includes("left")?t*-1:0,m=h.includes("bottom")?t:e.includes("top")?t*-1:0,y=L.exports.useCallback(({clientX:x,clientY:S})=>{a({getBoundingClientRect(){return{width:0,height:0,x,y:S,left:x+p,top:S+m,right:x,bottom:S}}})},[a]);return L.exports.useEffect(()=>{if(u.floating.current){const x=i.current;x.addEventListener("mousemove",y);const S=ya(u.floating.current);return S.forEach(g=>{g.addEventListener("scroll",d)}),()=>{x.removeEventListener("mousemove",y),S.forEach(g=>{g.removeEventListener("scroll",d)})}}},[a,u.floating.current,d,y,n]),{handleMouseMove:y,x:o,y:s,opened:n,setOpened:r,boundaryRef:i,floating:l}}var FZ=Object.defineProperty,BZ=Object.defineProperties,VZ=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,RU=Object.prototype.hasOwnProperty,CU=Object.prototype.propertyIsEnumerable,E2=(t,e,n)=>e in t?FZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sm=(t,e)=>{for(var n in e||(e={}))RU.call(e,n)&&E2(t,n,e[n]);if(p0)for(var n of p0(e))CU.call(e,n)&&E2(t,n,e[n]);return t},wm=(t,e)=>BZ(t,VZ(e)),$Z=(t,e)=>{var n={};for(var r in t)RU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&p0)for(var r of p0(t))e.indexOf(r)<0&&CU.call(t,r)&&(n[r]=t[r]);return n};const HZ={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:vy("popover")};function LU(t){var e;const n=Tt("TooltipFloating",HZ,t),{children:r,refProp:i,withinPortal:o,portalProps:s,style:a,className:l,classNames:u,styles:d,unstyled:h,radius:p,color:m,label:y,offset:x,position:S,multiline:g,width:_,zIndex:w,disabled:E,variant:T}=n,P=$Z(n,["children","refProp","withinPortal","portalProps","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled","variant"]),{handleMouseMove:A,x:I,y:C,opened:O,boundaryRef:B,floating:ee,setOpened:V}=zZ({offset:x,position:S}),{classes:F,cx:J}=PU({radius:p,color:m,multiline:g,width:_},{name:"TooltipFloating",classNames:u,styles:d,unstyled:h,variant:T});if(!EE(r))throw new Error(AU.children);const re=Yu(B,r.ref),ne=K=>{var W,G;(G=(W=r.props).onMouseEnter)==null||G.call(W,K),A(K),V(!0)},U=K=>{var W,G;(G=(W=r.props).onMouseLeave)==null||G.call(W,K),V(!1)};return ut(Dr,{children:[Z(_y,{...wm(Sm({},s),{withinPortal:o}),children:Z(Dt,{...wm(Sm({},P),{ref:ee,className:J(F.tooltip,l),style:wm(Sm({},a),{zIndex:w,display:!E&&O?"block":"none",top:C!=null?C:"",left:(e=Math.round(I))!=null?e:""})}),children:y})}),L.exports.cloneElement(r,wm(Sm({},r.props),{[i]:re,onMouseEnter:ne,onMouseLeave:U}))]})}LU.displayName="@mantine/core/TooltipFloating";function WZ(t){const[e,n]=L.exports.useState(!1),i=typeof t.opened=="boolean"?t.opened:e,o=RZ(),s=Ch(),{delay:a,currentId:l,setCurrentId:u}=hk(),d=L.exports.useCallback(I=>{n(I),I&&u(s)},[u,s]),{x:h,y:p,reference:m,floating:y,context:x,refs:S,update:g,placement:_,middlewareData:{arrow:{x:w,y:E}={}}}=mk({placement:t.position,open:i,onOpenChange:d,middleware:[z7(t.offset),nk({padding:8}),N7(),ej({element:t.arrowRef,padding:t.arrowOffset}),...t.inline?[k7()]:[]]}),{getReferenceProps:T,getFloatingProps:P}=Tj([hj(x,{enabled:t.events.hover,delay:o?a:{open:t.openDelay,close:t.closeDelay},mouseOnly:!t.events.touch}),Ej(x,{enabled:t.events.focus,keyboardOnly:!0}),Mj(x,{role:"tooltip"}),bj(x,{enabled:typeof t.opened===void 0}),mj(x,{id:s})]);return Pj({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:S,update:g}}),nh(()=>{var I;(I=t.onPositionChange)==null||I.call(t,_)},[_]),{x:h,y:p,arrowX:w,arrowY:E,reference:m,floating:y,getFloatingProps:P,getReferenceProps:T,isGroupPhase:i&&l&&l!==s,opened:i,placement:_}}var GZ=Object.defineProperty,jZ=Object.defineProperties,XZ=Object.getOwnPropertyDescriptors,m0=Object.getOwnPropertySymbols,OU=Object.prototype.hasOwnProperty,IU=Object.prototype.propertyIsEnumerable,M2=(t,e,n)=>e in t?GZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xa=(t,e)=>{for(var n in e||(e={}))OU.call(e,n)&&M2(t,n,e[n]);if(m0)for(var n of m0(e))IU.call(e,n)&&M2(t,n,e[n]);return t},gS=(t,e)=>jZ(t,XZ(e)),YZ=(t,e)=>{var n={};for(var r in t)OU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&m0)for(var r of m0(t))e.indexOf(r)<0&&IU.call(t,r)&&(n[r]=t[r]);return n};const qZ={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:vy("popover"),positionDependencies:[]},My=L.exports.forwardRef((t,e)=>{var n;const r=L.exports.useRef(null),i=Tt("Tooltip",qZ,t),{children:o,position:s,refProp:a,label:l,openDelay:u,closeDelay:d,onPositionChange:h,opened:p,withinPortal:m,portalProps:y,radius:x,color:S,classNames:g,styles:_,unstyled:w,style:E,className:T,withArrow:P,arrowSize:A,arrowOffset:I,arrowRadius:C,arrowPosition:O,offset:B,transitionProps:ee,multiline:V,width:F,events:J,zIndex:re,disabled:ne,positionDependencies:U,onClick:K,onMouseEnter:W,onMouseLeave:G,inline:N,variant:te,keepMounted:D}=i,ue=YZ(i,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","portalProps","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted"]),{classes:ce,cx:Pe,theme:Ae}=PU({radius:x,color:S,width:F,multiline:V},{name:"Tooltip",classNames:g,styles:_,unstyled:w,variant:te}),Re=WZ({position:jj(Ae.dir,s),closeDelay:d,openDelay:u,onPositionChange:h,opened:p,events:J,arrowRef:r,arrowOffset:I,offset:B+(P?A/2:0),positionDependencies:[...U,o],inline:N});if(!EE(o))throw new Error(AU.children);const ze=Yu(Re.reference,o.ref,e);return ut(Dr,{children:[Z(_y,{...gS(Xa({},y),{withinPortal:m}),children:Z(Qu,{...gS(Xa({keepMounted:D,mounted:!ne&&Re.opened},ee),{transition:ee.transition||"fade",duration:Re.isGroupPhase?10:(n=ee.duration)!=null?n:100}),children:Ue=>{var $,he;return ut(Dt,{...Xa(Xa({},ue),Re.getFloatingProps({ref:Re.floating,className:ce.tooltip,style:gS(Xa(Xa({},E),Ue),{zIndex:re,top:($=Re.y)!=null?$:0,left:(he=Re.x)!=null?he:0})})),children:[l,Z(_k,{ref:r,arrowX:Re.arrowX,arrowY:Re.arrowY,visible:P,position:Re.placement,arrowSize:A,arrowOffset:I,arrowRadius:C,arrowPosition:O,className:ce.arrow})]})}})}),L.exports.cloneElement(o,Re.getReferenceProps(Xa({onClick:K,onMouseEnter:W,onMouseLeave:G,onMouseMove:t.onMouseMove,onPointerDown:t.onPointerDown,onPointerEnter:t.onPointerEnter,[a]:ze,className:Pe(T,o.props.className)},o.props)))]})});My.Group=TU;My.Floating=LU;My.displayName="@mantine/core/Tooltip";const NU=My;var ZZ=Object.defineProperty,QZ=Object.defineProperties,KZ=Object.getOwnPropertyDescriptors,T2=Object.getOwnPropertySymbols,JZ=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,P2=(t,e,n)=>e in t?ZZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bm=(t,e)=>{for(var n in e||(e={}))JZ.call(e,n)&&P2(t,n,e[n]);if(T2)for(var n of T2(e))eQ.call(e,n)&&P2(t,n,e[n]);return t},tQ=(t,e)=>QZ(t,KZ(e));const Vg=4,A2={xs:`${ae(3)} ${ae(6)}`,sm:`${ae(5)} ${ae(10)}`,md:`${ae(7)} ${ae(14)}`,lg:`${ae(9)} ${ae(16)}`,xl:`${ae(12)} ${ae(20)}`};var nQ=Lt((t,{fullWidth:e,color:n,radius:r,shouldAnimate:i,transitionDuration:o,transitionTimingFunction:s,orientation:a},{size:l})=>{const u=a==="vertical",d=t.fn.variant({variant:"filled",color:n});return{label:tQ(bm(bm({ref:al("label")},t.fn.focusStyles()),t.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:t.fn.radius(r),fontWeight:500,fontSize:l in t.fontSizes?t.fontSizes[l]:t.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:A2[l in A2?l:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:t.colorScheme==="dark"?t.colors.dark[1]:t.colors.gray[7],transition:`color ${i?0:o}ms ${s||t.transitionTimingFunction}`,"&:hover":{color:t.colorScheme==="dark"?t.colors.dark[0]:t.black},"&[data-disabled]":{"&, &:hover":{color:t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}},"&[data-active]":{"&, &:hover":{color:n||t.colorScheme==="dark"?t.white:t.black}}}),control:{ref:al("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:o}ms ${s||t.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:u?`${ae(1)} 0 0 0`:`0 0 0 ${ae(1)}`,borderColor:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${al("label")}`]:bm({},t.focusRing==="always"||t.focusRing==="auto"?t.focusRingStyles.styles(t):t.focusRingStyles.resetStyles(t)),"&:focus:not(:focus-visible)":{[`& + .${al("label")}`]:bm({},t.focusRing==="auto"||t.focusRing==="never"?t.focusRingStyles.resetStyles(t):null)}},"&:disabled + label":{"&, &:hover":{color:t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}}},root:{position:"relative",display:e||u?"flex":"inline-flex",width:u&&!e?"max-content":"auto",flexDirection:u?"column":"row",backgroundColor:t.colorScheme==="dark"?t.colors.dark[8]:t.colors.gray[1],borderRadius:t.fn.radius(r),overflow:"hidden",padding:Vg},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${al("control")}`]:{[u?"borderTopColor":"borderLeftColor"]:"transparent !important"},borderRadius:t.fn.radius(r),boxShadow:i?n||t.colorScheme==="dark"?"none":t.shadows.xs:void 0,backgroundColor:i?n?d.background:t.colorScheme==="dark"?t.colors.dark[5]:t.white:void 0},indicator:{boxSizing:"border-box",borderRadius:t.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||t.colorScheme==="dark"?"none":t.shadows.xs,transition:`transform ${i?0:o}ms ${t.transitionTimingFunction}, width ${i?0:o/2}ms ${s||t.transitionTimingFunction}`,backgroundColor:n?d.background:t.colorScheme==="dark"?t.colors.dark[5]:t.white}}});const rQ=nQ;var iQ=Object.defineProperty,g0=Object.getOwnPropertySymbols,DU=Object.prototype.hasOwnProperty,kU=Object.prototype.propertyIsEnumerable,R2=(t,e,n)=>e in t?iQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oQ=(t,e)=>{for(var n in e||(e={}))DU.call(e,n)&&R2(t,n,e[n]);if(g0)for(var n of g0(e))kU.call(e,n)&&R2(t,n,e[n]);return t},sQ=(t,e)=>{var n={};for(var r in t)DU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&g0)for(var r of g0(t))e.indexOf(r)<0&&kU.call(t,r)&&(n[r]=t[r]);return n};const aQ={disabled:!1,size:"sm",transitionDuration:200},Mw=L.exports.forwardRef((t,e)=>{var n,r,i,o;const s=Tt("SegmentedControl",aQ,t),{className:a,disabled:l,data:u,name:d,value:h,onChange:p,color:m,fullWidth:y,radius:x,size:S,transitionDuration:g,transitionTimingFunction:_,classNames:w,styles:E,defaultValue:T,orientation:P,unstyled:A,variant:I,readOnly:C}=s,O=sQ(s,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled","variant","readOnly"]),B=ho(),ee=DE(),V=B.respectReducedMotion?ee:!1,F=u.map(ze=>typeof ze=="string"?{label:ze,value:ze}:ze),J=L.exports.useRef(),[re,ne]=L.exports.useState(!1),[U,K]=NE({value:h,defaultValue:T,finalValue:Array.isArray(F)&&(o=(i=(n=F.find(ze=>!ze.disabled))==null?void 0:n.value)!=null?i:(r=F[0])==null?void 0:r.value)!=null?o:null,onChange:p}),{classes:W,cx:G}=rQ({fullWidth:y,color:m,radius:x,shouldAnimate:V||!re,transitionDuration:g,transitionTimingFunction:_,orientation:P},{name:"SegmentedControl",classNames:w,styles:E,unstyled:A,variant:I,size:S}),[N,te]=L.exports.useState({width:0,height:0,translate:[0,0]}),D=Ch(d),ue=L.exports.useRef({}),[ce,Pe]=GW();yy(()=>{J.current?ne(!0):(J.current=!0,ne(!1))}),L.exports.useEffect(()=>{if(U in ue.current&&ce.current){const ze=ue.current[U],Ue=ze.getBoundingClientRect(),$=ze.offsetWidth/Ue.width,he=Ue.width*$||0,_e=Ue.height*$||0,Ie=Pe.width-ze.parentElement.offsetLeft+Vg-he,we=ze.parentElement.offsetLeft-Vg;te({width:he,height:_e,translate:[B.dir==="rtl"?Ie:we,ze.parentElement.offsetTop-Vg]})}},[U,Pe]);const Ae=F.map(ze=>ut("div",{className:G(W.control,{[W.controlActive]:U===ze.value}),children:[Z("input",{className:W.input,disabled:l||ze.disabled,type:"radio",name:D,value:ze.value,id:`${D}-${ze.value}`,checked:U===ze.value,onChange:()=>!C&&K(ze.value)}),Z("label",{className:W.label,"data-active":U===ze.value&&!(l||ze.disabled)||void 0,"data-disabled":l||ze.disabled||void 0,htmlFor:`${D}-${ze.value}`,ref:Ue=>{ue.current[ze.value]=Ue},children:ze.label})]},ze.value)),Re=Yu(ce,e);return F.length===0?null:ut(Dt,{...oQ({className:G(W.root,a),ref:Re},O),children:[typeof U=="string"&&re&&Z(Dt,{component:"span",className:W.indicator,sx:{width:N.width,height:N.height,transform:`translate(${N.translate[0]}px, ${N.translate[1]}px)`}}),Ae]})});Mw.displayName="@mantine/core/SegmentedControl";function UU({value:t,min:e,max:n}){const r=(t-e)/(n-e)*100;return Math.min(Math.max(r,0),100)}function lQ({value:t,containerWidth:e,min:n,max:r,step:i,precision:o}){const a=(e?Math.min(Math.max(t,0),e)/e:t)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}var cQ=Object.defineProperty,uQ=Object.defineProperties,fQ=Object.getOwnPropertyDescriptors,C2=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,L2=(t,e,n)=>e in t?cQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pQ=(t,e)=>{for(var n in e||(e={}))dQ.call(e,n)&&L2(t,n,e[n]);if(C2)for(var n of C2(e))hQ.call(e,n)&&L2(t,n,e[n]);return t},mQ=(t,e)=>uQ(t,fQ(e));const br={xs:ae(4),sm:ae(6),md:ae(8),lg:ae(10),xl:ae(12)};var gQ=Lt(t=>({root:mQ(pQ({},t.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,display:"flex",flexDirection:"column",alignItems:"center",touchAction:"none",position:"relative"})}));const vQ=gQ;var yQ=Object.defineProperty,_Q=Object.defineProperties,xQ=Object.getOwnPropertyDescriptors,O2=Object.getOwnPropertySymbols,SQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,I2=(t,e,n)=>e in t?yQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bQ=(t,e)=>{for(var n in e||(e={}))SQ.call(e,n)&&I2(t,n,e[n]);if(O2)for(var n of O2(e))wQ.call(e,n)&&I2(t,n,e[n]);return t},EQ=(t,e)=>_Q(t,xQ(e)),MQ=Lt((t,{color:e,disabled:n,thumbSize:r},{size:i})=>({label:{position:"absolute",top:ae(-36),backgroundColor:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[9],fontSize:t.fontSizes.xs,color:t.white,padding:`calc(${t.spacing.xs} / 2)`,borderRadius:t.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:EQ(bQ({},t.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:n?"none":"flex",height:r?ae(r):`calc(${nt({sizes:br,size:i})} * 2)`,width:r?ae(r):`calc(${nt({sizes:br,size:i})} * 2)`,backgroundColor:t.colorScheme==="dark"?t.fn.themeColor(e,t.fn.primaryShade()):t.white,border:`${ae(4)} solid ${t.colorScheme==="dark"?t.white:t.fn.themeColor(e,t.fn.primaryShade())}`,color:t.colorScheme==="dark"?t.white:t.fn.themeColor(e,t.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:t.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:t.shadows.sm}}));const TQ=MQ,zU=L.exports.forwardRef(({max:t,min:e,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,color:l,classNames:u,styles:d,size:h,labelTransition:p,labelTransitionDuration:m,labelTransitionTimingFunction:y,labelAlwaysOn:x,thumbLabel:S,onFocus:g,onBlur:_,showLabelOnHover:w,isHovered:E,children:T=null,disabled:P,unstyled:A,thumbSize:I,variant:C},O)=>{const{classes:B,cx:ee,theme:V}=TQ({color:l,disabled:P,thumbSize:I},{name:"Slider",classNames:u,styles:d,unstyled:A,variant:C,size:h}),[F,J]=L.exports.useState(!1),re=x||o||F||w&&E;return ut(Dt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,ref:O,className:ee(B.thumb,{[B.dragging]:o}),onFocus:()=>{J(!0),typeof g=="function"&&g()},onBlur:()=>{J(!1),typeof _=="function"&&_()},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:ne=>ne.stopPropagation(),style:{[V.dir==="rtl"?"right":"left"]:`${r}%`},children:[T,Z(Qu,{mounted:i!=null&&re,duration:m,transition:p,timingFunction:y||V.transitionTimingFunction,children:ne=>Z("div",{style:ne,className:B.label,children:i})})]})});zU.displayName="@mantine/core/SliderThumb";function PQ({mark:t,offset:e,value:n,inverted:r=!1}){return r?typeof e=="number"&&t.value<=e||t.value>=n:typeof e=="number"?t.value>=e&&t.value<=n:t.value<=n}var AQ=Lt((t,{color:e,disabled:n,thumbSize:r},{size:i})=>({marksContainer:{position:"absolute",right:r?ae(r/2):nt({sizes:br,size:i}),left:r?ae(r/2):nt({sizes:br,size:i}),"&:has(~ input:disabled)":{"& .mantine-Slider-markFilled":{border:`${ae(2)} solid ${t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2]}`,borderColor:t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]}}},markWrapper:{position:"absolute",top:`calc(${ae(nt({sizes:br,size:i}))} / 2)`,zIndex:2,height:0},mark:{boxSizing:"border-box",border:`${ae(2)} solid ${t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2]}`,height:nt({sizes:br,size:i}),width:nt({sizes:br,size:i}),borderRadius:1e3,transform:`translateX(calc(-${nt({sizes:br,size:i})} / 2))`,backgroundColor:t.white,pointerEvents:"none"},markFilled:{borderColor:n?t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]:t.fn.variant({variant:"filled",color:e}).background},markLabel:{transform:`translate(-50%, calc(${t.spacing.xs} / 2))`,fontSize:t.fontSizes.sm,color:t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6],whiteSpace:"nowrap",cursor:"pointer",userSelect:"none"}}));const RQ=AQ;function FU({marks:t,color:e,size:n,thumbSize:r,min:i,max:o,value:s,classNames:a,styles:l,offset:u,onChange:d,disabled:h,unstyled:p,inverted:m,variant:y}){const{classes:x,cx:S}=RQ({color:e,disabled:h,thumbSize:r},{name:"Slider",classNames:a,styles:l,unstyled:p,variant:y,size:n}),g=t.map((_,w)=>ut(Dt,{className:x.markWrapper,sx:{left:`${UU({value:_.value,min:i,max:o})}%`},children:[Z("div",{className:S(x.mark,{[x.markFilled]:PQ({mark:_,value:s,offset:u,inverted:m})})}),_.label&&Z("div",{className:x.markLabel,onMouseDown:E=>{E.stopPropagation(),!h&&d(_.value)},onTouchStart:E=>{E.stopPropagation(),!h&&d(_.value)},children:_.label})]},w));return Z("div",{className:x.marksContainer,children:g})}FU.displayName="@mantine/core/SliderMarks";var CQ=Lt((t,{radius:e,color:n,disabled:r,inverted:i,thumbSize:o},{size:s})=>({trackContainer:{display:"flex",alignItems:"center",width:"100%",height:`calc(${nt({sizes:br,size:s})} * 2)`,cursor:"pointer","&:has(~ input:disabled)":{"&":{pointerEvents:"none"},"& .mantine-Slider-thumb":{display:"none"},"& .mantine-Slider-track::before":{content:'""',backgroundColor:i?t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2]},"& .mantine-Slider-bar":{backgroundColor:i?t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2]:t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]}}},track:{position:"relative",height:nt({sizes:br,size:s}),width:"100%",marginRight:o?ae(o/2):nt({size:s,sizes:br}),marginLeft:o?ae(o/2):nt({size:s,sizes:br}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:t.fn.radius(e),right:`calc(${o?ae(o/2):nt({size:s,sizes:br})} * -1)`,left:`calc(${o?ae(o/2):nt({size:s,sizes:br})} * -1)`,backgroundColor:i?r?t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]:t.fn.variant({variant:"filled",color:n}).background:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:i?t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[2]:r?t.colorScheme==="dark"?t.colors.dark[3]:t.colors.gray[4]:t.fn.variant({variant:"filled",color:n}).background,borderRadius:t.fn.radius(e)}}));const LQ=CQ;var OQ=Object.defineProperty,IQ=Object.defineProperties,NQ=Object.getOwnPropertyDescriptors,v0=Object.getOwnPropertySymbols,BU=Object.prototype.hasOwnProperty,VU=Object.prototype.propertyIsEnumerable,N2=(t,e,n)=>e in t?OQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D2=(t,e)=>{for(var n in e||(e={}))BU.call(e,n)&&N2(t,n,e[n]);if(v0)for(var n of v0(e))VU.call(e,n)&&N2(t,n,e[n]);return t},DQ=(t,e)=>IQ(t,NQ(e)),kQ=(t,e)=>{var n={};for(var r in t)BU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&v0)for(var r of v0(t))e.indexOf(r)<0&&VU.call(t,r)&&(n[r]=t[r]);return n};function $U(t){var e=t,{filled:n,size:r,thumbSize:i,color:o,classNames:s,styles:a,radius:l,children:u,offset:d,disabled:h,marksOffset:p,unstyled:m,inverted:y,variant:x,containerProps:S}=e,g=kQ(e,["filled","size","thumbSize","color","classNames","styles","radius","children","offset","disabled","marksOffset","unstyled","inverted","variant","containerProps"]);const{classes:_}=LQ({color:o,radius:l,disabled:h,inverted:y,thumbSize:i},{name:"Slider",classNames:s,styles:a,unstyled:m,variant:x,size:r});return ut(Dr,{children:[Z("div",{...D2({className:_.trackContainer},S),children:ut("div",{className:_.track,children:[Z(Dt,{className:_.bar,sx:{left:`calc(${d}% - ${i?ae(i/2):nt({size:r,sizes:br})})`,width:`calc(${n}% + 2 * ${i?ae(i/2):nt({size:r,sizes:br})})`}}),u]})}),Z(FU,{...DQ(D2({},g),{size:r,thumbSize:i,color:o,offset:p,classNames:s,styles:a,disabled:h,unstyled:m,inverted:y,variant:x})})]})}$U.displayName="@mantine/core/SliderTrack";var UQ=Object.defineProperty,zQ=Object.defineProperties,FQ=Object.getOwnPropertyDescriptors,y0=Object.getOwnPropertySymbols,HU=Object.prototype.hasOwnProperty,WU=Object.prototype.propertyIsEnumerable,k2=(t,e,n)=>e in t?UQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BQ=(t,e)=>{for(var n in e||(e={}))HU.call(e,n)&&k2(t,n,e[n]);if(y0)for(var n of y0(e))WU.call(e,n)&&k2(t,n,e[n]);return t},VQ=(t,e)=>zQ(t,FQ(e)),$Q=(t,e)=>{var n={};for(var r in t)HU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&y0)for(var r of y0(t))e.indexOf(r)<0&&WU.call(t,r)&&(n[r]=t[r]);return n};const GU=L.exports.forwardRef((t,e)=>{var n=t,{className:r,size:i,classNames:o,styles:s,disabled:a,unstyled:l,variant:u}=n,d=$Q(n,["className","size","classNames","styles","disabled","unstyled","variant"]);const{classes:h,cx:p}=vQ(null,{name:"Slider",classNames:o,styles:s,unstyled:l,variant:u,size:i});return Z(Dt,{...VQ(BQ({},d),{tabIndex:-1,className:p(h.root,r),ref:e})})});GU.displayName="@mantine/core/SliderRoot";function Em(t,e){return parseFloat(t.toFixed(e))}var HQ=Object.defineProperty,WQ=Object.defineProperties,GQ=Object.getOwnPropertyDescriptors,_0=Object.getOwnPropertySymbols,jU=Object.prototype.hasOwnProperty,XU=Object.prototype.propertyIsEnumerable,U2=(t,e,n)=>e in t?HQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jQ=(t,e)=>{for(var n in e||(e={}))jU.call(e,n)&&U2(t,n,e[n]);if(_0)for(var n of _0(e))XU.call(e,n)&&U2(t,n,e[n]);return t},XQ=(t,e)=>WQ(t,GQ(e)),YQ=(t,e)=>{var n={};for(var r in t)jU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_0)for(var r of _0(t))e.indexOf(r)<0&&XU.call(t,r)&&(n[r]=t[r]);return n};const qQ={size:"md",radius:"xl",min:0,max:100,step:1,precision:0,marks:[],label:t=>t,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},Tw=L.exports.forwardRef((t,e)=>{const n=Tt("Slider",qQ,t),{classNames:r,styles:i,color:o,value:s,onChange:a,onChangeEnd:l,size:u,radius:d,min:h,max:p,step:m,precision:y,defaultValue:x,name:S,marks:g,label:_,labelTransition:w,labelTransitionDuration:E,labelTransitionTimingFunction:T,labelAlwaysOn:P,thumbLabel:A,showLabelOnHover:I,thumbChildren:C,disabled:O,unstyled:B,thumbSize:ee,scale:V,inverted:F,variant:J}=n,re=YQ(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted","variant"]),ne=ho(),[U,K]=L.exports.useState(!1),[W,G]=NE({value:typeof s=="number"?ga(s,h,p):s,defaultValue:typeof x=="number"?ga(x,h,p):x,finalValue:ga(0,h,p),onChange:a}),N=L.exports.useRef(W),te=L.exports.useRef(),D=L.exports.useRef(),ue=UU({value:W,min:h,max:p}),ce=V(W),Pe=typeof _=="function"?_(ce):_,Ae=L.exports.useCallback(({x:$})=>{if(!O){const he=lQ({value:$,min:h,max:p,step:m,precision:y});G(he),N.current=he}},[O,h,p,m,y]),{ref:Re,active:ze}=HW(Ae,{onScrubEnd:()=>l==null?void 0:l(N.current)},ne.dir),Ue=$=>{if(!O)switch($.key){case"ArrowUp":{$.preventDefault(),D.current.focus();const he=Em(Math.min(Math.max(W+m,h),p),y);l==null||l(he),G(he);break}case"ArrowRight":{$.preventDefault(),D.current.focus();const he=Em(Math.min(Math.max(ne.dir==="rtl"?W-m:W+m,h),p),y);l==null||l(he),G(he);break}case"ArrowDown":{$.preventDefault(),D.current.focus();const he=Em(Math.min(Math.max(W-m,h),p),y);l==null||l(he),G(he);break}case"ArrowLeft":{$.preventDefault(),D.current.focus();const he=Em(Math.min(Math.max(ne.dir==="rtl"?W+m:W-m,h),p),y);l==null||l(he),G(he);break}case"Home":{$.preventDefault(),D.current.focus(),l==null||l(h),G(h);break}case"End":{$.preventDefault(),D.current.focus(),l==null||l(p),G(p);break}}};return ut(GU,{...XQ(jQ({},re),{ref:Yu(e,te),onKeyDownCapture:Ue,onMouseDownCapture:()=>{var $;return($=te.current)==null?void 0:$.focus()},size:u,classNames:r,styles:i,disabled:O,unstyled:B,variant:J}),children:[Z($U,{inverted:F,offset:0,filled:ue,marks:g,size:u,thumbSize:ee,radius:d,color:o,min:h,max:p,value:ce,onChange:G,classNames:r,styles:i,disabled:O,unstyled:B,variant:J,containerProps:{ref:Re,onMouseEnter:I?()=>K(!0):void 0,onMouseLeave:I?()=>K(!1):void 0},children:Z(zU,{max:p,min:h,value:ce,position:ue,dragging:ze,color:o,size:u,label:Pe,ref:D,labelTransition:w,labelTransitionDuration:E,labelTransitionTimingFunction:T,labelAlwaysOn:P,classNames:r,styles:i,thumbLabel:A,showLabelOnHover:I,isHovered:U,disabled:O,unstyled:B,thumbSize:ee,variant:J,children:C})}),Z("input",{type:"hidden",name:S,value:ce})]})});Tw.displayName="@mantine/core/Slider";var ZQ=Lt((t,{spacing:e,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:nt({size:e,sizes:t.spacing})}}));const QQ=ZQ;var KQ=Object.defineProperty,x0=Object.getOwnPropertySymbols,YU=Object.prototype.hasOwnProperty,qU=Object.prototype.propertyIsEnumerable,z2=(t,e,n)=>e in t?KQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JQ=(t,e)=>{for(var n in e||(e={}))YU.call(e,n)&&z2(t,n,e[n]);if(x0)for(var n of x0(e))qU.call(e,n)&&z2(t,n,e[n]);return t},eK=(t,e)=>{var n={};for(var r in t)YU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&x0)for(var r of x0(t))e.indexOf(r)<0&&qU.call(t,r)&&(n[r]=t[r]);return n};const tK={spacing:"md",align:"stretch",justify:"flex-start"},Nl=L.exports.forwardRef((t,e)=>{const n=Tt("Stack",tK,t),{spacing:r,className:i,align:o,justify:s,unstyled:a,variant:l}=n,u=eK(n,["spacing","className","align","justify","unstyled","variant"]),{classes:d,cx:h}=QQ({spacing:r,align:o,justify:s},{name:"Stack",unstyled:a,variant:l});return Z(Dt,{...JQ({className:h(d.root,i),ref:e},u)})});Nl.displayName="@mantine/core/Stack";const Pw={context:"Tabs component was not found in the tree",value:"Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value"},[nK,KE]=wE(Pw.context);var rK=Object.defineProperty,F2=Object.getOwnPropertySymbols,iK=Object.prototype.hasOwnProperty,oK=Object.prototype.propertyIsEnumerable,B2=(t,e,n)=>e in t?rK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sK=(t,e)=>{for(var n in e||(e={}))iK.call(e,n)&&B2(t,n,e[n]);if(F2)for(var n of F2(e))oK.call(e,n)&&B2(t,n,e[n]);return t};function aK({orientation:t,inverted:e,placement:n},r,i){const o=t==="vertical";return i==="default"?{[o?n==="left"?"borderRight":"borderLeft":e?"borderTop":"borderBottom"]:`${ae(2)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}:i==="outline"?{[o?n==="left"?"borderRight":"borderLeft":e?"borderTop":"borderBottom"]:`${ae(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}:i==="pills"?{gap:`calc(${r.spacing.sm} / 2)`}:{}}var lK=Lt((t,e,{variant:n})=>{const r=e.orientation==="vertical";return{tabsList:sK({display:"flex",flexWrap:"wrap",flexDirection:r?"column":"row",justifyContent:lU[e.position],'& [role="tab"]':{flex:e.grow?1:void 0}},aK(e,t,n))}});const cK=lK;var uK=Object.defineProperty,fK=Object.defineProperties,dK=Object.getOwnPropertyDescriptors,S0=Object.getOwnPropertySymbols,ZU=Object.prototype.hasOwnProperty,QU=Object.prototype.propertyIsEnumerable,V2=(t,e,n)=>e in t?uK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hK=(t,e)=>{for(var n in e||(e={}))ZU.call(e,n)&&V2(t,n,e[n]);if(S0)for(var n of S0(e))QU.call(e,n)&&V2(t,n,e[n]);return t},pK=(t,e)=>fK(t,dK(e)),mK=(t,e)=>{var n={};for(var r in t)ZU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&S0)for(var r of S0(t))e.indexOf(r)<0&&QU.call(t,r)&&(n[r]=t[r]);return n};const gK={grow:!1,position:"left"},KU=L.exports.forwardRef((t,e)=>{const n=Tt("TabsList",gK,t),{children:r,className:i,grow:o,position:s}=n,a=mK(n,["children","className","grow","position"]),{orientation:l,variant:u,color:d,radius:h,inverted:p,placement:m,classNames:y,styles:x,unstyled:S}=KE(),{classes:g,cx:_}=cK({orientation:l,grow:o,color:d,position:s,radius:h,inverted:p,placement:m},{name:"Tabs",unstyled:S,classNames:y,styles:x,variant:u});return Z(Dt,{...pK(hK({},a),{className:_(g.tabsList,i),ref:e,role:"tablist","aria-orientation":l}),children:r})});KU.displayName="@mantine/core/TabsList";var vK=Lt((t,{orientation:e})=>({panel:{flex:e==="vertical"?1:void 0}}));const yK=vK;var _K=Object.defineProperty,xK=Object.defineProperties,SK=Object.getOwnPropertyDescriptors,w0=Object.getOwnPropertySymbols,JU=Object.prototype.hasOwnProperty,ez=Object.prototype.propertyIsEnumerable,$2=(t,e,n)=>e in t?_K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wK=(t,e)=>{for(var n in e||(e={}))JU.call(e,n)&&$2(t,n,e[n]);if(w0)for(var n of w0(e))ez.call(e,n)&&$2(t,n,e[n]);return t},bK=(t,e)=>xK(t,SK(e)),EK=(t,e)=>{var n={};for(var r in t)JU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&w0)for(var r of w0(t))e.indexOf(r)<0&&ez.call(t,r)&&(n[r]=t[r]);return n};const MK={},tz=L.exports.forwardRef((t,e)=>{const n=Tt("TabsPanel",MK,t),{value:r,children:i,sx:o,className:s}=n,a=EK(n,["value","children","sx","className"]),l=KE(),{classes:u,cx:d}=yK({orientation:l.orientation,color:l.color,radius:l.radius,inverted:l.inverted,placement:l.placement},{name:"Tabs",unstyled:l.unstyled,classNames:l.classNames,styles:l.styles,variant:l.variant}),h=l.getPanelId(r),p=l.value===r,m=l.keepMounted||p?i:null;return L.exports.useEffect(()=>(l.setMountedPanelIds(y=>[...y,h]),l.setMountedPanelIds(y=>y.filter(x=>x!==h))),[h]),Z(Dt,{...bK(wK({},a),{ref:e,sx:[{display:p?void 0:"none"},...bE(o)],className:d(u.panel,s),role:"tabpanel",id:h,"aria-labelledby":l.getTabId(r)}),children:m})});tz.displayName="@mantine/core/TabsPanel";var TK=Object.defineProperty,PK=Object.defineProperties,AK=Object.getOwnPropertyDescriptors,H2=Object.getOwnPropertySymbols,RK=Object.prototype.hasOwnProperty,CK=Object.prototype.propertyIsEnumerable,W2=(t,e,n)=>e in t?TK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nu=(t,e)=>{for(var n in e||(e={}))RK.call(e,n)&&W2(t,n,e[n]);if(H2)for(var n of H2(e))CK.call(e,n)&&W2(t,n,e[n]);return t},G2=(t,e)=>PK(t,AK(e));function LK(t,{orientation:e,color:n,radius:r,inverted:i,placement:o},s){const a=e==="vertical",l=t.fn.variant({color:n,variant:"filled"}),u=ae(t.fn.radius(r)),d=e==="vertical"?o==="left"?`${u} 0 0 ${u}`:` 0 ${u} ${u} 0`:i?`0 0 ${u} ${u}`:`${u} ${u} 0 0`;return s==="default"?G2(nu({[a?o==="left"?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:`${ae(2)} solid transparent`,[a?o==="left"?"marginRight":"marginLeft":i?"marginTop":"marginBottom"]:ae(-2),borderRadius:d},t.fn.hover({backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[0],borderColor:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[3]})),{"&[data-active]":nu({borderColor:l.background,color:t.colorScheme==="dark"?t.white:t.black},t.fn.hover({borderColor:l.background}))}):s==="outline"?{borderRadius:d,border:`${ae(1)} solid transparent`,[a?o==="left"?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:"none","&[data-active]":{borderColor:t.colorScheme==="dark"?t.colors.dark[4]:t.colors.gray[3],"&::before":{content:'""',backgroundColor:t.colorScheme==="dark"?t.colors.dark[7]:t.white,position:"absolute",bottom:a?0:i?"unset":ae(-1),top:a?0:i?ae(-1):"unset",[a?"width":"height"]:ae(1),right:a?o==="left"?ae(-1):"unset":0,left:a?o==="left"?"unset":ae(-1):0}}}:s==="pills"?G2(nu({borderRadius:t.fn.radius(r)},t.fn.hover({backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.colors.gray[0]})),{"&[data-active]":nu({backgroundColor:l.background,color:t.white},t.fn.hover({backgroundColor:l.background}))}):{}}var OK=Lt((t,e,{variant:n})=>({tabLabel:{},tab:nu({position:"relative",padding:`${t.spacing.xs} ${t.spacing.md}`,paddingLeft:e.withIcon?t.spacing.xs:void 0,paddingRight:e.withRightSection?t.spacing.xs:void 0,fontSize:t.fontSizes.sm,whiteSpace:"nowrap",zIndex:0,display:"flex",alignItems:"center",justifyContent:e.orientation==="horizontal"?"center":void 0,lineHeight:1,"&:disabled":nu({opacity:.5,cursor:"not-allowed"},t.fn.hover({backgroundColor:"transparent"})),"&:focus":{zIndex:1}},LK(t,e,n)),tabRightSection:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginLeft:ae(7)}},tabIcon:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginRight:ae(7)}}}));const IK=OK;var NK=Object.defineProperty,DK=Object.defineProperties,kK=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,nz=Object.prototype.hasOwnProperty,rz=Object.prototype.propertyIsEnumerable,j2=(t,e,n)=>e in t?NK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UK=(t,e)=>{for(var n in e||(e={}))nz.call(e,n)&&j2(t,n,e[n]);if(b0)for(var n of b0(e))rz.call(e,n)&&j2(t,n,e[n]);return t},zK=(t,e)=>DK(t,kK(e)),FK=(t,e)=>{var n={};for(var r in t)nz.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&b0)for(var r of b0(t))e.indexOf(r)<0&&rz.call(t,r)&&(n[r]=t[r]);return n};const BK={},iz=L.exports.forwardRef((t,e)=>{const n=Tt("TabsTab",BK,t),{value:r,children:i,onKeyDown:o,onClick:s,className:a,icon:l,rightSection:u,color:d}=n,h=FK(n,["value","children","onKeyDown","onClick","className","icon","rightSection","color"]),p=KE(),m=!!l,y=!!u,{theme:x,classes:S,cx:g}=IK({withIcon:m||y&&!i,withRightSection:y||m&&!i,orientation:p.orientation,color:d||p.color,radius:p.radius,inverted:p.inverted,placement:p.placement},{name:"Tabs",unstyled:p.unstyled,classNames:p.classNames,styles:p.styles,variant:p.variant}),_=r===p.value,w=p.getPanelId(r),E=p.mountedPanelIds.includes(r)?w:void 0,T=P=>{p.onTabChange(p.allowTabDeactivation&&r===p.value?null:r),s==null||s(P)};return ut(UE,{...zK(UK({},h),{unstyled:p.unstyled,className:g(S.tab,a),"data-active":_||void 0,ref:e,type:"button",role:"tab",id:p.getTabId(r),"aria-selected":_,tabIndex:_||p.value===null?0:-1,"aria-controls":E,onClick:T,onKeyDown:h6({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:p.activateTabWithKeyboard,loop:p.loop,dir:x.dir,orientation:p.orientation,onKeyDown:o})}),children:[l&&Z("span",{className:S.tabIcon,children:l}),i&&Z("span",{className:S.tabLabel,children:i}),u&&Z("span",{className:S.tabRightSection,children:u})]})});iz.displayName="@mantine/core/Tab";function oz({defaultValue:t,value:e,onTabChange:n,orientation:r,children:i,loop:o,id:s,activateTabWithKeyboard:a,allowTabDeactivation:l,variant:u,color:d,radius:h,inverted:p,placement:m,keepMounted:y=!0,classNames:x,styles:S,unstyled:g}){const _=Ch(s),[w,E]=L.exports.useState([]),[T,P]=NE({value:e,defaultValue:t,finalValue:null,onChange:n});return Z(nK,{value:{placement:m,value:T,orientation:r,id:_,loop:o,activateTabWithKeyboard:a,getTabId:aR(`${_}-tab`,Pw.value),getPanelId:aR(`${_}-panel`,Pw.value),onTabChange:P,setMountedPanelIds:E,mountedPanelIds:w,allowTabDeactivation:l,variant:u,color:d,radius:h,inverted:p,keepMounted:y,classNames:x,styles:S,unstyled:g},children:i})}oz.displayName="@mantine/core/TabsProvider";var VK=Lt((t,{orientation:e,placement:n})=>({root:{display:e==="vertical"?"flex":void 0,flexDirection:n==="right"?"row-reverse":"row"}}));const $K=VK;var HK=Object.defineProperty,WK=Object.defineProperties,GK=Object.getOwnPropertyDescriptors,E0=Object.getOwnPropertySymbols,sz=Object.prototype.hasOwnProperty,az=Object.prototype.propertyIsEnumerable,X2=(t,e,n)=>e in t?HK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jK=(t,e)=>{for(var n in e||(e={}))sz.call(e,n)&&X2(t,n,e[n]);if(E0)for(var n of E0(e))az.call(e,n)&&X2(t,n,e[n]);return t},XK=(t,e)=>WK(t,GK(e)),YK=(t,e)=>{var n={};for(var r in t)sz.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&E0)for(var r of E0(t))e.indexOf(r)<0&&az.call(t,r)&&(n[r]=t[r]);return n};const qK={orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Oo=L.exports.forwardRef((t,e)=>{const n=Tt("Tabs",qK,t),{defaultValue:r,value:i,orientation:o,loop:s,activateTabWithKeyboard:a,allowTabDeactivation:l,children:u,id:d,onTabChange:h,variant:p,color:m,className:y,unstyled:x,classNames:S,styles:g,radius:_,inverted:w,keepMounted:E,placement:T}=n,P=YK(n,["defaultValue","value","orientation","loop","activateTabWithKeyboard","allowTabDeactivation","children","id","onTabChange","variant","color","className","unstyled","classNames","styles","radius","inverted","keepMounted","placement"]),{classes:A,cx:I}=$K({orientation:o,color:m,radius:_,inverted:w,placement:T},{unstyled:x,name:"Tabs",classNames:S,styles:g,variant:p});return Z(oz,{activateTabWithKeyboard:a,defaultValue:r,orientation:o,onTabChange:h,value:i,id:d,loop:s,allowTabDeactivation:l,color:m,variant:p,radius:_,inverted:w,keepMounted:E,placement:T,classNames:S,styles:g,unstyled:x,children:Z(Dt,{...XK(jK({},P),{className:I(A.root,y),id:d,ref:e}),children:u})})});Oo.List=KU;Oo.Tab=iz;Oo.Panel=tz;Oo.displayName="@mantine/core/Tabs";const vS="rgba(28, 28, 28, 1)",ZK={colorScheme:"dark",fontFamily:"Roboto",shadows:{sm:"1px 1px 3px rgba(0, 0, 0, 0.5)"},components:{Header:{styles:{root:{height:"100%",backgroundColor:vS,borderRadius:"5px"}}},AppShell:{styles:{main:{backgroundColor:vS,borderTopRightRadius:"5px",borderBottomRightRadius:"5px"}}},Navbar:{styles:{root:{backgroundColor:vS,borderBottomLeftRadius:"5px",borderTopLeftRadius:"5px"}}},Paper:{styles:{root:{backgroundColor:"rgba(35, 35, 35, 1)"}}}}};var Zs={exports:{}},QK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KK=QK,JK=KK;function lz(){}function cz(){}cz.resetWarningCache=lz;var eJ=function(){function t(r,i,o,s,a,l){if(l!==JK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cz,resetWarningCache:lz};return n.PropTypes=n,n};Zs.exports=eJ();var tJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},nJ=Object.defineProperty,rJ=Object.defineProperties,iJ=Object.getOwnPropertyDescriptors,M0=Object.getOwnPropertySymbols,uz=Object.prototype.hasOwnProperty,fz=Object.prototype.propertyIsEnumerable,Y2=(t,e,n)=>e in t?nJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q2=(t,e)=>{for(var n in e||(e={}))uz.call(e,n)&&Y2(t,n,e[n]);if(M0)for(var n of M0(e))fz.call(e,n)&&Y2(t,n,e[n]);return t},oJ=(t,e)=>rJ(t,iJ(e)),sJ=(t,e)=>{var n={};for(var r in t)uz.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&M0)for(var r of M0(t))e.indexOf(r)<0&&fz.call(t,r)&&(n[r]=t[r]);return n},Oa=(t,e,n)=>{const r=L.exports.forwardRef((i,o)=>{var s=i,{color:a="currentColor",size:l=24,stroke:u=2,children:d}=s,h=sJ(s,["color","size","stroke","children"]);return L.exports.createElement("svg",q2(oJ(q2({ref:o},tJ),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${t}`}),h),[...n.map(([p,m])=>L.exports.createElement(p,m)),...d||[]])});return r.propTypes={color:Zs.exports.string,size:Zs.exports.oneOfType([Zs.exports.string,Zs.exports.number]),stroke:Zs.exports.oneOfType([Zs.exports.string,Zs.exports.number])},r.displayName=`${e}`,r},aJ=Oa("building-circus","IconBuildingCircus",[["path",{d:"M4 11h16",key:"svg-0"}],["path",{d:"M12 6.5c0 1 -5 4.5 -8 4.5",key:"svg-1"}],["path",{d:"M12 6.5c0 1 5 4.5 8 4.5",key:"svg-2"}],["path",{d:"M6 11c-.333 5.333 -1 8.667 -2 10h4c1 0 4 -4 4 -9v-1",key:"svg-3"}],["path",{d:"M18 11c.333 5.333 1 8.667 2 10h-4c-1 0 -4 -4 -4 -9v-1",key:"svg-4"}],["path",{d:"M12 7v-4l2 1h-2",key:"svg-5"}]]),lJ=Oa("code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]),cJ=Oa("device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]),uJ=Oa("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),fJ=Oa("help-circle","IconHelpCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 16v.01",key:"svg-1"}],["path",{d:"M12 13a2 2 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483",key:"svg-2"}]]),dJ=Oa("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),hJ=Oa("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),pJ=Oa("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function mJ(){return Z(Dr,{children:Z(NU,{label:"Open Menu",position:"bottom",children:Z(va,{onClick:()=>{},variant:"filled",color:"dark",size:"xl",mr:50,mb:50,sx:{position:"absolute",bottom:0,right:0,width:50,height:50,zIndex:1},children:Z(lJ,{})})})})}const rh=(t,e)=>{const n=L.exports.useRef(wH);L.exports.useEffect(()=>{n.current=e},[e]),L.exports.useEffect(()=>{const r=i=>{const{action:o,data:s}=i.data;n.current&&o===t&&n.current(s)};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[t])};async function gs(t,e,n){const r={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)};if(SE()&&n)return n;const i=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await(await fetch(`https://${i}/${t}`,r)).json()}function gJ(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var vJ=gJ,Ct=vJ;function yJ(t){return!!t&&typeof t.then=="function"}var fn=yJ;function _J(t,e){if(t!=null)return t;throw Ct(e!=null?e:"Got unexpected null or undefined")}var vn=_J;function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ty{getValue(){throw Ct("BaseLoadable")}toPromise(){throw Ct("BaseLoadable")}valueMaybe(){throw Ct("BaseLoadable")}valueOrThrow(){throw Ct(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ct("BaseLoadable")}promiseOrThrow(){throw Ct(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ct("BaseLoadable")}errorOrThrow(){throw Ct(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ct("BaseLoadable")}}class xJ extends Ty{constructor(e){super(),Et(this,"state","hasValue"),Et(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return fn(n)?Dl(n):Nu(n)?n:kh(n)}catch(n){return fn(n)?Dl(n.next(()=>this.map(e))):Py(n)}}}class SJ extends Ty{constructor(e){super(),Et(this,"state","hasError"),Et(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class dz extends Ty{constructor(e){super(),Et(this,"state","loading"),Et(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Dl(this.contents.then(n=>{const r=e(n);if(Nu(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(fn(n))return n.then(()=>this.map(e).contents);throw n}))}}function kh(t){return Object.freeze(new xJ(t))}function Py(t){return Object.freeze(new SJ(t))}function Dl(t){return Object.freeze(new dz(t))}function hz(){return Object.freeze(new dz(new Promise(()=>{})))}function wJ(t){return t.every(e=>e.state==="hasValue")?kh(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Py(vn(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Dl(Promise.all(t.map(e=>e.contents)))}function pz(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Nu(i)?i:fn(i)?Dl(i):kh(i)),r=wJ(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:i[a]}),{}))}function Nu(t){return t instanceof Ty}const bJ={of:t=>fn(t)?Dl(t):Nu(t)?t:kh(t),error:t=>Py(t),loading:()=>hz(),all:pz,isLoadable:Nu};var Xl={loadableWithValue:kh,loadableWithError:Py,loadableWithPromise:Dl,loadableLoading:hz,loadableAll:pz,isLoadable:Nu,RecoilLoadable:bJ},EJ=Xl.loadableWithValue,MJ=Xl.loadableWithError,TJ=Xl.loadableWithPromise,PJ=Xl.loadableLoading,AJ=Xl.loadableAll,RJ=Xl.isLoadable,CJ=Xl.RecoilLoadable,Uh=Object.freeze({__proto__:null,loadableWithValue:EJ,loadableWithError:MJ,loadableWithPromise:TJ,loadableLoading:PJ,loadableAll:AJ,isLoadable:RJ,RecoilLoadable:CJ});const Aw={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function LJ(t,e){var n,r;const i=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Ct(`({}).${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function OJ(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function IJ(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(LJ("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Aw.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),OJ("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Aw.RECOIL_GKS_ENABLED.add(n)})}))}IJ();var Ju=Aw;function Ay(t){return Ju.RECOIL_GKS_ENABLED.has(t)}Ay.setPass=t=>{Ju.RECOIL_GKS_ENABLED.add(t)};Ay.setFail=t=>{Ju.RECOIL_GKS_ENABLED.delete(t)};Ay.clear=()=>{Ju.RECOIL_GKS_ENABLED.clear()};var rn=Ay;function NJ(t,e,{error:n}={}){return null}var DJ=NJ,JE=DJ,yS,_S,xS;const kJ=(yS=jt.createMutableSource)!==null&&yS!==void 0?yS:jt.unstable_createMutableSource,mz=(_S=jt.useMutableSource)!==null&&_S!==void 0?_S:jt.unstable_useMutableSource,gz=(xS=jt.useSyncExternalStore)!==null&&xS!==void 0?xS:jt.unstable_useSyncExternalStore;function UJ(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function zJ(){return rn("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:rn("recoil_sync_external_store")&&gz!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:rn("recoil_mutable_source")&&mz!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?rn("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:rn("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function FJ(){return!1}var zh={createMutableSource:kJ,useMutableSource:mz,useSyncExternalStore:gz,currentRendererSupportsUseSyncExternalStore:UJ,reactMode:zJ,isFastRefreshEnabled:FJ};class eM{constructor(e){Et(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class vz extends eM{}class yz extends eM{}function BJ(t){return t instanceof vz||t instanceof yz}var Ry={AbstractRecoilValue:eM,RecoilState:vz,RecoilValueReadOnly:yz,isRecoilValue:BJ},VJ=Ry.AbstractRecoilValue,$J=Ry.RecoilState,HJ=Ry.RecoilValueReadOnly,WJ=Ry.isRecoilValue,Du=Object.freeze({__proto__:null,AbstractRecoilValue:VJ,RecoilState:$J,RecoilValueReadOnly:HJ,isRecoilValue:WJ});function GJ(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Cy=GJ;class _z{}const jJ=new _z,kl=new Map,tM=new Map;function XJ(t){return Cy(t,e=>vn(tM.get(e)))}function YJ(t){if(kl.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function qJ(t){Ju.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&YJ(t.key),kl.set(t.key,t);const e=t.set==null?new Du.RecoilValueReadOnly(t.key):new Du.RecoilState(t.key);return tM.set(t.key,e),e}class xz extends Error{}function ZJ(t){const e=kl.get(t);if(e==null)throw new xz(`Missing definition for RecoilValue: "${t}""`);return e}function QJ(t){return kl.get(t)}const T0=new Map;function KJ(t){var e;if(!rn("recoil_memory_managament_2020"))return;const n=kl.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;kl.delete(t),(r=Sz(t))===null||r===void 0||r(),T0.delete(t)}}function JJ(t,e){!rn("recoil_memory_managament_2020")||(e===void 0?T0.delete(t):T0.set(t,e))}function Sz(t){return T0.get(t)}var Jr={nodes:kl,recoilValues:tM,registerNode:qJ,getNode:ZJ,getNodeMaybe:QJ,deleteNodeConfigIfPossible:KJ,setConfigDeletionHandler:JJ,getConfigDeletionHandler:Sz,recoilValuesForKeys:XJ,NodeMissingError:xz,DefaultValue:_z,DEFAULT_VALUE:jJ};function eee(t,e){e()}var tee={enqueueExecution:eee};function nee(t,e){return e={exports:{}},t(e,e.exports),e.exports}var ree=nee(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},n={},r=5,i=Math.pow(2,r),o=i-1,s=i/2,a=i/4,l={},u=function(Q){return function(){return Q}},d=n.hash=function(q){var Q=typeof q>"u"?"undefined":e(q);if(Q==="number")return q;Q!=="string"&&(q+="");for(var me=0,Oe=0,j=q.length;Oe<j;++Oe){var pe=q.charCodeAt(Oe);me=(me<<5)-me+pe|0}return me},h=function(Q){return Q-=Q>>1&1431655765,Q=(Q&858993459)+(Q>>2&858993459),Q=Q+(Q>>4)&252645135,Q+=Q>>8,Q+=Q>>16,Q&127},p=function(Q,me){return me>>>Q&o},m=function(Q){return 1<<Q},y=function(Q,me){return h(Q&me-1)},x=function(Q,me,Oe,j){var pe=j;if(!Q){var oe=j.length;pe=new Array(oe);for(var ye=0;ye<oe;++ye)pe[ye]=j[ye]}return pe[me]=Oe,pe},S=function(Q,me,Oe){var j=Oe.length-1,pe=0,oe=0,ye=Oe;if(Q)pe=oe=me;else for(ye=new Array(j);pe<me;)ye[oe++]=Oe[pe++];for(++pe;pe<=j;)ye[oe++]=Oe[pe++];return Q&&(ye.length=j),ye},g=function(Q,me,Oe,j){var pe=j.length;if(Q){for(var oe=pe;oe>=me;)j[oe--]=j[oe];return j[me]=Oe,j}for(var ye=0,Me=0,Ge=new Array(pe+1);ye<me;)Ge[Me++]=j[ye++];for(Ge[me]=Oe;ye<pe;)Ge[++Me]=j[ye++];return Ge},_=1,w=2,E=3,T=4,P={__hamt_isEmpty:!0},A=function(Q){return Q===P||Q&&Q.__hamt_isEmpty},I=function(Q,me,Oe,j){return{type:_,edit:Q,hash:me,key:Oe,value:j,_modify:U}},C=function(Q,me,Oe){return{type:w,edit:Q,hash:me,children:Oe,_modify:K}},O=function(Q,me,Oe){return{type:E,edit:Q,mask:me,children:Oe,_modify:W}},B=function(Q,me,Oe){return{type:T,edit:Q,size:me,children:Oe,_modify:G}},ee=function(Q){return Q===P||Q.type===_||Q.type===w},V=function(Q,me,Oe,j,pe){for(var oe=[],ye=j,Me=0,Ge=0;ye;++Ge)ye&1&&(oe[Ge]=pe[Me++]),ye>>>=1;return oe[me]=Oe,B(Q,Me+1,oe)},F=function(Q,me,Oe,j){for(var pe=new Array(me-1),oe=0,ye=0,Me=0,Ge=j.length;Me<Ge;++Me)if(Me!==Oe){var ft=j[Me];ft&&!A(ft)&&(pe[oe++]=ft,ye|=1<<Me)}return O(Q,ye,pe)},J=function q(Q,me,Oe,j,pe,oe){if(Oe===pe)return C(Q,Oe,[oe,j]);var ye=p(me,Oe),Me=p(me,pe);return O(Q,m(ye)|m(Me),ye===Me?[q(Q,me+r,Oe,j,pe,oe)]:ye<Me?[j,oe]:[oe,j])},re=function(Q,me,Oe,j,pe,oe,ye,Me){for(var Ge=pe.length,ft=0;ft<Ge;++ft){var Ft=pe[ft];if(Oe(ye,Ft.key)){var $t=Ft.value,kt=oe($t);return kt===$t?pe:kt===l?(--Me.value,S(Q,ft,pe)):x(Q,ft,I(me,j,ye,kt),pe)}}var ln=oe();return ln===l?pe:(++Me.value,x(Q,Ge,I(me,j,ye,ln),pe))},ne=function(Q,me){return Q===me.edit},U=function(Q,me,Oe,j,pe,oe,ye){if(me(oe,this.key)){var Me=j(this.value);return Me===this.value?this:Me===l?(--ye.value,P):ne(Q,this)?(this.value=Me,this):I(Q,pe,oe,Me)}var Ge=j();return Ge===l?this:(++ye.value,J(Q,Oe,this.hash,this,pe,I(Q,pe,oe,Ge)))},K=function(Q,me,Oe,j,pe,oe,ye){if(pe===this.hash){var Me=ne(Q,this),Ge=re(Me,Q,me,this.hash,this.children,j,oe,ye);return Ge===this.children?this:Ge.length>1?C(Q,this.hash,Ge):Ge[0]}var ft=j();return ft===l?this:(++ye.value,J(Q,Oe,this.hash,this,pe,I(Q,pe,oe,ft)))},W=function(Q,me,Oe,j,pe,oe,ye){var Me=this.mask,Ge=this.children,ft=p(Oe,pe),Ft=m(ft),$t=y(Me,Ft),kt=Me&Ft,ln=kt?Ge[$t]:P,hn=ln._modify(Q,me,Oe+r,j,pe,oe,ye);if(ln===hn)return this;var Yo=ne(Q,this),vo=Me,yo=void 0;if(kt&&A(hn)){if(vo&=~Ft,!vo)return P;if(Ge.length<=2&&ee(Ge[$t^1]))return Ge[$t^1];yo=S(Yo,$t,Ge)}else if(!kt&&!A(hn)){if(Ge.length>=s)return V(Q,ft,hn,Me,Ge);vo|=Ft,yo=g(Yo,$t,hn,Ge)}else yo=x(Yo,$t,hn,Ge);return Yo?(this.mask=vo,this.children=yo,this):O(Q,vo,yo)},G=function(Q,me,Oe,j,pe,oe,ye){var Me=this.size,Ge=this.children,ft=p(Oe,pe),Ft=Ge[ft],$t=(Ft||P)._modify(Q,me,Oe+r,j,pe,oe,ye);if(Ft===$t)return this;var kt=ne(Q,this),ln=void 0;if(A(Ft)&&!A($t))++Me,ln=x(kt,ft,$t,Ge);else if(!A(Ft)&&A($t)){if(--Me,Me<=a)return F(Q,Me,ft,Ge);ln=x(kt,ft,P,Ge)}else ln=x(kt,ft,$t,Ge);return kt?(this.size=Me,this.children=ln,this):B(Q,Me,ln)};P._modify=function(q,Q,me,Oe,j,pe,oe){var ye=Oe();return ye===l?P:(++oe.value,I(q,j,pe,ye))};function N(q,Q,me,Oe,j){this._editable=q,this._edit=Q,this._config=me,this._root=Oe,this._size=j}N.prototype.setTree=function(q,Q){return this._editable?(this._root=q,this._size=Q,this):q===this._root?this:new N(this._editable,this._edit,this._config,q,Q)};var te=n.tryGetHash=function(q,Q,me,Oe){for(var j=Oe._root,pe=0,oe=Oe._config.keyEq;;)switch(j.type){case _:return oe(me,j.key)?j.value:q;case w:{if(Q===j.hash)for(var ye=j.children,Me=0,Ge=ye.length;Me<Ge;++Me){var ft=ye[Me];if(oe(me,ft.key))return ft.value}return q}case E:{var Ft=p(pe,Q),$t=m(Ft);if(j.mask&$t){j=j.children[y(j.mask,$t)],pe+=r;break}return q}case T:{if(j=j.children[p(pe,Q)],j){pe+=r;break}return q}default:return q}};N.prototype.tryGetHash=function(q,Q,me){return te(q,Q,me,this)};var D=n.tryGet=function(q,Q,me){return te(q,me._config.hash(Q),Q,me)};N.prototype.tryGet=function(q,Q){return D(q,Q,this)};var ue=n.getHash=function(q,Q,me){return te(void 0,q,Q,me)};N.prototype.getHash=function(q,Q){return ue(q,Q,this)},n.get=function(q,Q){return te(void 0,Q._config.hash(q),q,Q)},N.prototype.get=function(q,Q){return D(Q,q,this)};var ce=n.has=function(q,Q,me){return te(l,q,Q,me)!==l};N.prototype.hasHash=function(q,Q){return ce(q,Q,this)};var Pe=n.has=function(q,Q){return ce(Q._config.hash(q),q,Q)};N.prototype.has=function(q){return Pe(q,this)};var Ae=function(Q,me){return Q===me};n.make=function(q){return new N(0,0,{keyEq:q&&q.keyEq||Ae,hash:q&&q.hash||d},P,0)},n.empty=n.make();var Re=n.isEmpty=function(q){return q&&!!A(q._root)};N.prototype.isEmpty=function(){return Re(this)};var ze=n.modifyHash=function(q,Q,me,Oe){var j={value:Oe._size},pe=Oe._root._modify(Oe._editable?Oe._edit:NaN,Oe._config.keyEq,0,q,Q,me,j);return Oe.setTree(pe,j.value)};N.prototype.modifyHash=function(q,Q,me){return ze(me,q,Q,this)};var Ue=n.modify=function(q,Q,me){return ze(q,me._config.hash(Q),Q,me)};N.prototype.modify=function(q,Q){return Ue(Q,q,this)};var $=n.setHash=function(q,Q,me,Oe){return ze(u(me),q,Q,Oe)};N.prototype.setHash=function(q,Q,me){return $(q,Q,me,this)};var he=n.set=function(q,Q,me){return $(me._config.hash(q),q,Q,me)};N.prototype.set=function(q,Q){return he(q,Q,this)};var _e=u(l),Ie=n.removeHash=function(q,Q,me){return ze(_e,q,Q,me)};N.prototype.removeHash=N.prototype.deleteHash=function(q,Q){return Ie(q,Q,this)};var we=n.remove=function(q,Q){return Ie(Q._config.hash(q),q,Q)};N.prototype.remove=N.prototype.delete=function(q){return we(q,this)};var He=n.beginMutation=function(q){return new N(q._editable+1,q._edit+1,q._config,q._root,q._size)};N.prototype.beginMutation=function(){return He(this)};var We=n.endMutation=function(q){return q._editable=q._editable&&q._editable-1,q};N.prototype.endMutation=function(){return We(this)};var qe=n.mutate=function(q,Q){var me=He(Q);return q(me),We(me)};N.prototype.mutate=function(q){return qe(q,this)};var it=function(Q){return Q&&ht(Q[0],Q[1],Q[2],Q[3],Q[4])},ht=function(Q,me,Oe,j,pe){for(;Oe<Q;){var oe=me[Oe++];if(oe&&!A(oe))return Xt(oe,j,[Q,me,Oe,j,pe])}return it(pe)},Xt=function(Q,me,Oe){switch(Q.type){case _:return{value:me(Q),rest:Oe};case w:case T:case E:var j=Q.children;return ht(j.length,j,0,me,Oe);default:return it(Oe)}},Y={done:!0};function k(q){this.v=q}k.prototype.next=function(){if(!this.v)return Y;var q=this.v;return this.v=it(q.rest),q},k.prototype[Symbol.iterator]=function(){return this};var ve=function(Q,me){return new k(Xt(Q._root,me))},Ne=function(Q){return[Q.key,Q.value]},De=n.entries=function(q){return ve(q,Ne)};N.prototype.entries=N.prototype[Symbol.iterator]=function(){return De(this)};var Be=function(Q){return Q.key},tt=n.keys=function(q){return ve(q,Be)};N.prototype.keys=function(){return tt(this)};var Ve=function(Q){return Q.value},be=n.values=N.prototype.values=function(q){return ve(q,Ve)};N.prototype.values=function(){return be(this)};var ot=n.fold=function(q,Q,me){var Oe=me._root;if(Oe.type===_)return q(Q,Oe.value,Oe.key);for(var j=[Oe.children],pe=void 0;pe=j.pop();)for(var oe=0,ye=pe.length;oe<ye;){var Me=pe[oe++];Me&&Me.type&&(Me.type===_?Q=q(Q,Me.value,Me.key):j.push(Me.children))}return Q};N.prototype.fold=function(q,Q){return ot(q,Q,this)};var at=n.forEach=function(q,Q){return ot(function(me,Oe,j){return q(Oe,j,Q)},null,Q)};N.prototype.forEach=function(q){return at(q,this)};var Ce=n.count=function(q){return q._size};N.prototype.count=function(){return Ce(this)},Object.defineProperty(N.prototype,"size",{get:N.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class iee{constructor(e){Et(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return rM(this)}toMap(){return new Map(this._map)}}class nM{constructor(e){if(Et(this,"_hamt",ree.empty.beginMutation()),e instanceof nM){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return rM(this)}toMap(){return new Map(this._hamt)}}function rM(t){return rn("recoil_hamt_2020")?new nM(t):new iee(t)}var oee={persistentMap:rM},see=oee.persistentMap,aee=Object.freeze({__proto__:null,persistentMap:see});function lee(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Pd=lee;function cee(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var P0=cee;function uee(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function fee(t){return{nodeDeps:P0(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:P0(t.nodeToNodeSubscriptions,e=>new Set(e))}}function SS(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(t);if(s&&r&&s!==r.nodeDeps.get(t))return;i.set(t,e);const a=s==null?e:Pd(e,s);for(const l of a)o.has(l)||o.set(l,new Set),vn(o.get(l)).add(t);if(s){const l=Pd(s,e);for(const u of l){if(!o.has(u))return;const d=vn(o.get(u));d.delete(t),d.size===0&&o.delete(u)}}}function dee(t,e,n,r){var i,o,s,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(r);if(SS(t,e,u),r===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const h=n.getGraph(l.currentTree.version);SS(t,e,h,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var d;const h=(d=l.nextTree)===null||d===void 0?void 0:d.version;if(h!==void 0){const p=n.getGraph(h);SS(t,e,p,u)}}}var Fh={cloneGraph:fee,graph:uee,saveDepsToStore:dee};let hee=0;const pee=()=>hee++;let mee=0;const gee=()=>mee++;let vee=0;const yee=()=>vee++;var Ly={getNextTreeStateVersion:pee,getNextStoreID:gee,getNextComponentID:yee};const{persistentMap:Z2}=aee,{graph:_ee}=Fh,{getNextTreeStateVersion:wz}=Ly;function bz(){const t=wz();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Z2(),nonvalidatedAtoms:Z2()}}function xee(){const t=bz();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,_ee()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Ez={makeEmptyTreeState:bz,makeEmptyStoreState:xee,getNextTreeStateVersion:wz};class Mz{}function See(){return new Mz}var Oy={RetentionZone:Mz,retentionZone:See};function wee(t,e){const n=new Set(t);return n.add(e),n}function bee(t,e){const n=new Set(t);return n.delete(e),n}function Eee(t,e,n){const r=new Map(t);return r.set(e,n),r}function Mee(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function Tee(t,e){const n=new Map(t);return n.delete(e),n}function Pee(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var Tz={setByAddingToSet:wee,setByDeletingFromSet:bee,mapBySettingInMap:Eee,mapByUpdatingInMap:Mee,mapByDeletingFromMap:Tee,mapByDeletingMultipleFromMap:Pee};function*Aee(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var iM=Aee;function Ree(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var Pz=Ree;const{getNode:Bh,getNodeMaybe:Cee,recoilValuesForKeys:Q2}=Jr,{RetentionZone:K2}=Oy,{setByAddingToSet:Lee}=Tz,Oee=Object.freeze(new Set);class Iee extends Error{}function Nee(t,e,n){if(!rn("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(o){let s=r.get(o);s||r.set(o,s=new Set),s.add(e)}if(n instanceof K2)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!rn("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof K2)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function oM(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Bh(n),s=Nee(t,n,o.retainedBy),a=o.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),s()})}function Dee(t,e,n){oM(t,t.getState().currentTree,e,n)}function kee(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function Uee(t,e,n){return oM(t,e,n,"get"),Bh(n).get(t,e)}function Az(t,e,n){return Bh(n).peek(t,e)}function zee(t,e,n){var r;const i=Cee(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:Lee(t.dirtyAtoms,e)}}function Fee(t,e,n,r){const i=Bh(n);if(i.set==null)throw new Iee(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return oM(t,e,n,"set"),o(t,e,r)}function Bee(t,e,n){const r=t.getState(),i=t.getGraph(e.version),o=Bh(n).nodeType;return Pz({type:o},{loadable:()=>Az(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return Q2((s=i.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:Q2(iM(Rz(t,e,new Set([n])),l=>l!==n)),components:Cy((s=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function Rz(t,e,n){const r=new Set,i=Array.from(n),o=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:Oee;for(const u of l)r.has(u)||i.push(u)}return r}var Ia={getNodeLoadable:Uee,peekNodeLoadable:Az,setNodeValue:Fee,initializeNode:Dee,cleanUpNode:kee,setUnvalidatedAtomValue_DEPRECATED:zee,peekNodeInfo:Bee,getDownstreamNodes:Rz};let Cz=null;function Vee(t){Cz=t}function $ee(){var t;(t=Cz)===null||t===void 0||t()}var Lz={setInvalidateMemoizedSnapshot:Vee,invalidateMemoizedSnapshot:$ee};const{getDownstreamNodes:Hee,getNodeLoadable:Oz,setNodeValue:Wee}=Ia,{getNextComponentID:Gee}=Ly,{getNode:jee,getNodeMaybe:Iz}=Jr,{DefaultValue:sM}=Jr,{reactMode:Xee}=zh,{AbstractRecoilValue:Yee,RecoilState:qee,RecoilValueReadOnly:Zee,isRecoilValue:Qee}=Du,{invalidateMemoizedSnapshot:Kee}=Lz;function Jee(t,{key:e},n=t.getState().currentTree){var r,i;const o=t.getState();n.version===o.currentTree.version||n.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=o.previousTree)===null||i===void 0||i.version);const s=Oz(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function ete(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof sM?n.delete(i):n.set(i,r)}),n}function tte(t,e,{key:n},r){if(typeof r=="function"){const i=Oz(t,e,n);if(i.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Ct(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function nte(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:o}=n,s=tte(t,e,i,o),a=Wee(t,e,i.key,s);for(const[l,u]of a.entries())Rw(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=n;Rw(e,i,o)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=n,s=Iz(i);s==null||(r=s.invalidate)===null||r===void 0||r.call(s,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else JE(`Unknown action ${n.type}`)}function Rw(t,e,n){n.state==="hasValue"&&n.contents instanceof sM?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Nz(t,e){t.replaceState(n=>{const r=Dz(n);for(const i of e)nte(t,r,i);return kz(t,r),Kee(),r})}function Iy(t,e){if(Ad.length){const n=Ad[Ad.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Nz(t,[e])}const Ad=[];function rte(){const t=new Map;return Ad.push(t),()=>{for(const[e,n]of t)Nz(e,n);Ad.pop()}}function Dz(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function kz(t,e){const n=Hee(t,e,e.dirtyAtoms);for(const o of n){var r,i;(r=Iz(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function Uz(t,e,n){Iy(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function ite(t,e,n){if(n instanceof sM)return Uz(t,e,n);Iy(t,{type:"setLoadable",recoilValue:e,loadable:n})}function ote(t,e){Iy(t,{type:"markModified",recoilValue:e})}function ste(t,e,n){Iy(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function ate(t,{key:e},n,r=null){const i=Gee(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),vn(o.nodeToComponentSubscriptions.get(e)).set(i,[r!=null?r:"<not captured>",n]);const s=Xee();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function lte(t,e){var n;const{currentTree:r}=t.getState(),i=jee(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Ho={RecoilValueReadOnly:Zee,AbstractRecoilValue:Yee,RecoilState:qee,getRecoilValueAsLoadable:Jee,setRecoilValue:Uz,setRecoilValueLoadable:ite,markRecoilValueModified:ote,setUnvalidatedRecoilValue:ste,subscribeToRecoilValue:ate,isRecoilValue:Qee,applyAtomValueWrites:ete,batchStart:rte,writeLoadableToTreeState:Rw,invalidateDownstreams:kz,copyTreeState:Dz,refreshRecoilValue:lte};function cte(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(n,o[1],o[0],t))return!0;i=r.next()}return!1}var ute=cte;const{cleanUpNode:fte}=Ia,{deleteNodeConfigIfPossible:dte,getNode:zz}=Jr,{RetentionZone:Fz}=Oy,hte=12e4,Bz=new Set;function Vz(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const s of e)if(s instanceof Fz)for(const a of vte(n,s))i.add(a);else i.add(s);const o=pte(t,i);for(const s of o)gte(t,r,s)}function pte(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,d=mte(t,r,l,o,s);for(const y of d){var h;if(zz(y).retainedBy==="recoilRoot"){s.add(y);continue}if(((h=n.retention.referenceCounts.get(y))!==null&&h!==void 0?h:0)>0){s.add(y);continue}if($z(y).some(S=>n.retention.referenceCounts.get(S))){s.add(y);continue}const x=i.nodeToNodeSubscriptions.get(y);if(x&&ute(x,S=>s.has(S))){s.add(y);continue}o.add(y),u.add(y)}const p=new Set;for(const y of u)for(const x of(m=i.nodeDeps.get(y))!==null&&m!==void 0?m:Bz){var m;o.has(x)||p.add(x)}p.size&&a(p)}}function mte(t,e,n,r,i){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(vn(n.values().next().value));return s;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const d=o.nodeToNodeSubscriptions.get(u);if(d)for(const h of d)l(h);a.add(u),n.delete(u),s.push(u)}}function gte(t,e,n){if(!rn("recoil_memory_managament_2020"))return;fte(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=$z(n);for(const l of i){var o;(o=r.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}dte(n)}function vte(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:Bz}function $z(t){const e=zz(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Fz?[e]:e}function yte(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):Vz(t,new Set([e]))}function _te(t,e,n){var r;if(!rn("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+n;o===0?Hz(t,e):i.set(e,o)}function Hz(t,e){if(!rn("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),yte(t,e)}function xte(t){if(!rn("recoil_memory_managament_2020"))return;const e=t.getState();Vz(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function Ste(t){return t===void 0?"recoilRoot":t}var Yl={SUSPENSE_TIMEOUT_MS:hte,updateRetainCount:_te,updateRetainCountToZero:Hz,releaseScheduledRetainablesNow:xte,retainedByOptionWithDefault:Ste};const{unstable_batchedUpdates:wte}=SH;var bte={unstable_batchedUpdates:wte};const{unstable_batchedUpdates:Ete}=bte;var Mte={unstable_batchedUpdates:Ete};const{batchStart:Tte}=Ho,{unstable_batchedUpdates:Pte}=Mte;let aM=Pte||(t=>t());const Ate=t=>{aM=t},Rte=()=>aM,Cte=t=>{aM(()=>{let e=()=>{};try{e=Tte(),t()}finally{e()}})};var Ny={getBatcher:Rte,setBatcher:Ate,batchUpdates:Cte};function*Lte(t){for(const e of t)for(const n of e)yield n}var Wz=Lte;const Gz=typeof Window>"u"||typeof window>"u",Ote=t=>!Gz&&(t===window||t instanceof Window),Ite=typeof navigator<"u"&&navigator.product==="ReactNative";var Dy={isSSR:Gz,isReactNative:Ite,isWindow:Ote};function Nte(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function Dte(t,e){let n,r;return(...i)=>{const o=e(...i);return n===o||(n=o,r=t(...i)),r}}function kte(t,e){let n,r;return[(...s)=>{const a=e(...s);return n===a||(n=a,r=t(...s)),r},()=>{n=null}]}var Ute={memoizeWithArgsHash:Nte,memoizeOneWithArgsHash:Dte,memoizeOneWithArgsHashAndInvalidation:kte};const{batchUpdates:Cw}=Ny,{initializeNode:zte,peekNodeInfo:Fte}=Ia,{graph:Bte}=Fh,{getNextStoreID:Vte}=Ly,{DEFAULT_VALUE:$te,recoilValues:J2,recoilValuesForKeys:eL}=Jr,{AbstractRecoilValue:Hte,getRecoilValueAsLoadable:Wte,setRecoilValue:tL,setUnvalidatedRecoilValue:Gte}=Ho,{updateRetainCount:$g}=Yl,{setInvalidateMemoizedSnapshot:jte}=Lz,{getNextTreeStateVersion:Xte,makeEmptyStoreState:Yte}=Ez,{isSSR:qte}=Dy,{memoizeOneWithArgsHashAndInvalidation:Zte}=Ute;class ky{constructor(e,n){Et(this,"_store",void 0),Et(this,"_refCount",1),Et(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),Wte(this._store,r))),Et(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Et(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return eL(s.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?J2.values():r.isInitialized===!0?eL(Wz([i,o])):iM(J2.values(),({key:s})=>!i.has(s)&&!o.has(s))}),Et(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),Fte(this._store,this._store.getState().currentTree,r))),Et(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new Lw(this,Cw);return r(i),i}),Et(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new Lw(this,Cw);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:Vte(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return vn(i.get(r));const o=Bte();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ct("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)zte(this._store,r,"get"),$g(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){qte||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!rn("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){rn("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function jz(t,e,n=!1){const r=t.getState(),i=n?Xte():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Cy(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function Qte(t){const e=new ky(Yte());return t!=null?e.map(t):e}const[nL,Xz]=Zte((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:vn(r.previousTree);return new ky(jz(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});jte(Xz);function Kte(t,e="latest"){const n=nL(t,e);return n.isRetained()?n:(Xz(),nL(t,e))}class Lw extends ky{constructor(e,n){super(jz(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Et(this,"_batch",void 0),Et(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{$g(o,r.key,1),tL(this.getStore_INTERNAL(),r,i)})}),Et(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{$g(i,r.key,1),tL(this.getStore_INTERNAL(),r,$te)})}),Et(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Cw(()=>{for(const[o,s]of r.entries())$g(i,o,1),Gte(i,new Hte(o),s)})}),this._batch=n}}var Uy={Snapshot:ky,MutableSnapshot:Lw,freshSnapshot:Qte,cloneSnapshot:Kte},Jte=Uy.Snapshot,ene=Uy.MutableSnapshot,tne=Uy.freshSnapshot,nne=Uy.cloneSnapshot,zy=Object.freeze({__proto__:null,Snapshot:Jte,MutableSnapshot:ene,freshSnapshot:tne,cloneSnapshot:nne});function rne(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var ine=rne;const{useRef:one}=jt;function sne(t){const e=one(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var rL=sne;const{getNextTreeStateVersion:ane,makeEmptyStoreState:Yz}=Ez,{cleanUpNode:lne,getDownstreamNodes:cne,initializeNode:une,setNodeValue:fne,setUnvalidatedAtomValue_DEPRECATED:dne}=Ia,{graph:hne}=Fh,{cloneGraph:pne}=Fh,{getNextStoreID:qz}=Ly,{createMutableSource:wS,reactMode:Zz}=zh,{applyAtomValueWrites:mne}=Ho,{releaseScheduledRetainablesNow:Qz}=Yl,{freshSnapshot:gne}=zy,{useCallback:vne,useContext:Kz,useEffect:Ow,useMemo:yne,useRef:_ne,useState:xne}=jt;function Xf(){throw Ct("This component must be used inside a <RecoilRoot> component.")}const Jz=Object.freeze({storeID:qz(),getState:Xf,replaceState:Xf,getGraph:Xf,subscribeToTransactions:Xf,addTransactionMetadata:Xf});let Iw=!1;function iL(t){if(Iw)throw Ct("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){rn("recoil_memory_managament_2020")&&rn("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Qz(t);const n=e.currentTree.version,r=ane();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,pne(vn(e.graphsByVersion.get(n))))}}const eF=jt.createContext({current:Jz}),Fy=()=>Kz(eF),tF=jt.createContext(null);function Sne(){return Kz(tF)}function lM(t,e,n){const r=cne(t,n,n.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[s,[a,l]]of o)l(n)}}function nF(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[s,a]of o)a(t);for(const[i,o]of e.transactionSubscriptions)o(t);(!Zz().early||e.suspendedComponentResolvers.size>0)&&(lM(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function wne(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,nF(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):JE("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,rn("recoil_memory_managament_2020")&&n==null&&Qz(t)}finally{e.commitDepth--}}function bne({setNotifyBatcherOfChange:t}){const e=Fy(),[,n]=xne([]);return t(()=>n({})),Ow(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Ow(()=>{tee.enqueueExecution("Batcher",()=>{wne(e.current)})}),null}function Ene(t,e){const n=Yz();return e({set:(r,i)=>{const o=n.currentTree,s=fne(t,o,r.key,i),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:ine(o.dirtyAtoms,a),atomValues:mne(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{n.currentTree=dne(n.currentTree,o,i)})}}),n}function Mne(t){const e=gne(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let oL=0;function Tne({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const o=m=>{const y=i.current.graphsByVersion;if(y.has(m))return vn(y.get(m));const x=hne();return y.set(m,x),x},s=(m,y)=>{if(y==null){const{transactionSubscriptions:x}=h.current.getState(),S=oL++;return x.set(S,m),{release:()=>{x.delete(S)}}}else{const{nodeTransactionSubscriptions:x}=h.current.getState();x.has(y)||x.set(y,new Map);const S=oL++;return vn(x.get(y)).set(S,m),{release:()=>{const g=x.get(y);g&&(g.delete(S),g.size===0&&x.delete(y))}}}},a=m=>{iL(h.current);for(const y of Object.keys(m))vn(h.current.getState().nextTree).transactionMetadata[y]=m[y]},l=m=>{iL(h.current);const y=vn(i.current.nextTree);let x;try{Iw=!0,x=m(y)}finally{Iw=!1}x!==y&&(i.current.nextTree=x,Zz().early&&lM(h.current,i.current,x),vn(u.current)())},u=_ne(null),d=vne(m=>{u.current=m},[u]),h=rL(()=>n!=null?n:{storeID:qz(),getState:()=>i.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(h.current=n),i=rL(()=>t!=null?Ene(h.current,t):e!=null?Mne(e):Yz());const p=yne(()=>wS==null?void 0:wS(i,()=>i.current.currentTree.version),[i]);return Ow(()=>{const m=h.current;for(const y of new Set(m.getState().knownAtoms))une(m,y,"get");return()=>{for(const y of m.getState().knownAtoms)lne(m,y)}},[h]),Z(eF.Provider,{value:h,children:ut(tF.Provider,{value:p,children:[Z(bne,{setNotifyBatcherOfChange:d}),r]})})}function Pne(t){const{override:e,...n}=t,r=Fy();return e===!1&&r.current!==Jz?t.children:Z(Tne,{...n})}function Ane(){return Fy().current.storeID}var Cs={RecoilRoot:Pne,useStoreRef:Fy,useRecoilMutableSource:Sne,useRecoilStoreID:Ane,notifyComponents_FOR_TESTING:lM,sendEndOfBatchNotifications_FOR_TESTING:nF};function Rne(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var Cne=Rne;const{useEffect:Lne,useRef:One}=jt;function Ine(t){const e=One();return Lne(()=>{e.current=t}),e.current}var rF=Ine;const{useStoreRef:Nne}=Cs,{SUSPENSE_TIMEOUT_MS:Dne}=Yl,{updateRetainCount:Yf}=Yl,{RetentionZone:kne}=Oy,{useEffect:Une,useRef:zne}=jt,{isSSR:sL}=Dy;function Fne(t){if(!!rn("recoil_memory_managament_2020"))return Bne(t)}function Bne(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof kne?s:s.key),r=Nne();Une(()=>{if(!rn("recoil_memory_managament_2020"))return;const s=r.current;if(i.current&&!sL)window.clearTimeout(i.current),i.current=null;else for(const a of n)Yf(s,a,1);return()=>{for(const a of n)Yf(s,a,-1)}},[r,...n]);const i=zne(),o=rF(n);if(!sL&&(o===void 0||!Cne(o,n))){const s=r.current;for(const a of n)Yf(s,a,1);if(o)for(const a of o)Yf(s,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)Yf(s,a,-1)},Dne)}}var cM=Fne;function Vne(){return"<component name not available>"}var Vh=Vne;const{batchUpdates:$ne}=Ny,{DEFAULT_VALUE:iF}=Jr,{currentRendererSupportsUseSyncExternalStore:Hne,reactMode:ef,useMutableSource:Wne,useSyncExternalStore:Gne}=zh,{useRecoilMutableSource:jne,useStoreRef:Wo}=Cs,{AbstractRecoilValue:Nw,getRecoilValueAsLoadable:$h,setRecoilValue:A0,setUnvalidatedRecoilValue:Xne,subscribeToRecoilValue:ku}=Ho,{useCallback:Qr,useEffect:Uu,useMemo:oF,useRef:Rd,useState:uM}=jt,{setByAddingToSet:Yne}=Tz,{isSSR:qne}=Dy;function fM(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const o=n.current.getState().suspendedComponentResolvers;o.add(i),qne&&fn(t.contents)&&t.contents.finally(()=>{o.delete(i)})}):t.state==="hasError"?t.contents:Ct(`Invalid value of loadable atom "${e.key}"`)}function Zne(){const t=Vh(),e=Wo(),[,n]=uM([]),r=Rd(new Set);r.current=new Set;const i=Rd(new Set),o=Rd(new Map),s=Qr(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=Qr((l,u)=>{o.current.has(u)&&n([])},[]);return Uu(()=>{const l=e.current;Pd(r.current,i.current).forEach(u=>{if(o.current.has(u))return;const d=ku(l,new Nw(u),p=>a(p,u),t);o.current.set(u,d),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),Pd(i.current,r.current).forEach(u=>{s(u)}),i.current=r.current}),Uu(()=>{const l=o.current;return Pd(r.current,new Set(l.keys())).forEach(u=>{const d=ku(e.current,new Nw(u),h=>a(h,u),t);l.set(u,d)}),()=>l.forEach((u,d)=>s(d))},[t,e,s,a]),oF(()=>{function l(y){return x=>{A0(e.current,y,x)}}function u(y){return()=>A0(e.current,y,iF)}function d(y){var x;r.current.has(y.key)||(r.current=Yne(r.current,y.key));const S=e.current.getState();return $h(e.current,y,ef().early&&(x=S.nextTree)!==null&&x!==void 0?x:S.currentTree)}function h(y){const x=d(y);return fM(x,y,e)}function p(y){return[h(y),l(y)]}function m(y){return[d(y),l(y)]}return{getRecoilValue:h,getRecoilValueLoadable:d,getRecoilState:p,getRecoilStateLoadable:m,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const Qne={current:0};function Kne(t){const e=Wo(),n=Vh(),r=Qr(()=>{var a;const l=e.current,u=l.getState(),d=ef().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:$h(l,t,d),key:t.key}},[e,t]),i=Qr(a=>{let l;return()=>{var u,d;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((d=l)===null||d===void 0?void 0:d.key)===h.key?l:(l=h,h)}},[]),o=oF(()=>i(r),[r,i]),s=Qr(a=>{const l=e.current;return ku(l,t,a,n).release},[e,t,n]);return Gne(s,o,o).loadable}function Jne(t){const e=Wo(),n=Qr(()=>{var u;const d=e.current,h=d.getState(),p=ef().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return $h(d,t,p)},[e,t]),r=Qr(()=>n(),[n]),i=Vh(),o=Qr((u,d)=>{const h=e.current;return ku(h,t,()=>{if(!rn("recoil_suppress_rerender_in_callback"))return d();const m=n();l.current.is(m)||d(),l.current=m},i).release},[e,t,i,n]),s=jne();if(s==null)throw Ct("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Wne(s,r,o),l=Rd(a);return Uu(()=>{l.current=a}),a}function Dw(t){const e=Wo(),n=Vh(),r=Qr(()=>{var l;const u=e.current,d=u.getState(),h=ef().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return $h(u,t,h)},[e,t]),i=Qr(()=>({loadable:r(),key:t.key}),[r,t.key]),o=Qr(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Uu(()=>{const l=ku(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=uM(i);return s.key!==t.key?i().loadable:s.loadable}function ere(t){const e=Wo(),[,n]=uM([]),r=Vh(),i=Qr(()=>{var a;const l=e.current,u=l.getState(),d=ef().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return $h(l,t,d)},[e,t]),o=i(),s=Rd(o);return Uu(()=>{s.current=o}),Uu(()=>{const a=e.current,l=a.getState(),u=ku(a,t,h=>{var p;if(!rn("recoil_suppress_rerender_in_callback"))return n([]);const m=i();(p=s.current)!==null&&p!==void 0&&p.is(m)||n(m),s.current=m},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var d;if(!rn("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(d=s.current)!==null&&d!==void 0&&d.is(h)||n(h),s.current=h}return u.release},[r,i,t,e]),o}function dM(t){return rn("recoil_memory_managament_2020")&&cM(t),{TRANSITION_SUPPORT:Dw,SYNC_EXTERNAL_STORE:Hne()?Kne:Dw,MUTABLE_SOURCE:Jne,LEGACY:ere}[ef().mode](t)}function sF(t){const e=Wo(),n=dM(t);return fM(n,t,e)}function By(t){const e=Wo();return Qr(n=>{A0(e.current,t,n)},[e,t])}function tre(t){const e=Wo();return Qr(()=>{A0(e.current,t,iF)},[e,t])}function nre(t){return[sF(t),By(t)]}function rre(t){return[dM(t),By(t)]}function ire(){const t=Wo();return(e,n={})=>{$ne(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>Xne(t.current,new Nw(i),r))})}}function aF(t){return rn("recoil_memory_managament_2020")&&cM(t),Dw(t)}function lF(t){const e=Wo(),n=aF(t);return fM(n,t,e)}function ore(t){return[lF(t),By(t)]}var sre={recoilComponentGetRecoilValueCount_FOR_TESTING:Qne,useRecoilInterface:Zne,useRecoilState:nre,useRecoilStateLoadable:rre,useRecoilValue:sF,useRecoilValueLoadable:dM,useResetRecoilState:tre,useSetRecoilState:By,useSetUnvalidatedAtomValues:ire,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:aF,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:lF,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:ore};function are(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var lre=are;function cre(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var ure=cre;function fre(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var dre=fre;const{batchUpdates:hre}=Ny,{DEFAULT_VALUE:pre,getNode:cF,nodes:mre}=Jr,{useStoreRef:hM}=Cs,{AbstractRecoilValue:gre,setRecoilValueLoadable:vre}=Ho,{SUSPENSE_TIMEOUT_MS:yre}=Yl,{cloneSnapshot:R0}=zy,{useCallback:Vy,useEffect:uF,useRef:aL,useState:_re}=jt,{isSSR:lL}=Dy;function $y(t){const e=hM();uF(()=>e.current.subscribeToTransactions(t).release,[t,e])}function cL(t){const e=t.atomValues.toMap(),n=P0(lre(e,(r,i)=>{const s=cF(i).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return dre(t.nonvalidatedAtoms.toMap(),n)}function xre(t){$y(Vy(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=cL(r),o=cL(n),s=P0(mre,l=>{var u,d,h,p;return{persistence_UNSTABLE:{type:(u=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.type)!==null&&u!==void 0?u:"none",backButton:(h=(p=l.persistence_UNSTABLE)===null||p===void 0?void 0:p.backButton)!==null&&h!==void 0?h:!1}}}),a=ure(r.dirtyAtoms,l=>i.has(l)||o.has(l));t({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function Sre(t){$y(Vy(e=>{const n=R0(e,"latest"),r=R0(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function wre(){const t=hM(),[e,n]=_re(()=>R0(t.current)),r=rF(e),i=aL(),o=aL();if($y(Vy(a=>n(R0(a)),[])),uF(()=>{const a=e.retain();if(i.current&&!lL){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!lL){if(i.current){var s;window.clearTimeout(i.current),i.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},yre)}return e}function fF(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;hre(()=>{const s=new Set;for(const u of[i.atomValues.keys(),o.atomValues.keys()])for(const d of u){var a,l;((a=i.atomValues.get(d))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(d))===null||l===void 0?void 0:l.contents)&&cF(d).shouldRestoreFromSnapshots&&s.add(d)}s.forEach(u=>{vre(t,new gre(u),o.atomValues.has(u)?vn(o.atomValues.get(u)):pre)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function bre(){const t=hM();return Vy(e=>fF(t.current,e),[t])}var dF={useRecoilSnapshot:wre,gotoSnapshot:fF,useGotoRecoilSnapshot:bre,useRecoilTransactionObserver:Sre,useTransactionObservation_DEPRECATED:xre,useTransactionSubscription_DEPRECATED:$y};const{peekNodeInfo:Ere}=Ia,{useStoreRef:Mre}=Cs;function Tre(){const t=Mre();return({key:e})=>Ere(t.current,t.current.getState().currentTree,e)}var Pre=Tre;const{reactMode:Are}=zh,{RecoilRoot:Rre,useStoreRef:Cre}=Cs,{useMemo:Lre}=jt;function Ore(){Are().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Cre().current;return Lre(()=>{function e({children:n}){return Z(Rre,{store_INTERNAL:t,children:n})}return e},[t])}var Ire=Ore;const{loadableWithValue:Nre}=Uh,{initializeNode:Dre}=Ia,{DEFAULT_VALUE:kre,getNode:Ure}=Jr,{copyTreeState:zre,getRecoilValueAsLoadable:Fre,invalidateDownstreams:Bre,writeLoadableToTreeState:Vre}=Ho;function uL(t){return Ure(t.key).nodeType==="atom"}class $re{constructor(e,n){Et(this,"_store",void 0),Et(this,"_treeState",void 0),Et(this,"_changes",void 0),Et(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!uL(r))throw Ct("Reading selectors within atomicUpdate is not supported");const i=Fre(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Ct(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Et(this,"set",(r,i)=>{if(!uL(r))throw Ct("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else Dre(this._store,r.key,"set"),this._changes.set(r.key,i)}),Et(this,"reset",r=>{this.set(r,kre)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=zre(this._treeState);for(const[n,r]of this._changes)Vre(e,n,Nre(r));return Bre(this._store,e),e}}function Hre(t){return e=>{t.replaceState(n=>{const r=new $re(t,n);return e(r),r.newTreeState_INTERNAL()})}}var Wre={atomicUpdater:Hre},Gre=Wre.atomicUpdater,hF=Object.freeze({__proto__:null,atomicUpdater:Gre});function jre(t,e){if(!t)throw new Error(e)}var Xre=jre,pd=Xre;const{atomicUpdater:Yre}=hF,{batchUpdates:qre}=Ny,{DEFAULT_VALUE:Zre}=Jr,{useStoreRef:Qre}=Cs,{refreshRecoilValue:Kre,setRecoilValue:fL}=Ho,{cloneSnapshot:Jre}=zy,{gotoSnapshot:eie}=dF,{useCallback:tie}=jt;class pF{}const nie=new pF;function mF(t,e,n,r){let i=nie,o;if(qre(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ct(a);const l=Pz({...r!=null?r:{},set:(d,h)=>fL(t,d,h),reset:d=>fL(t,d,Zre),refresh:d=>Kre(t,d),gotoSnapshot:d=>eie(t,d),transact_UNSTABLE:d=>Yre(t)(d)},{snapshot:()=>{const d=Jre(t);return o=d.retain(),d}}),u=e(l);if(typeof u!="function")throw Ct(a);i=u(...n)}),i instanceof pF&&pd(!1),fn(i))i=i.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return i}function rie(t,e){const n=Qre();return tie((...r)=>mF(n.current,t,r),e!=null?[...e,n]:void 0)}var gF={recoilCallback:mF,useRecoilCallback:rie};const{useStoreRef:iie}=Cs,{refreshRecoilValue:oie}=Ho,{useCallback:sie}=jt;function aie(t){const e=iie();return sie(()=>{const n=e.current;oie(n,t)},[t,e])}var lie=aie;const{atomicUpdater:cie}=hF,{useStoreRef:uie}=Cs,{useMemo:fie}=jt;function die(t,e){const n=uie();return fie(()=>(...r)=>{cie(n.current)(o=>{t(o)(...r)})},e!=null?[...e,n]:void 0)}var hie=die;class pie{constructor(e){Et(this,"value",void 0),this.value=e}}var mie={WrappedValue:pie},gie=mie.WrappedValue,vF=Object.freeze({__proto__:null,WrappedValue:gie});const{isFastRefreshEnabled:vie}=zh;class dL extends Error{}class yie{constructor(e){var n,r,i;Et(this,"_name",void 0),Et(this,"_numLeafs",void 0),Et(this,"_root",void 0),Et(this,"_onHit",void 0),Et(this,"_onSet",void 0),Et(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var o,s,a,l;let u,d;for(const[S,g]of e){var h,p,m;const _=this._root;if((_==null?void 0:_.type)==="leaf")throw this.invalidCacheError();const w=u;if(u=w?w.branches.get(d):_,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:S,parent:w,branches:new Map,branchKey:d},u.type!=="branch"||u.nodeKey!==S)throw this.invalidCacheError();w==null||w.branches.set(d,u),r==null||(p=r.onNodeVisit)===null||p===void 0||p.call(r,u),d=this._mapNodeValue(g),this._root=(m=this._root)!==null&&m!==void 0?m:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(d):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==d))throw this.invalidCacheError();const x={type:"leaf",value:n,parent:u,branchKey:d};(s=u)===null||s===void 0||s.branches.set(d,x),this._root=(a=this._root)!==null&&a!==void 0?a:x,this._numLeafs++,this._onSet(x),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,x)};try{i()}catch(o){if(o instanceof dL)this.clear(),i();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=vie()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw JE(e+(this._name!=null?` - ${this._name}`:"")),new dL}}var _ie={TreeCache:yie},xie=_ie.TreeCache,yF=Object.freeze({__proto__:null,TreeCache:xie});class Sie{constructor(e){var n;Et(this,"_maxSize",void 0),Et(this,"_size",void 0),Et(this,"_head",void 0),Et(this,"_tail",void 0),Et(this,"_map",void 0),Et(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(!!r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(r,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=vn(this._map.get(n)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var wie={LRUCache:Sie},bie=wie.LRUCache,_F=Object.freeze({__proto__:null,LRUCache:bie});const{LRUCache:Eie}=_F,{TreeCache:Mie}=yF;function Tie({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new Eie({maxSize:e}),i=new Mie({name:t,mapNodeValue:n,onHit:o=>{r.set(o,!0)},onSet:o=>{const s=r.tail();r.set(o,!0),s&&i.size()>e&&i.delete(s.key)}});return i}var hL=Tie;function Ki(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ct("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(fn(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,o)=>Ki(i,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Ki(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[o,s]of t)i[typeof o=="string"?o:Ki(o,e)]=s;return Ki(i,e,n)}return t instanceof Set?Ki(Array.from(t).sort((i,o)=>Ki(i,e).localeCompare(Ki(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Ki(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${Ki(i,e)}:${Ki(t[i],e,i)}`).join(",")}}`}function Pie(t,e={allowFunctions:!1}){return Ki(t,e)}var Hy=Pie;const{TreeCache:Aie}=yF,Mm={equality:"reference",eviction:"keep-all",maxSize:1/0};function Rie({equality:t=Mm.equality,eviction:e=Mm.eviction,maxSize:n=Mm.maxSize}=Mm,r){const i=Cie(t);return Lie(e,n,i,r)}function Cie(t){switch(t){case"reference":return e=>e;case"value":return e=>Hy(e)}throw Ct(`Unrecognized equality policy ${t}`)}function Lie(t,e,n,r){switch(t){case"keep-all":return new Aie({name:r,mapNodeValue:n});case"lru":return hL({name:r,maxSize:vn(e),mapNodeValue:n});case"most-recent":return hL({name:r,maxSize:1,mapNodeValue:n})}throw Ct(`Unrecognized eviction policy ${t}`)}var Oie=Rie;function Iie(t){return()=>null}var Nie={startPerfBlock:Iie};const{isLoadable:Die,loadableWithError:Tm,loadableWithPromise:kie,loadableWithValue:bS}=Uh,{WrappedValue:xF}=vF,{getNodeLoadable:Pm,peekNodeLoadable:Uie,setNodeValue:zie}=Ia,{saveDepsToStore:Fie}=Fh,{DEFAULT_VALUE:Bie,getConfigDeletionHandler:Vie,getNode:$ie,registerNode:pL}=Jr,{isRecoilValue:Hie}=Du,{markRecoilValueModified:mL}=Ho,{retainedByOptionWithDefault:Wie}=Yl,{recoilCallback:Gie}=gF,{startPerfBlock:jie}=Nie;class SF{}const qf=new SF,Zf=[],Am=new Map,Xie=(()=>{let t=0;return()=>t++})();function wF(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,o=t.set!=null?t.set:void 0,s=new Set,a=Oie(i!=null?i:{equality:"reference",eviction:"keep-all"},n),l=Wie(t.retainedBy_UNSTABLE),u=new Map;let d=0;function h(){return!rn("recoil_memory_managament_2020")||d>0}function p(N){return N.getState().knownSelectors.add(n),d++,()=>{d--}}function m(){return Vie(n)!==void 0&&!h()}function y(N,te,D,ue,ce){re(te,ue,ce),x(N,D)}function x(N,te){F(N,te)&&V(N),g(te,!0)}function S(N,te){F(N,te)&&(vn(O(N)).stateVersions.clear(),g(te,!1))}function g(N,te){const D=Am.get(N);if(D!=null){for(const ue of D)mL(ue,vn(e));te&&Am.delete(N)}}function _(N,te){let D=Am.get(te);D==null&&Am.set(te,D=new Set),D.add(N)}function w(N,te,D,ue,ce,Pe){return te.then(Ae=>{if(!h())throw V(N),qf;const Re=bS(Ae);return y(N,D,ce,Re,ue),Ae}).catch(Ae=>{if(!h())throw V(N),qf;if(fn(Ae))return E(N,Ae,D,ue,ce,Pe);const Re=Tm(Ae);throw y(N,D,ce,Re,ue),Ae})}function E(N,te,D,ue,ce,Pe){return te.then(Ae=>{if(!h())throw V(N),qf;Pe.loadingDepKey!=null&&Pe.loadingDepPromise===te?D.atomValues.set(Pe.loadingDepKey,bS(Ae)):N.getState().knownSelectors.forEach($=>{D.atomValues.delete($)});const Re=A(N,D);if(Re&&Re.state!=="loading"){if((F(N,ce)||O(N)==null)&&x(N,ce),Re.state==="hasValue")return Re.contents;throw Re.contents}if(!F(N,ce)){const $=C(N,D);if($!=null)return $.loadingLoadable.contents}const[ze,Ue]=P(N,D,ce);if(ze.state!=="loading"&&y(N,D,ce,ze,Ue),ze.state==="hasError")throw ze.contents;return ze.contents}).catch(Ae=>{if(Ae instanceof SF)throw qf;if(!h())throw V(N),qf;const Re=Tm(Ae);throw y(N,D,ce,Re,ue),Ae})}function T(N,te,D,ue){var ce,Pe,Ae,Re;if(F(N,ue)||te.version===((ce=N.getState())===null||ce===void 0||(Pe=ce.currentTree)===null||Pe===void 0?void 0:Pe.version)||te.version===((Ae=N.getState())===null||Ae===void 0||(Re=Ae.nextTree)===null||Re===void 0?void 0:Re.version)){var ze,Ue,$;Fie(n,D,N,(ze=(Ue=N.getState())===null||Ue===void 0||($=Ue.nextTree)===null||$===void 0?void 0:$.version)!==null&&ze!==void 0?ze:N.getState().currentTree.version)}for(const he of D)s.add(he)}function P(N,te,D){const ue=jie(n);let ce=!0,Pe=!0;const Ae=()=>{ue(),Pe=!1};let Re,ze=!1,Ue;const $={loadingDepKey:null,loadingDepPromise:null},he=new Map;function _e({key:we}){const He=Pm(N,te,we);switch(he.set(we,He),ce||(T(N,te,new Set(he.keys()),D),S(N,D)),He.state){case"hasValue":return He.contents;case"hasError":throw He.contents;case"loading":throw $.loadingDepKey=we,$.loadingDepPromise=He.contents,He.contents}throw Ct("Invalid Loadable state")}const Ie=we=>(...He)=>{if(Pe)throw Ct("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&pd(!1),Gie(N,we,He,{node:e})};try{Re=r({get:_e,getCallback:Ie}),Re=Hie(Re)?_e(Re):Re,Die(Re)&&(Re.state==="hasError"&&(ze=!0),Re=Re.contents),fn(Re)?Re=w(N,Re,te,he,D,$).finally(Ae):Ae(),Re=Re instanceof xF?Re.value:Re}catch(we){Re=we,fn(Re)?Re=E(N,Re,te,he,D,$).finally(Ae):(ze=!0,Ae())}return ze?Ue=Tm(Re):fn(Re)?Ue=kie(Re):Ue=bS(Re),ce=!1,ee(N,D,he),T(N,te,new Set(he.keys()),D),[Ue,he]}function A(N,te){let D=te.atomValues.get(n);if(D!=null)return D;const ue=new Set;try{D=a.get(Pe=>(typeof Pe!="string"&&pd(!1),Pm(N,te,Pe).contents),{onNodeVisit:Pe=>{Pe.type==="branch"&&Pe.nodeKey!==n&&ue.add(Pe.nodeKey)}})}catch(Pe){throw Ct(`Problem with cache lookup for selector "${n}": ${Pe.message}`)}if(D){var ce;te.atomValues.set(n,D),T(N,te,ue,(ce=O(N))===null||ce===void 0?void 0:ce.executionID)}return D}function I(N,te){const D=A(N,te);if(D!=null)return V(N),D;const ue=C(N,te);if(ue!=null){var ce;return((ce=ue.loadingLoadable)===null||ce===void 0?void 0:ce.state)==="loading"&&_(N,ue.executionID),ue.loadingLoadable}const Pe=Xie(),[Ae,Re]=P(N,te,Pe);return Ae.state==="loading"?(B(N,Pe,Ae,Re,te),_(N,Pe)):(V(N),re(te,Ae,Re)),Ae}function C(N,te){const D=Wz([u.has(N)?[vn(u.get(N))]:[],Cy(iM(u,([ce])=>ce!==N),([,ce])=>ce)]);function ue(ce){for(const[Pe,Ae]of ce)if(!Pm(N,te,Pe).is(Ae))return!0;return!1}for(const ce of D){if(ce.stateVersions.get(te.version)||!ue(ce.depValuesDiscoveredSoFarDuringAsyncWork))return ce.stateVersions.set(te.version,!0),ce;ce.stateVersions.set(te.version,!1)}}function O(N){return u.get(N)}function B(N,te,D,ue,ce){u.set(N,{depValuesDiscoveredSoFarDuringAsyncWork:ue,executionID:te,loadingLoadable:D,stateVersions:new Map([[ce.version,!0]])})}function ee(N,te,D){if(F(N,te)){const ue=O(N);ue!=null&&(ue.depValuesDiscoveredSoFarDuringAsyncWork=D)}}function V(N){u.delete(N)}function F(N,te){var D;return te===((D=O(N))===null||D===void 0?void 0:D.executionID)}function J(N){return Array.from(N.entries()).map(([te,D])=>[te,D.contents])}function re(N,te,D){N.atomValues.set(n,te);try{a.set(J(D),te)}catch(ue){throw Ct(`Problem with setting cache for selector "${n}": ${ue.message}`)}}function ne(N){if(Zf.includes(n)){const te=`Recoil selector has circular dependencies: ${Zf.slice(Zf.indexOf(n)).join(" \u2192 ")}`;return Tm(Ct(te))}Zf.push(n);try{return N()}finally{Zf.pop()}}function U(N,te){const D=te.atomValues.get(n);return D!=null?D:a.get(ue=>{var ce;return typeof ue!="string"&&pd(!1),(ce=Uie(N,te,ue))===null||ce===void 0?void 0:ce.contents})}function K(N,te){return ne(()=>I(N,te))}function W(N){N.atomValues.delete(n)}function G(N,te){e==null&&pd(!1);for(const ue of s){var D;const ce=$ie(ue);(D=ce.clearCache)===null||D===void 0||D.call(ce,N,te)}s.clear(),W(te),a.clear(),mL(N,e)}return o!=null?e=pL({key:n,nodeType:"selector",peek:U,get:K,set:(te,D,ue)=>{let ce=!1;const Pe=new Map;function Ae({key:$}){if(ce)throw Ct("Recoil: Async selector sets are not currently supported.");const he=Pm(te,D,$);if(he.state==="hasValue")return he.contents;if(he.state==="loading"){const _e=`Getting value of asynchronous atom or selector "${$}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ct(_e)}else throw he.contents}function Re($,he){if(ce)throw Ct("Recoil: Async selector sets are not currently supported.");const _e=typeof he=="function"?he(Ae($)):he;zie(te,D,$.key,_e).forEach((we,He)=>Pe.set(He,we))}function ze($){Re($,Bie)}const Ue=o({set:Re,get:Ae,reset:ze},ue);if(Ue!==void 0)throw fn(Ue)?Ct("Recoil: Async selector sets are not currently supported."):Ct("Recoil: selector set should be a void function.");return ce=!0,Pe},init:p,invalidate:W,clearCache:G,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=pL({key:n,nodeType:"selector",peek:U,get:K,init:p,invalidate:W,clearCache:G,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}wF.value=t=>new xF(t);var zu=wF;const{isLoadable:Yie,loadableWithError:ES,loadableWithPromise:MS,loadableWithValue:gc}=Uh,{WrappedValue:bF}=vF,{peekNodeInfo:qie}=Ia,{DEFAULT_VALUE:cl,DefaultValue:Js,getConfigDeletionHandler:EF,registerNode:Zie,setConfigDeletionHandler:Qie}=Jr,{isRecoilValue:Kie}=Du,{getRecoilValueAsLoadable:Jie,markRecoilValueModified:eoe,setRecoilValue:gL,setRecoilValueLoadable:toe}=Ho,{retainedByOptionWithDefault:noe}=Yl,Qf=t=>t instanceof bF?t.value:t;function roe(t){const{key:e,persistence_UNSTABLE:n}=t,r=noe(t.retainedBy_UNSTABLE);let i=0;function o(_){return MS(_.then(w=>(s=gc(w),w)).catch(w=>{throw s=ES(w),w}))}let s=fn(t.default)?o(t.default):Yie(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:gc(Qf(t.default));s.contents;let a;const l=new Map;function u(_){return _}function d(_,w){const E=w.then(T=>{var P,A;return((A=((P=_.getState().nextTree)!==null&&P!==void 0?P:_.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===E&&gL(_,g,T),T}).catch(T=>{var P,A;throw((A=((P=_.getState().nextTree)!==null&&P!==void 0?P:_.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===E&&toe(_,g,ES(T)),T});return E}function h(_,w,E){var T;i++;const P=()=>{var V;i--,(V=l.get(_))===null||V===void 0||V.forEach(F=>F()),l.delete(_)};if(_.getState().knownAtoms.add(e),s.state==="loading"){const V=()=>{var F;((F=_.getState().nextTree)!==null&&F!==void 0?F:_.getState().currentTree).atomValues.has(e)||eoe(_,g)};s.contents.finally(V)}const A=(T=t.effects)!==null&&T!==void 0?T:t.effects_UNSTABLE;if(A!=null){let ne=function(te){if(F&&te.key===e){const D=V;return D instanceof Js?p(_,w):fn(D)?MS(D.then(ue=>ue instanceof Js?s.toPromise():ue)):gc(D)}return Jie(_,te)},U=function(te){return ne(te).toPromise()},K=function(te){var D;const ue=qie(_,(D=_.getState().nextTree)!==null&&D!==void 0?D:_.getState().currentTree,te.key);return F&&te.key===e&&!(V instanceof Js)?{...ue,isSet:!0,loadable:ne(te)}:ue};var O=ne,B=U,ee=K;let V=cl,F=!0,J=!1,re=null;const W=te=>D=>{if(F){const ue=ne(g),ce=ue.state==="hasValue"?ue.contents:cl;V=typeof D=="function"?D(ce):D,fn(V)&&(V=V.then(Pe=>(re={effect:te,value:Pe},Pe)))}else{if(fn(D))throw Ct("Setting atoms to async values is not implemented.");typeof D!="function"&&(re={effect:te,value:Qf(D)}),gL(_,g,typeof D=="function"?ue=>{const ce=Qf(D(ue));return re={effect:te,value:ce},ce}:Qf(D))}},G=te=>()=>W(te)(cl),N=te=>D=>{var ue;const{release:ce}=_.subscribeToTransactions(Pe=>{var Ae;let{currentTree:Re,previousTree:ze}=Pe.getState();ze||(ze=Re);const Ue=(Ae=Re.atomValues.get(e))!==null&&Ae!==void 0?Ae:s;if(Ue.state==="hasValue"){var $,he,_e,Ie;const we=Ue.contents,He=($=ze.atomValues.get(e))!==null&&$!==void 0?$:s,We=He.state==="hasValue"?He.contents:cl;((he=re)===null||he===void 0?void 0:he.effect)!==te||((_e=re)===null||_e===void 0?void 0:_e.value)!==we?D(we,We,!Re.atomValues.has(e)):((Ie=re)===null||Ie===void 0?void 0:Ie.effect)===te&&(re=null)}},e);l.set(_,[...(ue=l.get(_))!==null&&ue!==void 0?ue:[],ce])};for(const te of A)try{const D=te({node:g,storeID:_.storeID,parentStoreID_UNSTABLE:_.parentStoreID,trigger:E,setSelf:W(te),resetSelf:G(te),onSet:N(te),getPromise:U,getLoadable:ne,getInfo_UNSTABLE:K});if(D!=null){var I;l.set(_,[...(I=l.get(_))!==null&&I!==void 0?I:[],D])}}catch(D){V=D,J=!0}if(F=!1,!(V instanceof Js)){var C;const te=J?ES(V):fn(V)?MS(d(_,V)):gc(Qf(V));te.contents,w.atomValues.set(e,te),(C=_.getState().nextTree)===null||C===void 0||C.atomValues.set(e,te)}}return P}function p(_,w){var E,T;return(E=(T=w.atomValues.get(e))!==null&&T!==void 0?T:a)!==null&&E!==void 0?E:s}function m(_,w){if(w.atomValues.has(e))return vn(w.atomValues.get(e));if(w.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const E=w.nonvalidatedAtoms.get(e),T=n.validator(E,cl);return a=T instanceof Js?s:gc(T),a}else return s}function y(){a=void 0}function x(_,w,E){if(w.atomValues.has(e)){const T=vn(w.atomValues.get(e));if(T.state==="hasValue"&&E===T.contents)return new Map}else if(!w.nonvalidatedAtoms.has(e)&&E instanceof Js)return new Map;return a=void 0,new Map().set(e,gc(E))}function S(){return EF(e)!==void 0&&i<=0}const g=Zie({key:e,nodeType:"atom",peek:p,get:m,set:x,init:h,invalidate:y,shouldDeleteConfigOnRelease:S,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return g}function pM(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return Kie(n)?ioe({...e,default:n}):roe({...e,default:n})}function ioe(t){const e=pM({...t,default:cl,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Js?r:vn(t.persistence_UNSTABLE).validator(r,cl)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=zu({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Js?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Qie(n.key,EF(t.key)),n}pM.value=t=>new bF(t);var MF=pM;class ooe{constructor(e){var n;Et(this,"_map",void 0),Et(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var soe={MapCache:ooe},aoe=soe.MapCache,loe=Object.freeze({__proto__:null,MapCache:aoe});const{LRUCache:vL}=_F,{MapCache:coe}=loe,Rm={equality:"reference",eviction:"none",maxSize:1/0};function uoe({equality:t=Rm.equality,eviction:e=Rm.eviction,maxSize:n=Rm.maxSize}=Rm){const r=foe(t);return doe(e,n,r)}function foe(t){switch(t){case"reference":return e=>e;case"value":return e=>Hy(e)}throw Ct(`Unrecognized equality policy ${t}`)}function doe(t,e,n){switch(t){case"keep-all":return new coe({mapKey:n});case"lru":return new vL({mapKey:n,maxSize:vn(e)});case"most-recent":return new vL({mapKey:n,maxSize:1})}throw Ct(`Unrecognized eviction policy ${t}`)}var TF=uoe;const{setConfigDeletionHandler:hoe}=Jr;function poe(t){var e,n;const r=TF({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,s;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,d="default"in t?t.default:new Promise(()=>{}),h=MF({...u,key:`${t.key}__${(o=Hy(i))!==null&&o!==void 0?o:"void"}`,default:typeof d=="function"?d(i):d,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return r.set(i,h),hoe(h.key,()=>{r.delete(i)}),h}}var moe=poe;const{setConfigDeletionHandler:goe}=Jr;let voe=0;function yoe(t){var e,n;const r=TF({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let s;try{s=r.get(i)}catch(p){throw Ct(`Problem with cache lookup for selector ${t.key}: ${p.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=Hy(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${voe++}`,l=p=>t.get(i)(p),u=t.cachePolicy_UNSTABLE,d=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const p=t.set;h=zu({key:a,get:l,set:(y,x)=>p(i)(y,x),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d})}else h=zu({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d});return r.set(i,h),goe(h.key,()=>{r.delete(i)}),h}}var Na=yoe;const _oe=Na({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function xoe(t){return _oe(t)}var Soe=xoe;const woe=Na({key:"__error",get:t=>()=>{throw Ct(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function boe(t){return woe(t)}var Eoe=boe;function Moe(t){return t}var Toe=Moe;const{loadableWithError:PF,loadableWithPromise:AF,loadableWithValue:RF}=Uh;function Wy(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{n[i]=t(o)}catch(s){r[i]=s}return[n,r]}function Poe(t){return t!=null&&!fn(t)}function Gy(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function kw(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function gu(t,e,n){const r=n.map((i,o)=>i==null?RF(e[o]):fn(i)?AF(i):PF(i));return kw(t,r)}function Aoe(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const Roe=Na({key:"__waitForNone",get:t=>({get:e})=>{const n=Gy(t),[r,i]=Wy(e,n);return gu(t,r,i)},dangerouslyAllowMutability:!0}),Coe=Na({key:"__waitForAny",get:t=>({get:e})=>{const n=Gy(t),[r,i]=Wy(e,n);return i.some(o=>!fn(o))?gu(t,r,i):new Promise(o=>{for(const[s,a]of i.entries())fn(a)&&a.then(l=>{r[s]=l,i[s]=void 0,o(gu(t,r,i))}).catch(l=>{i[s]=l,o(gu(t,r,i))})})},dangerouslyAllowMutability:!0}),Loe=Na({key:"__waitForAll",get:t=>({get:e})=>{const n=Gy(t),[r,i]=Wy(e,n);if(i.every(s=>s==null))return kw(t,r);const o=i.find(Poe);if(o!=null)throw o;return Promise.all(i).then(s=>kw(t,Aoe(r,s)))},dangerouslyAllowMutability:!0}),Ooe=Na({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Gy(t),[r,i]=Wy(e,n);return i.every(o=>!fn(o))?gu(t,r,i):Promise.all(i.map((o,s)=>fn(o)?o.then(a=>{r[s]=a,i[s]=void 0}).catch(a=>{r[s]=void 0,i[s]=a}):null)).then(()=>gu(t,r,i))},dangerouslyAllowMutability:!0}),Ioe=Na({key:"__noWait",get:t=>({get:e})=>{try{return zu.value(RF(e(t)))}catch(n){return zu.value(fn(n)?AF(n):PF(n))}},dangerouslyAllowMutability:!0});var Noe={waitForNone:Roe,waitForAny:Coe,waitForAll:Loe,waitForAllSettled:Ooe,noWait:Ioe};const{RecoilLoadable:Doe}=Uh,{DefaultValue:koe}=Jr,{RecoilRoot:Uoe,useRecoilStoreID:zoe}=Cs,{isRecoilValue:Foe}=Du,{retentionZone:Boe}=Oy,{freshSnapshot:Voe}=zy,{useRecoilState:$oe,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Hoe,useRecoilStateLoadable:Woe,useRecoilValue:Goe,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:joe,useRecoilValueLoadable:Xoe,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Yoe,useResetRecoilState:qoe,useSetRecoilState:Zoe}=sre,{useGotoRecoilSnapshot:Qoe,useRecoilSnapshot:Koe,useRecoilTransactionObserver:Joe}=dF,{useRecoilCallback:ese}=gF,{noWait:tse,waitForAll:nse,waitForAllSettled:rse,waitForAny:ise,waitForNone:ose}=Noe;var mM={DefaultValue:koe,isRecoilValue:Foe,RecoilLoadable:Doe,RecoilEnv:Ju,RecoilRoot:Uoe,useRecoilStoreID:zoe,useRecoilBridgeAcrossReactRoots_UNSTABLE:Ire,atom:MF,selector:zu,atomFamily:moe,selectorFamily:Na,constSelector:Soe,errorSelector:Eoe,readOnlySelector:Toe,noWait:tse,waitForNone:ose,waitForAny:ise,waitForAll:nse,waitForAllSettled:rse,useRecoilValue:Goe,useRecoilValueLoadable:Xoe,useRecoilState:$oe,useRecoilStateLoadable:Woe,useSetRecoilState:Zoe,useResetRecoilState:qoe,useGetRecoilValueInfo_UNSTABLE:Pre,useRecoilRefresher_UNSTABLE:lie,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Yoe,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:joe,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Hoe,useRecoilCallback:ese,useRecoilTransaction_UNSTABLE:hie,useGotoRecoilSnapshot:Qoe,useRecoilSnapshot:Koe,useRecoilTransactionObserver_UNSTABLE:Joe,snapshot_UNSTABLE:Voe,useRetain:cM,retentionZone:Boe},sse=mM.RecoilRoot,CF=mM.atom,tf=mM.useRecoilState;const jy=CF({key:"propsState",default:{allProps:[],currentProps:[]}}),ase=Lt(t=>({wrapper:{padding:t.spacing.md},helpWrapper:{position:"absolute",bottom:"1rem",left:"1rem"}}));function lse(t){gs("previewModel",{model:t})}function cse(){const{classes:t}=ase(),[e,{open:n,close:r}]=XW(!1),[i,o]=tf(jy),[s,a]=jt.useState("");return ut(Dt,{className:t.wrapper,children:[ut(Nl,{spacing:"sm",children:[Z(Wr,{size:"md",children:"Object List:"}),Z(Dh,{placeholder:"Search title...",value:s,onChange:l=>a(l.currentTarget.value)}),Z(Jv,{shadow:"xs",p:"md",h:"full",style:{minHeight:"60vh",maxHeight:"60vh"},children:Z(JD,{h:"55vh",type:"never",children:Z(Nl,{spacing:"sm",children:i.allProps.filter(l=>l.model.toLowerCase().includes(s.toLowerCase())).map((l,u)=>Z(yY,{color:"gray",radius:"xs",compact:!0,fullWidth:!0,leftIcon:Z(aJ,{size:16}),onClick:()=>lse(l.model),styles:()=>({root:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"0.5rem"}}),children:Z(Wr,{children:l.model})},u))})})})]}),Z(Dt,{className:t.helpWrapper,children:Z(va,{onClick:n,variant:"outline",color:"gray",size:"lg",children:Z(fJ,{size:24})})}),Z(Rs,{opened:e,onClose:r,withCloseButton:!1,centered:!0,children:Z(Wr,{children:"Find the object you want to place down, preview it, and click the Plus button to place it and begin editing it."})})]})}const LF=CF({key:"threeState",default:{space:"world",mode:"translate",translateSnap:.01,rotateSnap:.01,model:0,entityX:0,entityY:0,entityZ:0,entityPitch:0,entityRoll:0,entityYaw:0}}),use=Lt(t=>({wrapper:{padding:t.spacing.md}}));function fse(){const{classes:t}=use(),[e,n]=tf(LF);return Z(Dt,{className:t.wrapper,children:ut(Nl,{spacing:"xl",children:[Z(Wr,{size:"lg",children:"Space:"}),Z(Mw,{size:"sm",onChange:r=>{n({...e,space:r})},data:[{label:"World",value:"world"},{label:"Local",value:"local"}]}),Z(Wr,{size:"lg",children:"Mode:"}),Z(Mw,{size:"sm",onChange:r=>{n({...e,mode:r})},data:[{label:"Translate",value:"translate"},{label:"Rotate",value:"rotate"}]}),Z(mw,{my:"sm"}),Z(Wr,{size:"lg",children:"Model Movement Settings:"}),Z(Wr,{size:"md",children:"Translate Snap:"}),Z(Tw,{labelTransition:"skew-down",min:.01,max:.1,precision:2,step:.01,onChangeEnd:r=>{n({...e,translateSnap:r})},labelTransitionDuration:150,labelTransitionTimingFunction:"ease"}),Z(Wr,{size:"md",children:"Rotate Snap:"}),Z(Tw,{labelTransition:"skew-down",min:.01,max:.1,precision:2,step:.01,onChangeEnd:r=>{n({...e,rotateSnap:r})},labelTransitionDuration:150,labelTransitionTimingFunction:"ease"}),Z(mw,{my:"sm"}),Z(Wr,{size:"lg",children:"Entity:"}),Z(Dh,{label:"Model",value:e.model,disabled:!0}),ut(Iu,{spacing:"sm",grow:!0,children:[Z(ol,{label:"X",value:e.entityX,precision:2}),Z(ol,{label:"Y",value:e.entityY,precision:2}),Z(ol,{label:"Z",value:e.entityZ,precision:2})]}),ut(Iu,{spacing:"sm",grow:!0,children:[Z(ol,{label:"Pitch",value:e.entityPitch,precision:2}),Z(ol,{label:"Roll",value:e.entityRoll,precision:2}),Z(ol,{label:"Yaw",value:e.entityYaw,precision:2})]})]})})}const dse=Lt(t=>({wrapper:{padding:t.spacing.md}}));function hse(){const{classes:t}=dse(),[e,n]=tf(jy),[r,i]=jt.useState("");return Z(Dt,{className:t.wrapper,children:ut(Nl,{spacing:"sm",children:[Z(Wr,{size:"md",children:"Object List:"}),Z(Dh,{placeholder:"Search title...",value:r,onChange:o=>i(o.currentTarget.value)}),Z(Jv,{shadow:"xs",p:"md",h:"full",style:{minHeight:"60vh",maxHeight:"60vh"},children:Z(JD,{h:"55vh",type:"never",children:Z(Nl,{spacing:"sm",children:e.currentProps.filter(o=>o.model.toLowerCase().includes(r.toLowerCase())).map((o,s)=>Z(Jv,{children:ut(Iu,{position:"apart",children:[Z(Wr,{children:o.model}),ut(Iu,{spacing:"sm",children:[Z(va,{onClick:()=>{gs("editExisting",{handle:o.handle,id:o.id})},children:Z(uJ,{size:"1.125rem"})}),Z(va,{color:"red",onClick:()=>{gs("removeProp",{id:o.id}),n({...e,currentProps:e.currentProps.filter(a=>a.id!==o.id)})},children:Z(hJ,{size:"1.125rem"})})]})]})}))})})})]})})}const pse=Lt(t=>({wrapper:{width:"15vw",height:"80vh",color:t.colors.dark[0],backgroundColor:"rgba(26, 27, 30, 0.85)"}}));function mse(){const{classes:t}=pse(),[e,n]=tf(jy),[r,i]=jt.useState(!1);return rh("openObjectMenu",o=>{i(o)}),rh("setAllProps",o=>{e.allProps.length==0&&n({...e,allProps:o.allProps})}),Z(Qu,{duration:300,transition:"fade",mounted:r,children:o=>ut(Dr,{children:[ut(Iu,{spacing:"sm",sx:{position:"absolute",top:"50%",left:"2rem",transform:"translate(0, -50%)",zIndex:3},align:"items-start",children:[Z(Dt,{style:o,className:t.wrapper,children:ut(Oo,{defaultValue:"list",children:[ut(Oo.List,{grow:!0,position:"center",children:[Z(Oo.Tab,{value:"list",children:"LIST"}),Z(Oo.Tab,{value:"current",children:"CURRENT"})]}),Z(Oo.Panel,{value:"list",pt:"xs",children:Z(cse,{})}),Z(Oo.Panel,{value:"current",pt:"xs",children:Z(hse,{})})]})}),ut(Nl,{spacing:"sm",children:[Z(NU,{label:"Add Selected",color:"dark",children:Z(va,{size:"lg",radius:"xs",variant:"default",onClick:()=>{gs("editCurrentModel")},style:{backgroundColor:"rgba(26, 27, 30, 0.85)"},children:Z(dJ,{size:24})})}),Z(va,{size:"lg",radius:"xs",variant:"default",style:{backgroundColor:"rgba(26, 27, 30, 0.85)"},children:Z(cJ,{size:24,onClick:()=>{gs("finishEdit")}})}),Z(va,{size:"lg",radius:"xs",variant:"default",style:{backgroundColor:"rgba(26, 27, 30, 0.85)"},children:Z(pJ,{size:24,onClick:()=>{gs("close")}})})]})]}),Z(Dt,{sx:{position:"absolute",top:"50%",right:"2rem",transform:"translate(0, -50%)",zIndex:3},style:o,className:t.wrapper,children:Z(fse,{})})]})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xy="154",gse={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vse={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},OF=0,Uw=1,IF=2,yse=3,NF=0,Yy=1,Cd=2,eo=3,Es=0,Nr=1,ki=2,_se=2,vs=0,bl=1,zw=2,Fw=3,Bw=4,DF=5,ul=100,kF=101,UF=102,Vw=103,$w=104,zF=200,FF=201,BF=202,VF=203,gM=204,vM=205,$F=206,HF=207,WF=208,GF=209,jF=210,XF=0,YF=1,qF=2,C0=3,ZF=4,QF=5,KF=6,JF=7,Hh=0,e4=1,t4=2,ao=0,n4=1,r4=2,i4=3,yM=4,o4=5,qy=300,Ta=301,Pa=302,ih=303,oh=304,nf=306,sh=1e3,Er=1001,ah=1002,Nn=1003,L0=1004,xse=1004,Ld=1005,Sse=1005,Sn=1006,_M=1007,wse=1007,Aa=1008,bse=1008,Bo=1009,s4=1010,a4=1011,Zy=1012,xM=1013,ps=1014,io=1015,Ul=1016,SM=1017,wM=1018,_a=1020,l4=1021,jr=1023,c4=1024,u4=1025,xa=1026,zl=1027,f4=1028,bM=1029,d4=1030,EM=1031,MM=1033,Hg=33776,Wg=33777,Gg=33778,jg=33779,Hw=35840,Ww=35841,Gw=35842,jw=35843,h4=36196,Xw=37492,Yw=37496,qw=37808,Zw=37809,Qw=37810,Kw=37811,Jw=37812,eb=37813,tb=37814,nb=37815,rb=37816,ib=37817,ob=37818,sb=37819,ab=37820,lb=37821,Xg=36492,p4=36283,cb=36284,ub=36285,fb=36286,m4=2200,g4=2201,v4=2202,lh=2300,ch=2301,Yg=2302,ml=2400,gl=2401,uh=2402,Qy=2500,TM=2501,Ese=0,Mse=1,Tse=2,PM=3e3,Sa=3001,y4=3200,_4=3201,Da=0,x4=1,wa="",bt="srgb",fo="srgb-linear",AM="display-p3",Pse=0,qg=7680,Ase=7681,Rse=7682,Cse=7683,Lse=34055,Ose=34056,Ise=5386,Nse=512,Dse=513,kse=514,Use=515,zse=516,Fse=517,Bse=518,S4=519,w4=512,b4=513,E4=514,M4=515,T4=516,P4=517,A4=518,R4=519,fh=35044,Vse=35048,$se=35040,Hse=35045,Wse=35049,Gse=35041,jse=35046,Xse=35050,Yse=35042,qse="100",db="300 es",O0=1035,ko=2e3,dh=2001;class Ls{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const _r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let yL=1234567;const El=Math.PI/180,Fu=180/Math.PI;function gi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(_r[t&255]+_r[t>>8&255]+_r[t>>16&255]+_r[t>>24&255]+"-"+_r[e&255]+_r[e>>8&255]+"-"+_r[e>>16&15|64]+_r[e>>24&255]+"-"+_r[n&63|128]+_r[n>>8&255]+"-"+_r[n>>16&255]+_r[n>>24&255]+_r[r&255]+_r[r>>8&255]+_r[r>>16&255]+_r[r>>24&255]).toLowerCase()}function Cn(t,e,n){return Math.max(e,Math.min(n,t))}function RM(t,e){return(t%e+e)%e}function Zse(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Qse(t,e,n){return t!==e?(n-t)/(e-t):0}function Od(t,e,n){return(1-n)*t+n*e}function Kse(t,e,n,r){return Od(t,e,1-Math.exp(-n*r))}function Jse(t,e=1){return e-Math.abs(RM(t,e*2)-e)}function eae(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function tae(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function nae(t,e){return t+Math.floor(Math.random()*(e-t+1))}function rae(t,e){return t+Math.random()*(e-t)}function iae(t){return t*(.5-Math.random())}function oae(t){t!==void 0&&(yL=t);let e=yL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sae(t){return t*El}function aae(t){return t*Fu}function hb(t){return(t&t-1)===0&&t!==0}function C4(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function I0(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function lae(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),u=o((e+r)/2),d=s((e+r)/2),h=o((e-r)/2),p=s((e-r)/2),m=o((r-e)/2),y=s((r-e)/2);switch(i){case"XYX":t.set(a*d,l*h,l*p,a*u);break;case"YZY":t.set(l*p,a*d,l*h,a*u);break;case"ZXZ":t.set(l*h,l*p,a*d,a*u);break;case"XZX":t.set(a*d,l*y,l*m,a*u);break;case"YXY":t.set(l*m,a*d,l*y,a*u);break;case"ZYZ":t.set(l*y,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function hi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Rt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const ci={DEG2RAD:El,RAD2DEG:Fu,generateUUID:gi,clamp:Cn,euclideanModulo:RM,mapLinear:Zse,inverseLerp:Qse,lerp:Od,damp:Kse,pingpong:Jse,smoothstep:eae,smootherstep:tae,randInt:nae,randFloat:rae,randFloatSpread:iae,seededRandom:oae,degToRad:sae,radToDeg:aae,isPowerOfTwo:hb,ceilPowerOfTwo:C4,floorPowerOfTwo:I0,setQuaternionFromProperEuler:lae,normalize:Rt,denormalize:hi};class Le{constructor(e=0,n=0){Le.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class At{constructor(e,n,r,i,o,s,a,l,u){At.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,u)}set(e,n,r,i,o,s,a,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=n,d[4]=o,d[5]=l,d[6]=r,d[7]=s,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],u=r[1],d=r[4],h=r[7],p=r[2],m=r[5],y=r[8],x=i[0],S=i[3],g=i[6],_=i[1],w=i[4],E=i[7],T=i[2],P=i[5],A=i[8];return o[0]=s*x+a*_+l*T,o[3]=s*S+a*w+l*P,o[6]=s*g+a*E+l*A,o[1]=u*x+d*_+h*T,o[4]=u*S+d*w+h*P,o[7]=u*g+d*E+h*A,o[2]=p*x+m*_+y*T,o[5]=p*S+m*w+y*P,o[8]=p*g+m*E+y*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return n*s*d-n*a*u-r*o*d+r*a*l+i*o*u-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*s-a*u,p=a*l-d*o,m=u*o-s*l,y=n*h+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=h*x,e[1]=(i*u-d*r)*x,e[2]=(a*r-i*s)*x,e[3]=p*x,e[4]=(d*n-i*l)*x,e[5]=(i*o-a*n)*x,e[6]=m*x,e[7]=(r*l-u*n)*x,e[8]=(s*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*s+u*a)+s+e,-i*u,i*l,-i*(-u*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(TS.makeScale(e,n)),this}rotate(e){return this.premultiply(TS.makeRotation(-e)),this}translate(e,n){return this.premultiply(TS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const TS=new At;function L4(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const cae={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ru(t,e){return new cae[t](e)}function hh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const _L={};function Id(t){t in _L||(_L[t]=!0,console.warn(t))}function vu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function PS(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const uae=new At().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),fae=new At().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function dae(t){return t.convertSRGBToLinear().applyMatrix3(fae)}function hae(t){return t.applyMatrix3(uae).convertLinearToSRGB()}const pae={[fo]:t=>t,[bt]:t=>t.convertSRGBToLinear(),[AM]:dae},mae={[fo]:t=>t,[bt]:t=>t.convertLinearToSRGB(),[AM]:hae},Ci={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return fo},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=pae[e],i=mae[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let vc;class CM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{vc===void 0&&(vc=hh("canvas")),vc.width=e.width,vc.height=e.height;const r=vc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=vc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=hh("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=vu(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(vu(n[r]/255)*255):n[r]=vu(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let gae=0;class vl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gae++}),this.uuid=gi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(AS(i[s].image)):o.push(AS(i[s]))}else o=AS(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function AS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?CM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let vae=0;class Ln extends Ls{constructor(e=Ln.DEFAULT_IMAGE,n=Ln.DEFAULT_MAPPING,r=Er,i=Er,o=Sn,s=Aa,a=jr,l=Bo,u=Ln.DEFAULT_ANISOTROPY,d=wa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:vae++}),this.uuid=gi(),this.name="",this.source=new vl(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new At,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(Id("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Sa?bt:wa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==qy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sh:e.x=e.x-Math.floor(e.x);break;case Er:e.x=e.x<0?0:1;break;case ah:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sh:e.y=e.y-Math.floor(e.y);break;case Er:e.y=e.y<0?0:1;break;case ah:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Id("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===bt?Sa:PM}set encoding(e){Id("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Sa?bt:wa}}Ln.DEFAULT_IMAGE=null;Ln.DEFAULT_MAPPING=qy;Ln.DEFAULT_ANISOTROPY=1;class Kt{constructor(e=0,n=0,r=0,i=1){Kt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],x=l[2],S=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-x)<.01&&Math.abs(y-S)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+x)<.1&&Math.abs(y+S)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,E=(m+1)/2,T=(g+1)/2,P=(d+p)/4,A=(h+x)/4,I=(y+S)/4;return w>E&&w>T?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=P/r,o=A/r):E>T?E<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(E),r=P/i,o=I/i):T<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(T),r=A/o,i=I/o),this.set(r,i,o,n),this}let _=Math.sqrt((S-y)*(S-y)+(h-x)*(h-x)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(S-y)/_,this.y=(h-x)/_,this.z=(p-d)/_,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $i extends Ls{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Kt(0,0,e,n),this.scissorTest=!1,this.viewport=new Kt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Id("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Sa?bt:wa),this.texture=new Ln(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Sn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new vl(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ky extends Ln{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Nn,this.minFilter=Nn,this.wrapR=Er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yae extends $i{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ky(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class LM extends Ln{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Nn,this.minFilter=Nn,this.wrapR=Er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _ae extends $i{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new LM(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class xae extends $i{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=o.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Zt{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],u=r[i+1],d=r[i+2],h=r[i+3];const p=o[s+0],m=o[s+1],y=o[s+2],x=o[s+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=d,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=y,e[n+3]=x;return}if(h!==x||l!==p||u!==m||d!==y){let S=1-a;const g=l*p+u*m+d*y+h*x,_=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const T=Math.sqrt(w),P=Math.atan2(T,g*_);S=Math.sin(S*P)/T,a=Math.sin(a*P)/T}const E=a*_;if(l=l*S+p*E,u=u*S+m*E,d=d*S+y*E,h=h*S+x*E,S===1-a){const T=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=T,u*=T,d*=T,h*=T}}e[n]=l,e[n+1]=u,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],u=r[i+2],d=r[i+3],h=o[s],p=o[s+1],m=o[s+2],y=o[s+3];return e[n]=a*y+d*h+l*m-u*p,e[n+1]=l*y+d*p+u*h-a*m,e[n+2]=u*y+d*m+a*p-l*h,e[n+3]=d*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(r/2),d=a(i/2),h=a(o/2),p=l(r/2),m=l(i/2),y=l(o/2);switch(s){case"XYZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"YZX":this._x=p*d*h+u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h-p*m*y;break;case"XZY":this._x=p*d*h-u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],u=n[2],d=n[6],h=n[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(o-u)*m,this._z=(s-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(i+s)/m,this._z=(o+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(o-u)/m,this._x=(i+s)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(s-i)/m,this._x=(o+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,u=n._z,d=n._w;return this._x=r*d+s*a+i*u-o*l,this._y=i*d+s*l+o*a-r*u,this._z=o*d+s*u+r*l-i*a,this._w=s*d-r*a-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*s+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-n)*d)/u,p=Math.sin(n*d)/u;return this._w=s*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=o*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,n=0,r=0){z.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(xL.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(xL.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=l*n+s*i-a*r,d=l*r+a*n-o*i,h=l*i+o*r-s*n,p=-o*n-s*r-a*i;return this.x=u*l+p*-o+d*-a-h*-s,this.y=d*l+p*-s+h*-o-u*-a,this.z=h*l+p*-a+u*-s-d*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return RS.copy(this).projectOnVector(e),this.sub(RS)}reflect(e){return this.sub(RS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const RS=new z,xL=new Zt;class Go{constructor(e=new z(1/0,1/0,1/0),n=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ns.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ns.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ns.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),yc.copy(e.boundingBox),yc.applyMatrix4(e.matrixWorld),this.union(yc);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const o=i.attributes.position;for(let s=0,a=o.count;s<a;s++)ns.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(ns)}else i.boundingBox===null&&i.computeBoundingBox(),yc.copy(i.boundingBox),yc.applyMatrix4(e.matrixWorld),this.union(yc)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ns),ns.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kf),Cm.subVectors(this.max,Kf),_c.subVectors(e.a,Kf),xc.subVectors(e.b,Kf),Sc.subVectors(e.c,Kf),Gs.subVectors(xc,_c),js.subVectors(Sc,xc),Ya.subVectors(_c,Sc);let n=[0,-Gs.z,Gs.y,0,-js.z,js.y,0,-Ya.z,Ya.y,Gs.z,0,-Gs.x,js.z,0,-js.x,Ya.z,0,-Ya.x,-Gs.y,Gs.x,0,-js.y,js.x,0,-Ya.y,Ya.x,0];return!CS(n,_c,xc,Sc,Cm)||(n=[1,0,0,0,1,0,0,0,1],!CS(n,_c,xc,Sc,Cm))?!1:(Lm.crossVectors(Gs,js),n=[Lm.x,Lm.y,Lm.z],CS(n,_c,xc,Sc,Cm))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ns).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ns).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ts[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ts[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ts[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ts[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ts[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ts[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ts[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ts[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ts),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ts=[new z,new z,new z,new z,new z,new z,new z,new z],ns=new z,yc=new Go,_c=new z,xc=new z,Sc=new z,Gs=new z,js=new z,Ya=new z,Kf=new z,Cm=new z,Lm=new z,qa=new z;function CS(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){qa.fromArray(t,o);const a=i.x*Math.abs(qa.x)+i.y*Math.abs(qa.y)+i.z*Math.abs(qa.z),l=e.dot(qa),u=n.dot(qa),d=r.dot(qa);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const Sae=new Go,Jf=new z,LS=new z;class po{constructor(e=new z,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Sae.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jf.subVectors(e,this.center);const n=Jf.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Jf,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(LS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jf.copy(e.center).add(LS)),this.expandByPoint(Jf.copy(e.center).sub(LS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const rs=new z,OS=new z,Om=new z,Xs=new z,IS=new z,Im=new z,NS=new z;class rf{constructor(e=new z,n=new z(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,rs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=rs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(rs.copy(this.origin).addScaledVector(this.direction,n),rs.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){OS.copy(e).add(n).multiplyScalar(.5),Om.copy(n).sub(e).normalize(),Xs.copy(this.origin).sub(OS);const o=e.distanceTo(n)*.5,s=-this.direction.dot(Om),a=Xs.dot(this.direction),l=-Xs.dot(Om),u=Xs.lengthSq(),d=Math.abs(1-s*s);let h,p,m,y;if(d>0)if(h=s*l-a,p=s*a-l,y=o*d,h>=0)if(p>=-y)if(p<=y){const x=1/d;h*=x,p*=x,m=h*(h+s*p+2*a)+p*(s*h+p+2*l)+u}else p=o,h=Math.max(0,-(s*p+a)),m=-h*h+p*(p+2*l)+u;else p=-o,h=Math.max(0,-(s*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-s*o+a)),p=h>0?-o:Math.min(Math.max(-o,-l),o),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-o,-l),o),m=p*(p+2*l)+u):(h=Math.max(0,-(s*o+a)),p=h>0?o:Math.min(Math.max(-o,-l),o),m=-h*h+p*(p+2*l)+u);else p=s>0?-o:o,h=Math.max(0,-(s*p+a)),m=-h*h+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(OS).addScaledVector(Om,p),m}intersectSphere(e,n){rs.subVectors(e.center,this.origin);const r=rs.dot(this.direction),i=rs.dot(rs)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),d>=0?(o=(e.min.y-p.y)*d,s=(e.max.y-p.y)*d):(o=(e.max.y-p.y)*d,s=(e.min.y-p.y)*d),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,rs)!==null}intersectTriangle(e,n,r,i,o){IS.subVectors(n,e),Im.subVectors(r,e),NS.crossVectors(IS,Im);let s=this.direction.dot(NS),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Xs.subVectors(this.origin,e);const l=a*this.direction.dot(Im.crossVectors(Xs,Im));if(l<0)return null;const u=a*this.direction.dot(IS.cross(Xs));if(u<0||l+u>s)return null;const d=-a*Xs.dot(NS);return d<0?null:this.at(d/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yt{constructor(e,n,r,i,o,s,a,l,u,d,h,p,m,y,x,S){yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,u,d,h,p,m,y,x,S)}set(e,n,r,i,o,s,a,l,u,d,h,p,m,y,x,S){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=u,g[6]=d,g[10]=h,g[14]=p,g[3]=m,g[7]=y,g[11]=x,g[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/wc.setFromMatrixColumn(e,0).length(),o=1/wc.setFromMatrixColumn(e,1).length(),s=1/wc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),d=Math.cos(o),h=Math.sin(o);if(e.order==="XYZ"){const p=s*d,m=s*h,y=a*d,x=a*h;n[0]=l*d,n[4]=-l*h,n[8]=u,n[1]=m+y*u,n[5]=p-x*u,n[9]=-a*l,n[2]=x-p*u,n[6]=y+m*u,n[10]=s*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=u*d,x=u*h;n[0]=p+x*a,n[4]=y*a-m,n[8]=s*u,n[1]=s*h,n[5]=s*d,n[9]=-a,n[2]=m*a-y,n[6]=x+p*a,n[10]=s*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=u*d,x=u*h;n[0]=p-x*a,n[4]=-s*h,n[8]=y+m*a,n[1]=m+y*a,n[5]=s*d,n[9]=x-p*a,n[2]=-s*u,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const p=s*d,m=s*h,y=a*d,x=a*h;n[0]=l*d,n[4]=y*u-m,n[8]=p*u+x,n[1]=l*h,n[5]=x*u+p,n[9]=m*u-y,n[2]=-u,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const p=s*l,m=s*u,y=a*l,x=a*u;n[0]=l*d,n[4]=x-p*h,n[8]=y*h+m,n[1]=h,n[5]=s*d,n[9]=-a*d,n[2]=-u*d,n[6]=m*h+y,n[10]=p-x*h}else if(e.order==="XZY"){const p=s*l,m=s*u,y=a*l,x=a*u;n[0]=l*d,n[4]=-h,n[8]=u*d,n[1]=p*h+x,n[5]=s*d,n[9]=m*h-y,n[2]=y*h-m,n[6]=a*d,n[10]=x*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wae,e,bae)}lookAt(e,n,r){const i=this.elements;return ai.subVectors(e,n),ai.lengthSq()===0&&(ai.z=1),ai.normalize(),Ys.crossVectors(r,ai),Ys.lengthSq()===0&&(Math.abs(r.z)===1?ai.x+=1e-4:ai.z+=1e-4,ai.normalize(),Ys.crossVectors(r,ai)),Ys.normalize(),Nm.crossVectors(ai,Ys),i[0]=Ys.x,i[4]=Nm.x,i[8]=ai.x,i[1]=Ys.y,i[5]=Nm.y,i[9]=ai.y,i[2]=Ys.z,i[6]=Nm.z,i[10]=ai.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],u=r[12],d=r[1],h=r[5],p=r[9],m=r[13],y=r[2],x=r[6],S=r[10],g=r[14],_=r[3],w=r[7],E=r[11],T=r[15],P=i[0],A=i[4],I=i[8],C=i[12],O=i[1],B=i[5],ee=i[9],V=i[13],F=i[2],J=i[6],re=i[10],ne=i[14],U=i[3],K=i[7],W=i[11],G=i[15];return o[0]=s*P+a*O+l*F+u*U,o[4]=s*A+a*B+l*J+u*K,o[8]=s*I+a*ee+l*re+u*W,o[12]=s*C+a*V+l*ne+u*G,o[1]=d*P+h*O+p*F+m*U,o[5]=d*A+h*B+p*J+m*K,o[9]=d*I+h*ee+p*re+m*W,o[13]=d*C+h*V+p*ne+m*G,o[2]=y*P+x*O+S*F+g*U,o[6]=y*A+x*B+S*J+g*K,o[10]=y*I+x*ee+S*re+g*W,o[14]=y*C+x*V+S*ne+g*G,o[3]=_*P+w*O+E*F+T*U,o[7]=_*A+w*B+E*J+T*K,o[11]=_*I+w*ee+E*re+T*W,o[15]=_*C+w*V+E*ne+T*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],x=e[7],S=e[11],g=e[15];return y*(+o*l*h-i*u*h-o*a*p+r*u*p+i*a*m-r*l*m)+x*(+n*l*m-n*u*p+o*s*p-i*s*m+i*u*d-o*l*d)+S*(+n*u*h-n*a*m-o*s*h+r*s*m+o*a*d-r*u*d)+g*(-i*a*d-n*l*h+n*a*p+i*s*h-r*s*p+r*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],x=e[13],S=e[14],g=e[15],_=h*S*u-x*p*u+x*l*m-a*S*m-h*l*g+a*p*g,w=y*p*u-d*S*u-y*l*m+s*S*m+d*l*g-s*p*g,E=d*x*u-y*h*u+y*a*m-s*x*m-d*a*g+s*h*g,T=y*h*l-d*x*l-y*a*p+s*x*p+d*a*S-s*h*S,P=n*_+r*w+i*E+o*T;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/P;return e[0]=_*A,e[1]=(x*p*o-h*S*o-x*i*m+r*S*m+h*i*g-r*p*g)*A,e[2]=(a*S*o-x*l*o+x*i*u-r*S*u-a*i*g+r*l*g)*A,e[3]=(h*l*o-a*p*o-h*i*u+r*p*u+a*i*m-r*l*m)*A,e[4]=w*A,e[5]=(d*S*o-y*p*o+y*i*m-n*S*m-d*i*g+n*p*g)*A,e[6]=(y*l*o-s*S*o-y*i*u+n*S*u+s*i*g-n*l*g)*A,e[7]=(s*p*o-d*l*o+d*i*u-n*p*u-s*i*m+n*l*m)*A,e[8]=E*A,e[9]=(y*h*o-d*x*o-y*r*m+n*x*m+d*r*g-n*h*g)*A,e[10]=(s*x*o-y*a*o+y*r*u-n*x*u-s*r*g+n*a*g)*A,e[11]=(d*a*o-s*h*o-d*r*u+n*h*u+s*r*m-n*a*m)*A,e[12]=T*A,e[13]=(d*x*i-y*h*i+y*r*p-n*x*p-d*r*S+n*h*S)*A,e[14]=(y*a*i-s*x*i-y*r*l+n*x*l+s*r*S-n*a*S)*A,e[15]=(s*h*i-d*a*i+d*r*l-n*h*l-s*r*p+n*a*p)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,u=o*s,d=o*a;return this.set(u*s+r,u*a-i*l,u*l+i*a,0,u*a+i*l,d*a+r,d*l-i*s,0,u*l-i*a,d*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,u=o+o,d=s+s,h=a+a,p=o*u,m=o*d,y=o*h,x=s*d,S=s*h,g=a*h,_=l*u,w=l*d,E=l*h,T=r.x,P=r.y,A=r.z;return i[0]=(1-(x+g))*T,i[1]=(m+E)*T,i[2]=(y-w)*T,i[3]=0,i[4]=(m-E)*P,i[5]=(1-(p+g))*P,i[6]=(S+_)*P,i[7]=0,i[8]=(y+w)*A,i[9]=(S-_)*A,i[10]=(1-(p+x))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=wc.set(i[0],i[1],i[2]).length();const s=wc.set(i[4],i[5],i[6]).length(),a=wc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],qi.copy(this);const u=1/o,d=1/s,h=1/a;return qi.elements[0]*=u,qi.elements[1]*=u,qi.elements[2]*=u,qi.elements[4]*=d,qi.elements[5]*=d,qi.elements[6]*=d,qi.elements[8]*=h,qi.elements[9]*=h,qi.elements[10]*=h,n.setFromRotationMatrix(qi),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=ko){const l=this.elements,u=2*o/(n-e),d=2*o/(r-i),h=(n+e)/(n-e),p=(r+i)/(r-i);let m,y;if(a===ko)m=-(s+o)/(s-o),y=-2*s*o/(s-o);else if(a===dh)m=-s/(s-o),y=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=ko){const l=this.elements,u=1/(n-e),d=1/(r-i),h=1/(s-o),p=(n+e)*u,m=(r+i)*d;let y,x;if(a===ko)y=(s+o)*h,x=-2*h;else if(a===dh)y=o*h,x=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const wc=new z,qi=new yt,wae=new z(0,0,0),bae=new z(1,1,1),Ys=new z,Nm=new z,ai=new z,SL=new yt,wL=new Zt;class of{constructor(e=0,n=0,r=0,i=of.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],u=i[5],d=i[9],h=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Cn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(Cn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Cn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Cn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return SL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return wL.setFromEuler(this),this.setFromQuaternion(wL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}of.DEFAULT_ORDER="XYZ";class Ml{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Eae=0;const bL=new z,bc=new Zt,is=new yt,Dm=new z,ed=new z,Mae=new z,Tae=new Zt,EL=new z(1,0,0),ML=new z(0,1,0),TL=new z(0,0,1),Pae={type:"added"},PL={type:"removed"};class Ut extends Ls{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Eae++}),this.uuid=gi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ut.DEFAULT_UP.clone();const e=new z,n=new of,r=new Zt,i=new z(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new yt},normalMatrix:{value:new At}}),this.matrix=new yt,this.matrixWorld=new yt,this.matrixAutoUpdate=Ut.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ut.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ml,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return bc.setFromAxisAngle(e,n),this.quaternion.multiply(bc),this}rotateOnWorldAxis(e,n){return bc.setFromAxisAngle(e,n),this.quaternion.premultiply(bc),this}rotateX(e){return this.rotateOnAxis(EL,e)}rotateY(e){return this.rotateOnAxis(ML,e)}rotateZ(e){return this.rotateOnAxis(TL,e)}translateOnAxis(e,n){return bL.copy(e).applyQuaternion(this.quaternion),this.position.add(bL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(EL,e)}translateY(e){return this.translateOnAxis(ML,e)}translateZ(e){return this.translateOnAxis(TL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(is.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Dm.copy(e):Dm.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ed.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?is.lookAt(ed,Dm,this.up):is.lookAt(Dm,ed,this.up),this.quaternion.setFromRotationMatrix(is),i&&(is.extractRotation(i.matrixWorld),bc.setFromRotationMatrix(is),this.quaternion.premultiply(bc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Pae)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(PL)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(PL)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),is.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),is.multiply(e.parent.matrixWorld)),e.applyMatrix4(is),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,o=this.children.length;i<o;i++){const s=this.children[i].getObjectsByProperty(e,n);s.length>0&&(r=r.concat(s))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ed,e,Mae),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ed,Tae,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const a=i[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];o(e.shapes,h)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),u=s(e.textures),d=s(e.images),h=s(e.shapes),p=s(e.skeletons),m=s(e.animations),y=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function s(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ut.DEFAULT_UP=new z(0,1,0);Ut.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ut.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Zi=new z,os=new z,DS=new z,ss=new z,Ec=new z,Mc=new z,AL=new z,kS=new z,US=new z,zS=new z;let km=!1;class Gr{constructor(e=new z,n=new z,r=new z){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Zi.subVectors(e,n),i.cross(Zi);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Zi.subVectors(i,n),os.subVectors(r,n),DS.subVectors(e,n);const s=Zi.dot(Zi),a=Zi.dot(os),l=Zi.dot(DS),u=os.dot(os),d=os.dot(DS),h=s*u-a*a;if(h===0)return o.set(-2,-1,-1);const p=1/h,m=(u*l-a*d)*p,y=(s*d-a*l)*p;return o.set(1-m-y,y,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ss),ss.x>=0&&ss.y>=0&&ss.x+ss.y<=1}static getUV(e,n,r,i,o,s,a,l){return km===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),km=!0),this.getInterpolation(e,n,r,i,o,s,a,l)}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,ss),l.setScalar(0),l.addScaledVector(o,ss.x),l.addScaledVector(s,ss.y),l.addScaledVector(a,ss.z),l}static isFrontFacing(e,n,r,i){return Zi.subVectors(r,n),os.subVectors(e,n),Zi.cross(os).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Zi.subVectors(this.c,this.b),os.subVectors(this.a,this.b),Zi.cross(os).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Gr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Gr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return km===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),km=!0),Gr.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return Gr.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Gr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Gr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;Ec.subVectors(i,r),Mc.subVectors(o,r),kS.subVectors(e,r);const l=Ec.dot(kS),u=Mc.dot(kS);if(l<=0&&u<=0)return n.copy(r);US.subVectors(e,i);const d=Ec.dot(US),h=Mc.dot(US);if(d>=0&&h<=d)return n.copy(i);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return s=l/(l-d),n.copy(r).addScaledVector(Ec,s);zS.subVectors(e,o);const m=Ec.dot(zS),y=Mc.dot(zS);if(y>=0&&m<=y)return n.copy(o);const x=m*u-l*y;if(x<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(Mc,a);const S=d*y-m*h;if(S<=0&&h-d>=0&&m-y>=0)return AL.subVectors(o,i),a=(h-d)/(h-d+(m-y)),n.copy(i).addScaledVector(AL,a);const g=1/(S+x+p);return s=x*g,a=p*g,n.copy(r).addScaledVector(Ec,s).addScaledVector(Mc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Aae=0;class ur extends Ls{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Aae++}),this.uuid=gi(),this.name="",this.type="Material",this.blending=bl,this.side=Es,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=gM,this.blendDst=vM,this.blendEquation=ul,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=C0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=S4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=qg,this.stencilZFail=qg,this.stencilZPass=qg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==bl&&(r.blending=this.blending),this.side!==Es&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const O4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qi={h:0,s:0,l:0},Um={h:0,s:0,l:0};function FS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Xe{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=bt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ci.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Ci.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ci.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Ci.workingColorSpace){if(e=RM(e,1),n=Cn(n,0,1),r=Cn(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=FS(s,o,e+1/3),this.g=FS(s,o,e),this.b=FS(s,o,e-1/3)}return Ci.toWorkingColorSpace(this,i),this}setStyle(e,n=bt){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=bt){const r=O4[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vu(e.r),this.g=vu(e.g),this.b=vu(e.b),this}copyLinearToSRGB(e){return this.r=PS(e.r),this.g=PS(e.g),this.b=PS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bt){return Ci.fromWorkingColorSpace(xr.copy(this),e),Math.round(Cn(xr.r*255,0,255))*65536+Math.round(Cn(xr.g*255,0,255))*256+Math.round(Cn(xr.b*255,0,255))}getHexString(e=bt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ci.workingColorSpace){Ci.fromWorkingColorSpace(xr.copy(this),n);const r=xr.r,i=xr.g,o=xr.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,u;const d=(a+s)/2;if(a===s)l=0,u=0;else{const h=s-a;switch(u=d<=.5?h/(s+a):h/(2-s-a),s){case r:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-r)/h+2;break;case o:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,n=Ci.workingColorSpace){return Ci.fromWorkingColorSpace(xr.copy(this),n),e.r=xr.r,e.g=xr.g,e.b=xr.b,e}getStyle(e=bt){Ci.fromWorkingColorSpace(xr.copy(this),e);const n=xr.r,r=xr.g,i=xr.b;return e!==bt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Qi),Qi.h+=e,Qi.s+=n,Qi.l+=r,this.setHSL(Qi.h,Qi.s,Qi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Qi),e.getHSL(Um);const r=Od(Qi.h,Um.h,n),i=Od(Qi.s,Um.s,n),o=Od(Qi.l,Um.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xr=new Xe;Xe.NAMES=O4;class jo extends ur{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fs=Rae();function Rae(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,o[l]=u|d}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function Vr(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Cn(t,-65504,65504),fs.floatView[0]=t;const e=fs.uint32View[0],n=e>>23&511;return fs.baseTable[n]+((e&8388607)>>fs.shiftTable[n])}function md(t){const e=t>>10;return fs.uint32View[0]=fs.mantissaTable[fs.offsetTable[e]+(t&1023)]+fs.exponentTable[e],fs.floatView[0]}const Cae={toHalfFloat:Vr,fromHalfFloat:md},Bn=new z,zm=new Le;class on{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=fh,this.updateRange={offset:0,count:-1},this.gpuType=io,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)zm.fromBufferAttribute(this,n),zm.applyMatrix3(e),this.setXY(n,zm.x,zm.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Bn.fromBufferAttribute(this,n),Bn.applyMatrix3(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Bn.fromBufferAttribute(this,n),Bn.applyMatrix4(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Bn.fromBufferAttribute(this,n),Bn.applyNormalMatrix(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Bn.fromBufferAttribute(this,n),Bn.transformDirection(e),this.setXYZ(n,Bn.x,Bn.y,Bn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=hi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=hi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=hi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=hi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array),o=Rt(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Lae extends on{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Oae extends on{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Iae extends on{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Nae extends on{constructor(e,n,r){super(new Int16Array(e),n,r)}}class OM extends on{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Dae extends on{constructor(e,n,r){super(new Int32Array(e),n,r)}}class IM extends on{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class kae extends on{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=md(this.array[e*this.itemSize]);return this.normalized&&(n=hi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize]=Vr(n),this}getY(e){let n=md(this.array[e*this.itemSize+1]);return this.normalized&&(n=hi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+1]=Vr(n),this}getZ(e){let n=md(this.array[e*this.itemSize+2]);return this.normalized&&(n=hi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+2]=Vr(n),this}getW(e){let n=md(this.array[e*this.itemSize+3]);return this.normalized&&(n=hi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+3]=Vr(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array)),this.array[e+0]=Vr(n),this.array[e+1]=Vr(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array)),this.array[e+0]=Vr(n),this.array[e+1]=Vr(r),this.array[e+2]=Vr(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array),o=Rt(o,this.array)),this.array[e+0]=Vr(n),this.array[e+1]=Vr(r),this.array[e+2]=Vr(i),this.array[e+3]=Vr(o),this}}class et extends on{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Uae extends on{constructor(e,n,r){super(new Float64Array(e),n,r)}}let zae=0;const Ri=new yt,BS=new Ut,Tc=new z,li=new Go,td=new Go,Jn=new z;class wt extends Ls{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zae++}),this.uuid=gi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(L4(e)?IM:OM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new At().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ri.makeRotationFromQuaternion(e),this.applyMatrix4(Ri),this}rotateX(e){return Ri.makeRotationX(e),this.applyMatrix4(Ri),this}rotateY(e){return Ri.makeRotationY(e),this.applyMatrix4(Ri),this}rotateZ(e){return Ri.makeRotationZ(e),this.applyMatrix4(Ri),this}translate(e,n,r){return Ri.makeTranslation(e,n,r),this.applyMatrix4(Ri),this}scale(e,n,r){return Ri.makeScale(e,n,r),this.applyMatrix4(Ri),this}lookAt(e){return BS.lookAt(e),BS.updateMatrix(),this.applyMatrix4(BS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tc).negate(),this.translate(Tc.x,Tc.y,Tc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new et(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Go);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];li.setFromBufferAttribute(o),this.morphTargetsRelative?(Jn.addVectors(this.boundingBox.min,li.min),this.boundingBox.expandByPoint(Jn),Jn.addVectors(this.boundingBox.max,li.max),this.boundingBox.expandByPoint(Jn)):(this.boundingBox.expandByPoint(li.min),this.boundingBox.expandByPoint(li.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new po);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const r=this.boundingSphere.center;if(li.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];td.setFromBufferAttribute(a),this.morphTargetsRelative?(Jn.addVectors(li.min,td.min),li.expandByPoint(Jn),Jn.addVectors(li.max,td.max),li.expandByPoint(Jn)):(li.expandByPoint(td.min),li.expandByPoint(td.max))}li.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Jn.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Jn));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)Jn.fromBufferAttribute(a,u),l&&(Tc.fromBufferAttribute(e,u),Jn.add(Tc)),i=Math.max(i,r.distanceToSquared(Jn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,s=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new on(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],d=[];for(let O=0;O<a;O++)u[O]=new z,d[O]=new z;const h=new z,p=new z,m=new z,y=new Le,x=new Le,S=new Le,g=new z,_=new z;function w(O,B,ee){h.fromArray(i,O*3),p.fromArray(i,B*3),m.fromArray(i,ee*3),y.fromArray(s,O*2),x.fromArray(s,B*2),S.fromArray(s,ee*2),p.sub(h),m.sub(h),x.sub(y),S.sub(y);const V=1/(x.x*S.y-S.x*x.y);!isFinite(V)||(g.copy(p).multiplyScalar(S.y).addScaledVector(m,-x.y).multiplyScalar(V),_.copy(m).multiplyScalar(x.x).addScaledVector(p,-S.x).multiplyScalar(V),u[O].add(g),u[B].add(g),u[ee].add(g),d[O].add(_),d[B].add(_),d[ee].add(_))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let O=0,B=E.length;O<B;++O){const ee=E[O],V=ee.start,F=ee.count;for(let J=V,re=V+F;J<re;J+=3)w(r[J+0],r[J+1],r[J+2])}const T=new z,P=new z,A=new z,I=new z;function C(O){A.fromArray(o,O*3),I.copy(A);const B=u[O];T.copy(B),T.sub(A.multiplyScalar(A.dot(B))).normalize(),P.crossVectors(I,B);const V=P.dot(d[O])<0?-1:1;l[O*4]=T.x,l[O*4+1]=T.y,l[O*4+2]=T.z,l[O*4+3]=V}for(let O=0,B=E.length;O<B;++O){const ee=E[O],V=ee.start,F=ee.count;for(let J=V,re=V+F;J<re;J+=3)C(r[J+0]),C(r[J+1]),C(r[J+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new on(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new z,o=new z,s=new z,a=new z,l=new z,u=new z,d=new z,h=new z;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),x=e.getX(p+1),S=e.getX(p+2);i.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),s.fromBufferAttribute(n,S),d.subVectors(s,o),h.subVectors(i,o),d.cross(h),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,S),a.add(d),l.add(d),u.add(d),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(S,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),o.fromBufferAttribute(n,p+1),s.fromBufferAttribute(n,p+2),d.subVectors(s,o),h.subVectors(i,o),d.cross(h),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Jn.fromBufferAttribute(e,n),Jn.normalize(),e.setXYZ(n,Jn.x,Jn.y,Jn.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,y=0;for(let x=0,S=l.length;x<S;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*d;for(let g=0;g<d;g++)p[y++]=u[m++]}return new on(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new wt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const o=this.morphAttributes;for(const a in o){const l=[],u=o[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const u=s[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const o=e.morphAttributes;for(const u in o){const d=[],h=o[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,d=s.length;u<d;u++){const h=s[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const RL=new yt,Za=new rf,Fm=new po,CL=new z,Pc=new z,Ac=new z,Rc=new z,VS=new z,Bm=new z,Vm=new Le,$m=new Le,Hm=new Le,LL=new z,OL=new z,IL=new z,Wm=new z,Gm=new z;class Ze extends Ut{constructor(e=new wt,n=new jo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){Bm.set(0,0,0);for(let l=0,u=o.length;l<u;l++){const d=a[l],h=o[l];d!==0&&(VS.fromBufferAttribute(h,e),s?Bm.addScaledVector(VS,d):Bm.addScaledVector(VS.sub(n),d))}n.add(Bm)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Fm.copy(r.boundingSphere),Fm.applyMatrix4(o),Za.copy(e.ray).recast(e.near),!(Fm.containsPoint(Za.origin)===!1&&(Za.intersectSphere(Fm,CL)===null||Za.origin.distanceToSquared(CL)>(e.far-e.near)**2))&&(RL.copy(o).invert(),Za.copy(e.ray).applyMatrix4(RL),!(r.boundingBox!==null&&Za.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Za)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,u=o.attributes.uv,d=o.attributes.uv1,h=o.attributes.normal,p=o.groups,m=o.drawRange;if(a!==null)if(Array.isArray(s))for(let y=0,x=p.length;y<x;y++){const S=p[y],g=s[S.materialIndex],_=Math.max(S.start,m.start),w=Math.min(a.count,Math.min(S.start+S.count,m.start+m.count));for(let E=_,T=w;E<T;E+=3){const P=a.getX(E),A=a.getX(E+1),I=a.getX(E+2);i=jm(this,g,e,r,u,d,h,P,A,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=S.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let S=y,g=x;S<g;S+=3){const _=a.getX(S),w=a.getX(S+1),E=a.getX(S+2);i=jm(this,s,e,r,u,d,h,_,w,E),i&&(i.faceIndex=Math.floor(S/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let y=0,x=p.length;y<x;y++){const S=p[y],g=s[S.materialIndex],_=Math.max(S.start,m.start),w=Math.min(l.count,Math.min(S.start+S.count,m.start+m.count));for(let E=_,T=w;E<T;E+=3){const P=E,A=E+1,I=E+2;i=jm(this,g,e,r,u,d,h,P,A,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=S.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let S=y,g=x;S<g;S+=3){const _=S,w=S+1,E=S+2;i=jm(this,s,e,r,u,d,h,_,w,E),i&&(i.faceIndex=Math.floor(S/3),n.push(i))}}}}function Fae(t,e,n,r,i,o,s,a){let l;if(e.side===Nr?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===Es,a),l===null)return null;Gm.copy(a),Gm.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Gm);return u<n.near||u>n.far?null:{distance:u,point:Gm.clone(),object:t}}function jm(t,e,n,r,i,o,s,a,l,u){t.getVertexPosition(a,Pc),t.getVertexPosition(l,Ac),t.getVertexPosition(u,Rc);const d=Fae(t,e,n,r,Pc,Ac,Rc,Wm);if(d){i&&(Vm.fromBufferAttribute(i,a),$m.fromBufferAttribute(i,l),Hm.fromBufferAttribute(i,u),d.uv=Gr.getInterpolation(Wm,Pc,Ac,Rc,Vm,$m,Hm,new Le)),o&&(Vm.fromBufferAttribute(o,a),$m.fromBufferAttribute(o,l),Hm.fromBufferAttribute(o,u),d.uv1=Gr.getInterpolation(Wm,Pc,Ac,Rc,Vm,$m,Hm,new Le),d.uv2=d.uv1),s&&(LL.fromBufferAttribute(s,a),OL.fromBufferAttribute(s,l),IL.fromBufferAttribute(s,u),d.normal=Gr.getInterpolation(Wm,Pc,Ac,Rc,LL,OL,IL,new z),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c:u,normal:new z,materialIndex:0};Gr.getNormal(Pc,Ac,Rc,h.normal),d.face=h}return d}class $r extends wt{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],u=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,r,n,e,s,o,0),y("z","y","x",1,-1,r,n,-e,s,o,1),y("x","z","y",1,1,e,r,n,i,s,2),y("x","z","y",1,-1,e,r,-n,i,s,3),y("x","y","z",1,-1,e,n,r,i,o,4),y("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new et(u,3)),this.setAttribute("normal",new et(d,3)),this.setAttribute("uv",new et(h,2));function y(x,S,g,_,w,E,T,P,A,I,C){const O=E/A,B=T/I,ee=E/2,V=T/2,F=P/2,J=A+1,re=I+1;let ne=0,U=0;const K=new z;for(let W=0;W<re;W++){const G=W*B-V;for(let N=0;N<J;N++){const te=N*O-ee;K[x]=te*_,K[S]=G*w,K[g]=F,u.push(K.x,K.y,K.z),K[x]=0,K[S]=0,K[g]=P>0?1:-1,d.push(K.x,K.y,K.z),h.push(N/A),h.push(1-W/I),ne+=1}}for(let W=0;W<I;W++)for(let G=0;G<A;G++){const N=p+G+J*W,te=p+G+J*(W+1),D=p+(G+1)+J*(W+1),ue=p+(G+1)+J*W;l.push(N,te,ue),l.push(te,D,ue),U+=6}a.addGroup(m,U,C),m+=U,p+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $r(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bu(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Cr(t){const e={};for(let n=0;n<t.length;n++){const r=Bu(t[n]);for(const i in r)e[i]=r[i]}return e}function Bae(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function I4(t){return t.getRenderTarget()===null?t.outputColorSpace:fo}const N4={clone:Bu,merge:Cr};var Vae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$ae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class $o extends ur{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Vae,this.fragmentShader=$ae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bu(e.uniforms),this.uniformsGroups=Bae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Wh extends Ut{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yt,this.projectionMatrix=new yt,this.projectionMatrixInverse=new yt,this.coordinateSystem=ko}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class tr extends Wh{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Fu*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(El*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Fu*2*Math.atan(Math.tan(El*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(El*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/u,i*=s.width/l,r*=s.height/u}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Cc=-90,Lc=1;class D4 extends Ut{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new tr(Cc,Lc,e,n);i.layers=this.layers,this.add(i);const o=new tr(Cc,Lc,e,n);o.layers=this.layers,this.add(o);const s=new tr(Cc,Lc,e,n);s.layers=this.layers,this.add(s);const a=new tr(Cc,Lc,e,n);a.layers=this.layers,this.add(a);const l=new tr(Cc,Lc,e,n);l.layers=this.layers,this.add(l);const u=new tr(Cc,Lc,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const u of n)this.remove(u);if(e===ko)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===dh)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,a,l,u]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=ao,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,o),e.setRenderTarget(r,2),e.render(n,s),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Gh extends Ln{constructor(e,n,r,i,o,s,a,l,u,d){e=e!==void 0?e:[],n=n!==void 0?n:Ta,super(e,n,r,i,o,s,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class k4 extends $i{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Id("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Sa?bt:wa),this.texture=new Gh(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Sn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new $r(5,5,5),o=new $o({name:"CubemapFromEquirect",uniforms:Bu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Nr,blending:vs});o.uniforms.tEquirect.value=n;const s=new Ze(i,o),a=n.minFilter;return n.minFilter===Aa&&(n.minFilter=Sn),new D4(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const $S=new z,Hae=new z,Wae=new At;class ea{constructor(e=new z(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=$S.subVectors(r,n).cross(Hae.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta($S),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Wae.getNormalMatrix(e),i=this.coplanarPoint($S).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Qa=new po,Xm=new z;class Jy{constructor(e=new ea,n=new ea,r=new ea,i=new ea,o=new ea,s=new ea){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ko){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],d=i[5],h=i[6],p=i[7],m=i[8],y=i[9],x=i[10],S=i[11],g=i[12],_=i[13],w=i[14],E=i[15];if(r[0].setComponents(l-o,p-u,S-m,E-g).normalize(),r[1].setComponents(l+o,p+u,S+m,E+g).normalize(),r[2].setComponents(l+s,p+d,S+y,E+_).normalize(),r[3].setComponents(l-s,p-d,S-y,E-_).normalize(),r[4].setComponents(l-a,p-h,S-x,E-w).normalize(),n===ko)r[5].setComponents(l+a,p+h,S+x,E+w).normalize();else if(n===dh)r[5].setComponents(a,h,x,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Qa.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qa)}intersectsSprite(e){return Qa.center.set(0,0,0),Qa.radius=.7071067811865476,Qa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qa)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Xm.x=i.normal.x>0?e.max.x:e.min.x,Xm.y=i.normal.y>0?e.max.y:e.min.y,Xm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Xm)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function U4(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Gae(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,d){const h=u.array,p=u.usage,m=t.createBuffer();t.bindBuffer(d,m),t.bufferData(d,h,p),u.onUploadCallback();let y;if(h instanceof Float32Array)y=t.FLOAT;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)y=t.SHORT;else if(h instanceof Uint32Array)y=t.UNSIGNED_INT;else if(h instanceof Int32Array)y=t.INT;else if(h instanceof Int8Array)y=t.BYTE;else if(h instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function o(u,d,h){const p=d.array,m=d.updateRange;t.bindBuffer(h,u),m.count===-1?t.bufferSubData(h,0,p):(n?t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d&&(t.deleteBuffer(d.buffer),r.delete(u))}function l(u,d){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,d)):h.version<u.version&&(o(h.buffer,u,d),h.version=u.version)}return{get:s,remove:a,update:l}}class Di extends wt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,d=l+1,h=e/a,p=n/l,m=[],y=[],x=[],S=[];for(let g=0;g<d;g++){const _=g*p-s;for(let w=0;w<u;w++){const E=w*h-o;y.push(E,-_,0),x.push(0,0,1),S.push(w/a),S.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const w=_+u*g,E=_+u*(g+1),T=_+1+u*(g+1),P=_+1+u*g;m.push(w,E,P),m.push(E,T,P)}this.setIndex(m),this.setAttribute("position",new et(y,3)),this.setAttribute("normal",new et(x,3)),this.setAttribute("uv",new et(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Di(e.width,e.height,e.widthSegments,e.heightSegments)}}var jae=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Xae=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Yae=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,qae=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zae=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Qae=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Kae=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Jae=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ele=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,tle=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,nle=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,rle=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ile=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ole=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ale=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,lle=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,cle=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ule=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fle=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dle=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,hle=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ple=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,mle=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gle=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vle=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,yle=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_le=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xle="gl_FragColor = linearToOutputTexel( gl_FragColor );",Sle=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wle=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ble=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Ele=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Mle=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Tle=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ple=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ale=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Rle=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Cle=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lle=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ole=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Ile=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Nle=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Dle=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,kle=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Ule=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,zle=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Fle=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ble=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Vle=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$le=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Hle=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Wle=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Gle=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jle=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Xle=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Yle=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qle=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Zle=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Qle=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Kle=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Jle=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ece=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,nce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rce=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ice=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,oce=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,sce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ace=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,lce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,cce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fce=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dce=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,hce=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,pce=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,mce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,gce=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,vce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yce=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,_ce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Sce=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ece=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Mce=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Tce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Pce=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ace=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Rce=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Cce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Lce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Oce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ice=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Nce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Dce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,kce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Uce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,zce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Fce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Vce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$ce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Hce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Wce=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Gce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Yce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qce=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Zce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Qce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Kce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Jce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,eue=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tue=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nue=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rue=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,iue=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oue=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sue=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aue=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,lue=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cue=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uue=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fue=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,due=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hue=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,pue=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mue=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gue=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vue=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yue=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_ue=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xue=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Sue=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wue=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mt={alphahash_fragment:jae,alphahash_pars_fragment:Xae,alphamap_fragment:Yae,alphamap_pars_fragment:qae,alphatest_fragment:Zae,alphatest_pars_fragment:Qae,aomap_fragment:Kae,aomap_pars_fragment:Jae,begin_vertex:ele,beginnormal_vertex:tle,bsdfs:nle,iridescence_fragment:rle,bumpmap_pars_fragment:ile,clipping_planes_fragment:ole,clipping_planes_pars_fragment:sle,clipping_planes_pars_vertex:ale,clipping_planes_vertex:lle,color_fragment:cle,color_pars_fragment:ule,color_pars_vertex:fle,color_vertex:dle,common:hle,cube_uv_reflection_fragment:ple,defaultnormal_vertex:mle,displacementmap_pars_vertex:gle,displacementmap_vertex:vle,emissivemap_fragment:yle,emissivemap_pars_fragment:_le,colorspace_fragment:xle,colorspace_pars_fragment:Sle,envmap_fragment:wle,envmap_common_pars_fragment:ble,envmap_pars_fragment:Ele,envmap_pars_vertex:Mle,envmap_physical_pars_fragment:Ule,envmap_vertex:Tle,fog_vertex:Ple,fog_pars_vertex:Ale,fog_fragment:Rle,fog_pars_fragment:Cle,gradientmap_pars_fragment:Lle,lightmap_fragment:Ole,lightmap_pars_fragment:Ile,lights_lambert_fragment:Nle,lights_lambert_pars_fragment:Dle,lights_pars_begin:kle,lights_toon_fragment:zle,lights_toon_pars_fragment:Fle,lights_phong_fragment:Ble,lights_phong_pars_fragment:Vle,lights_physical_fragment:$le,lights_physical_pars_fragment:Hle,lights_fragment_begin:Wle,lights_fragment_maps:Gle,lights_fragment_end:jle,logdepthbuf_fragment:Xle,logdepthbuf_pars_fragment:Yle,logdepthbuf_pars_vertex:qle,logdepthbuf_vertex:Zle,map_fragment:Qle,map_pars_fragment:Kle,map_particle_fragment:Jle,map_particle_pars_fragment:ece,metalnessmap_fragment:tce,metalnessmap_pars_fragment:nce,morphcolor_vertex:rce,morphnormal_vertex:ice,morphtarget_pars_vertex:oce,morphtarget_vertex:sce,normal_fragment_begin:ace,normal_fragment_maps:lce,normal_pars_fragment:cce,normal_pars_vertex:uce,normal_vertex:fce,normalmap_pars_fragment:dce,clearcoat_normal_fragment_begin:hce,clearcoat_normal_fragment_maps:pce,clearcoat_pars_fragment:mce,iridescence_pars_fragment:gce,opaque_fragment:vce,packing:yce,premultiplied_alpha_fragment:_ce,project_vertex:xce,dithering_fragment:Sce,dithering_pars_fragment:wce,roughnessmap_fragment:bce,roughnessmap_pars_fragment:Ece,shadowmap_pars_fragment:Mce,shadowmap_pars_vertex:Tce,shadowmap_vertex:Pce,shadowmask_pars_fragment:Ace,skinbase_vertex:Rce,skinning_pars_vertex:Cce,skinning_vertex:Lce,skinnormal_vertex:Oce,specularmap_fragment:Ice,specularmap_pars_fragment:Nce,tonemapping_fragment:Dce,tonemapping_pars_fragment:kce,transmission_fragment:Uce,transmission_pars_fragment:zce,uv_pars_fragment:Fce,uv_pars_vertex:Bce,uv_vertex:Vce,worldpos_vertex:$ce,background_vert:Hce,background_frag:Wce,backgroundCube_vert:Gce,backgroundCube_frag:jce,cube_vert:Xce,cube_frag:Yce,depth_vert:qce,depth_frag:Zce,distanceRGBA_vert:Qce,distanceRGBA_frag:Kce,equirect_vert:Jce,equirect_frag:eue,linedashed_vert:tue,linedashed_frag:nue,meshbasic_vert:rue,meshbasic_frag:iue,meshlambert_vert:oue,meshlambert_frag:sue,meshmatcap_vert:aue,meshmatcap_frag:lue,meshnormal_vert:cue,meshnormal_frag:uue,meshphong_vert:fue,meshphong_frag:due,meshphysical_vert:hue,meshphysical_frag:pue,meshtoon_vert:mue,meshtoon_frag:gue,points_vert:vue,points_frag:yue,shadow_vert:_ue,shadow_frag:xue,sprite_vert:Sue,sprite_frag:wue},$e={common:{diffuse:{value:new Xe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new At},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new At}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new At}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new At}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new At},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new At},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new At},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new At}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new At}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new At}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0},uvTransform:{value:new At}},sprite:{diffuse:{value:new Xe(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new At},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0}}},ro={basic:{uniforms:Cr([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Cr([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Xe(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Cr([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Xe(0)},specular:{value:new Xe(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Cr([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new Xe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Cr([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new Xe(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Cr([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Cr([$e.points,$e.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Cr([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Cr([$e.common,$e.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Cr([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Cr([$e.sprite,$e.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new At},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Cr([$e.common,$e.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Cr([$e.lights,$e.fog,{color:{value:new Xe(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};ro.physical={uniforms:Cr([ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new At},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new At},clearcoatNormalScale:{value:new Le(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new At},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new At},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new At},sheen:{value:0},sheenColor:{value:new Xe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new At},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new At},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new At},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new At},attenuationDistance:{value:0},attenuationColor:{value:new Xe(0)},specularColor:{value:new Xe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new At},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new At},anisotropyVector:{value:new Le},anisotropyMap:{value:null},anisotropyMapTransform:{value:new At}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const Ym={r:0,b:0,g:0};function bue(t,e,n,r,i,o,s){const a=new Xe(0);let l=o===!0?0:1,u,d,h=null,p=0,m=null;function y(S,g){let _=!1,w=g.isScene===!0?g.background:null;switch(w&&w.isTexture&&(w=(g.backgroundBlurriness>0?n:e).get(w)),w===null?x(a,l):w&&w.isColor&&(x(w,1),_=!0),t.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,s),_=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,s),_=!0;break}(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===nf)?(d===void 0&&(d=new Ze(new $r(1,1,1),new $o({name:"BackgroundCubeMaterial",uniforms:Bu(ro.backgroundCube.uniforms),vertexShader:ro.backgroundCube.vertexShader,fragmentShader:ro.backgroundCube.fragmentShader,side:Nr,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,A,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=w.colorSpace!==bt,(h!==w||p!==w.version||m!==t.toneMapping)&&(d.material.needsUpdate=!0,h=w,p=w.version,m=t.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Ze(new Di(2,2),new $o({name:"BackgroundMaterial",uniforms:Bu(ro.background.uniforms),vertexShader:ro.background.vertexShader,fragmentShader:ro.background.fragmentShader,side:Es,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=w.colorSpace!==bt,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||p!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,h=w,p=w.version,m=t.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function x(S,g){S.getRGB(Ym,I4(t)),r.buffers.color.setClear(Ym.r,Ym.g,Ym.b,g,s)}return{getClearColor:function(){return a},setClearColor:function(S,g=1){a.set(S),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,x(a,l)},render:y}}function Eue(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=S(null);let u=l,d=!1;function h(F,J,re,ne,U){let K=!1;if(s){const W=x(ne,re,J);u!==W&&(u=W,m(u.object)),K=g(F,ne,re,U),K&&_(F,ne,re,U)}else{const W=J.wireframe===!0;(u.geometry!==ne.id||u.program!==re.id||u.wireframe!==W)&&(u.geometry=ne.id,u.program=re.id,u.wireframe=W,K=!0)}U!==null&&n.update(U,t.ELEMENT_ARRAY_BUFFER),(K||d)&&(d=!1,I(F,J,re,ne),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(U).buffer))}function p(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function m(F){return r.isWebGL2?t.bindVertexArray(F):o.bindVertexArrayOES(F)}function y(F){return r.isWebGL2?t.deleteVertexArray(F):o.deleteVertexArrayOES(F)}function x(F,J,re){const ne=re.wireframe===!0;let U=a[F.id];U===void 0&&(U={},a[F.id]=U);let K=U[J.id];K===void 0&&(K={},U[J.id]=K);let W=K[ne];return W===void 0&&(W=S(p()),K[ne]=W),W}function S(F){const J=[],re=[],ne=[];for(let U=0;U<i;U++)J[U]=0,re[U]=0,ne[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:re,attributeDivisors:ne,object:F,attributes:{},index:null}}function g(F,J,re,ne){const U=u.attributes,K=J.attributes;let W=0;const G=re.getAttributes();for(const N in G)if(G[N].location>=0){const D=U[N];let ue=K[N];if(ue===void 0&&(N==="instanceMatrix"&&F.instanceMatrix&&(ue=F.instanceMatrix),N==="instanceColor"&&F.instanceColor&&(ue=F.instanceColor)),D===void 0||D.attribute!==ue||ue&&D.data!==ue.data)return!0;W++}return u.attributesNum!==W||u.index!==ne}function _(F,J,re,ne){const U={},K=J.attributes;let W=0;const G=re.getAttributes();for(const N in G)if(G[N].location>=0){let D=K[N];D===void 0&&(N==="instanceMatrix"&&F.instanceMatrix&&(D=F.instanceMatrix),N==="instanceColor"&&F.instanceColor&&(D=F.instanceColor));const ue={};ue.attribute=D,D&&D.data&&(ue.data=D.data),U[N]=ue,W++}u.attributes=U,u.attributesNum=W,u.index=ne}function w(){const F=u.newAttributes;for(let J=0,re=F.length;J<re;J++)F[J]=0}function E(F){T(F,0)}function T(F,J){const re=u.newAttributes,ne=u.enabledAttributes,U=u.attributeDivisors;re[F]=1,ne[F]===0&&(t.enableVertexAttribArray(F),ne[F]=1),U[F]!==J&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,J),U[F]=J)}function P(){const F=u.newAttributes,J=u.enabledAttributes;for(let re=0,ne=J.length;re<ne;re++)J[re]!==F[re]&&(t.disableVertexAttribArray(re),J[re]=0)}function A(F,J,re,ne,U,K,W){W===!0?t.vertexAttribIPointer(F,J,re,U,K):t.vertexAttribPointer(F,J,re,ne,U,K)}function I(F,J,re,ne){if(r.isWebGL2===!1&&(F.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const U=ne.attributes,K=re.getAttributes(),W=J.defaultAttributeValues;for(const G in K){const N=K[G];if(N.location>=0){let te=U[G];if(te===void 0&&(G==="instanceMatrix"&&F.instanceMatrix&&(te=F.instanceMatrix),G==="instanceColor"&&F.instanceColor&&(te=F.instanceColor)),te!==void 0){const D=te.normalized,ue=te.itemSize,ce=n.get(te);if(ce===void 0)continue;const Pe=ce.buffer,Ae=ce.type,Re=ce.bytesPerElement,ze=r.isWebGL2===!0&&(Ae===t.INT||Ae===t.UNSIGNED_INT||te.gpuType===xM);if(te.isInterleavedBufferAttribute){const Ue=te.data,$=Ue.stride,he=te.offset;if(Ue.isInstancedInterleavedBuffer){for(let _e=0;_e<N.locationSize;_e++)T(N.location+_e,Ue.meshPerAttribute);F.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let _e=0;_e<N.locationSize;_e++)E(N.location+_e);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let _e=0;_e<N.locationSize;_e++)A(N.location+_e,ue/N.locationSize,Ae,D,$*Re,(he+ue/N.locationSize*_e)*Re,ze)}else{if(te.isInstancedBufferAttribute){for(let Ue=0;Ue<N.locationSize;Ue++)T(N.location+Ue,te.meshPerAttribute);F.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let Ue=0;Ue<N.locationSize;Ue++)E(N.location+Ue);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let Ue=0;Ue<N.locationSize;Ue++)A(N.location+Ue,ue/N.locationSize,Ae,D,ue*Re,ue/N.locationSize*Ue*Re,ze)}}else if(W!==void 0){const D=W[G];if(D!==void 0)switch(D.length){case 2:t.vertexAttrib2fv(N.location,D);break;case 3:t.vertexAttrib3fv(N.location,D);break;case 4:t.vertexAttrib4fv(N.location,D);break;default:t.vertexAttrib1fv(N.location,D)}}}}P()}function C(){ee();for(const F in a){const J=a[F];for(const re in J){const ne=J[re];for(const U in ne)y(ne[U].object),delete ne[U];delete J[re]}delete a[F]}}function O(F){if(a[F.id]===void 0)return;const J=a[F.id];for(const re in J){const ne=J[re];for(const U in ne)y(ne[U].object),delete ne[U];delete J[re]}delete a[F.id]}function B(F){for(const J in a){const re=a[J];if(re[F.id]===void 0)continue;const ne=re[F.id];for(const U in ne)y(ne[U].object),delete ne[U];delete re[F.id]}}function ee(){V(),d=!0,u!==l&&(u=l,m(u.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:ee,resetDefaultState:V,dispose:C,releaseStatesOfGeometry:O,releaseStatesOfProgram:B,initAttributes:w,enableAttribute:E,disableUnusedAttributes:P}}function Mue(t,e,n,r){const i=r.isWebGL2;let o;function s(u){o=u}function a(u,d){t.drawArrays(o,u,d),n.update(d,o,1)}function l(u,d,h){if(h===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](o,u,d,h),n.update(d,o,h)}this.setMode=s,this.render=a,this.renderInstances=l}function Tue(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=s||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,E=s||e.has("OES_texture_float"),T=w&&E,P=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:S,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:E,floatVertexTextures:T,maxSamples:P}}function Pue(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new ea,a=new At,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(h,p){n=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,x=h.clipIntersection,S=h.clipShadows,g=t.get(h);if(!i||y===null||y.length===0||o&&!S)o?d(null):u();else{const _=o?0:r,w=_*4;let E=g.clippingState||null;l.value=E,E=d(y,p,w,m);for(let T=0;T!==w;++T)E[T]=n[T];g.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,p,m,y){const x=h!==null?h.length:0;let S=null;if(x!==0){if(S=l.value,y!==!0||S===null){const g=m+x*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(S===null||S.length<g)&&(S=new Float32Array(g));for(let w=0,E=m;w!==x;++w,E+=4)s.copy(h[w]).applyMatrix4(_,a),s.normal.toArray(S,E),S[E+3]=s.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,S}}function Aue(t){let e=new WeakMap;function n(s,a){return a===ih?s.mapping=Ta:a===oh&&(s.mapping=Pa),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===ih||a===oh)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new k4(l.height/2);return u.fromEquirectangularTexture(t,s),e.set(s,u),s.addEventListener("dispose",i),n(u.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class jh extends Wh{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const iu=4,NL=[.125,.215,.35,.446,.526,.582],fl=20,HS=new jh,DL=new Xe;let WS=null;const sl=(1+Math.sqrt(5))/2,Oc=1/sl,kL=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,sl,Oc),new z(0,sl,-Oc),new z(Oc,0,sl),new z(-Oc,0,sl),new z(sl,Oc,0),new z(-sl,Oc,0)];class pb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){WS=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=FL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(WS),e.scissorTest=!1,qm(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ta||e.mapping===Pa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),WS=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Sn,minFilter:Sn,generateMipmaps:!1,type:Ul,format:jr,colorSpace:fo,depthBuffer:!1},i=UL(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=UL(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Rue(o)),this._blurMaterial=Cue(o,e,n)}return i}_compileMaterial(e){const n=new Ze(this._lodPlanes[0],e);this._renderer.compile(n,HS)}_sceneToCubeUV(e,n,r,i){const a=new tr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(DL),d.toneMapping=ao,d.autoClear=!1;const m=new jo({name:"PMREM.Background",side:Nr,depthWrite:!1,depthTest:!1}),y=new Ze(new $r,m);let x=!1;const S=e.background;S?S.isColor&&(m.color.copy(S),e.background=null,x=!0):(m.color.copy(DL),x=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):_===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const w=this._cubeSize;qm(i,_*w,g>2?w:0,w,w),d.setRenderTarget(i),x&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=S}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ta||e.mapping===Pa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=FL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zL());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Ze(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;qm(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,HS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=kL[(i-1)%kL.length];this._blur(e,i-1,i,o,s)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Ze(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*fl-1),x=o/y,S=isFinite(o)?1+Math.floor(d*x):fl;S>fl&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${fl}`);const g=[];let _=0;for(let A=0;A<fl;++A){const I=A/x,C=Math.exp(-I*I/2);g.push(C),A===0?_+=C:A<S&&(_+=2*C)}for(let A=0;A<g.length;A++)g[A]=g[A]/_;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=g,p.latitudinal.value=s==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-r;const E=this._sizeLods[i],T=3*E*(i>w-iu?i-w+iu:0),P=4*(this._cubeSize-E);qm(n,T,P,3*E,2*E),l.setRenderTarget(n),l.render(h,HS)}}function Rue(t){const e=[],n=[],r=[];let i=t;const o=t-iu+1+NL.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-iu?l=NL[s-t+iu-1]:s===0&&(l=0),r.push(l);const u=1/(a-2),d=-u,h=1+u,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,x=3,S=2,g=1,_=new Float32Array(x*y*m),w=new Float32Array(S*y*m),E=new Float32Array(g*y*m);for(let P=0;P<m;P++){const A=P%3*2/3-1,I=P>2?0:-1,C=[A,I,0,A+2/3,I,0,A+2/3,I+1,0,A,I,0,A+2/3,I+1,0,A,I+1,0];_.set(C,x*y*P),w.set(p,S*y*P);const O=[P,P,P,P,P,P];E.set(O,g*y*P)}const T=new wt;T.setAttribute("position",new on(_,x)),T.setAttribute("uv",new on(w,S)),T.setAttribute("faceIndex",new on(E,g)),e.push(T),i>iu&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function UL(t,e,n){const r=new $i(t,e,n);return r.texture.mapping=nf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function qm(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Cue(t,e,n){const r=new Float32Array(fl),i=new z(0,1,0);return new $o({name:"SphericalGaussianBlur",defines:{n:fl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:NM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function zL(){return new $o({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:NM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function FL(){return new $o({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:NM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function NM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Lue(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===ih||l===oh,d=l===Ta||l===Pa;if(u||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new pb(t)),h=u?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||d&&h&&i(h)){n===null&&(n=new pb(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",o),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Oue(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Iue(t,e,n,r){const i={},o=new WeakMap;function s(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const x=p.morphAttributes[y];for(let S=0,g=x.length;S<g;S++)e.remove(x[S])}p.removeEventListener("dispose",s),delete i[p.id];const m=o.get(p);m&&(e.remove(m),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",s),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],t.ARRAY_BUFFER);const m=h.morphAttributes;for(const y in m){const x=m[y];for(let S=0,g=x.length;S<g;S++)e.update(x[S],t.ARRAY_BUFFER)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let x=0;if(m!==null){const _=m.array;x=m.version;for(let w=0,E=_.length;w<E;w+=3){const T=_[w+0],P=_[w+1],A=_[w+2];p.push(T,P,P,A,A,T)}}else{const _=y.array;x=y.version;for(let w=0,E=_.length/3-1;w<E;w+=3){const T=w+0,P=w+1,A=w+2;p.push(T,P,P,A,A,T)}}const S=new(L4(p)?IM:OM)(p,1);S.version=x;const g=o.get(h);g&&e.remove(g),o.set(h,S)}function d(h){const p=o.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return o.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function Nue(t,e,n,r){const i=r.isWebGL2;let o;function s(p){o=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function d(p,m){t.drawElements(o,m,a,p*l),n.update(m,o,1)}function h(p,m,y){if(y===0)return;let x,S;if(i)x=t,S="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[S](o,m,a,p*l,y),n.update(m,o,y)}this.setMode=s,this.setIndex=u,this.render=d,this.renderInstances=h}function Due(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function kue(t,e){return t[0]-e[0]}function Uue(t,e){return Math.abs(e[1])-Math.abs(t[1])}function zue(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,s=new Kt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,d,h){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=y!==void 0?y.length:0;let S=o.get(d);if(S===void 0||S.count!==x){let J=function(){V.dispose(),o.delete(d),d.removeEventListener("dispose",J)};var m=J;S!==void 0&&S.texture.dispose();const w=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],A=d.morphAttributes.normal||[],I=d.morphAttributes.color||[];let C=0;w===!0&&(C=1),E===!0&&(C=2),T===!0&&(C=3);let O=d.attributes.position.count*C,B=1;O>e.maxTextureSize&&(B=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const ee=new Float32Array(O*B*4*x),V=new Ky(ee,O,B,x);V.type=io,V.needsUpdate=!0;const F=C*4;for(let re=0;re<x;re++){const ne=P[re],U=A[re],K=I[re],W=O*B*4*re;for(let G=0;G<ne.count;G++){const N=G*F;w===!0&&(s.fromBufferAttribute(ne,G),ee[W+N+0]=s.x,ee[W+N+1]=s.y,ee[W+N+2]=s.z,ee[W+N+3]=0),E===!0&&(s.fromBufferAttribute(U,G),ee[W+N+4]=s.x,ee[W+N+5]=s.y,ee[W+N+6]=s.z,ee[W+N+7]=0),T===!0&&(s.fromBufferAttribute(K,G),ee[W+N+8]=s.x,ee[W+N+9]=s.y,ee[W+N+10]=s.z,ee[W+N+11]=K.itemSize===4?s.w:1)}}S={count:x,texture:V,size:new Le(O,B)},o.set(d,S),d.addEventListener("dispose",J)}let g=0;for(let w=0;w<p.length;w++)g+=p[w];const _=d.morphTargetsRelative?1:1-g;h.getUniforms().setValue(t,"morphTargetBaseInfluence",_),h.getUniforms().setValue(t,"morphTargetInfluences",p),h.getUniforms().setValue(t,"morphTargetsTexture",S.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",S.size)}else{const y=p===void 0?0:p.length;let x=r[d.id];if(x===void 0||x.length!==y){x=[];for(let E=0;E<y;E++)x[E]=[E,0];r[d.id]=x}for(let E=0;E<y;E++){const T=x[E];T[0]=E,T[1]=p[E]}x.sort(Uue);for(let E=0;E<8;E++)E<y&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(kue);const S=d.morphAttributes.position,g=d.morphAttributes.normal;let _=0;for(let E=0;E<8;E++){const T=a[E],P=T[0],A=T[1];P!==Number.MAX_SAFE_INTEGER&&A?(S&&d.getAttribute("morphTarget"+E)!==S[P]&&d.setAttribute("morphTarget"+E,S[P]),g&&d.getAttribute("morphNormal"+E)!==g[P]&&d.setAttribute("morphNormal"+E,g[P]),i[E]=A,_+=A):(S&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),g&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),i[E]=0)}const w=d.morphTargetsRelative?1:1-_;h.getUniforms().setValue(t,"morphTargetBaseInfluence",w),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Fue(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,d=l.geometry,h=e.get(l,d);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return h}function s(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:s}}const z4=new Ln,F4=new Ky,B4=new LM,V4=new Gh,BL=[],VL=[],$L=new Float32Array(16),HL=new Float32Array(9),WL=new Float32Array(4);function sf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=BL[i];if(o===void 0&&(o=new Float32Array(i),BL[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function Yn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function qn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function e_(t,e){let n=VL[e];n===void 0&&(n=new Int32Array(e),VL[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Bue(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Vue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yn(n,e))return;t.uniform2fv(this.addr,e),qn(n,e)}}function $ue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Yn(n,e))return;t.uniform3fv(this.addr,e),qn(n,e)}}function Hue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yn(n,e))return;t.uniform4fv(this.addr,e),qn(n,e)}}function Wue(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Yn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),qn(n,e)}else{if(Yn(n,r))return;WL.set(r),t.uniformMatrix2fv(this.addr,!1,WL),qn(n,r)}}function Gue(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Yn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),qn(n,e)}else{if(Yn(n,r))return;HL.set(r),t.uniformMatrix3fv(this.addr,!1,HL),qn(n,r)}}function jue(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Yn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),qn(n,e)}else{if(Yn(n,r))return;$L.set(r),t.uniformMatrix4fv(this.addr,!1,$L),qn(n,r)}}function Xue(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Yue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yn(n,e))return;t.uniform2iv(this.addr,e),qn(n,e)}}function que(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Yn(n,e))return;t.uniform3iv(this.addr,e),qn(n,e)}}function Zue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yn(n,e))return;t.uniform4iv(this.addr,e),qn(n,e)}}function Que(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yn(n,e))return;t.uniform2uiv(this.addr,e),qn(n,e)}}function Jue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Yn(n,e))return;t.uniform3uiv(this.addr,e),qn(n,e)}}function efe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yn(n,e))return;t.uniform4uiv(this.addr,e),qn(n,e)}}function tfe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||z4,i)}function nfe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||B4,i)}function rfe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||V4,i)}function ife(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||F4,i)}function ofe(t){switch(t){case 5126:return Bue;case 35664:return Vue;case 35665:return $ue;case 35666:return Hue;case 35674:return Wue;case 35675:return Gue;case 35676:return jue;case 5124:case 35670:return Xue;case 35667:case 35671:return Yue;case 35668:case 35672:return que;case 35669:case 35673:return Zue;case 5125:return Que;case 36294:return Kue;case 36295:return Jue;case 36296:return efe;case 35678:case 36198:case 36298:case 36306:case 35682:return tfe;case 35679:case 36299:case 36307:return nfe;case 35680:case 36300:case 36308:case 36293:return rfe;case 36289:case 36303:case 36311:case 36292:return ife}}function sfe(t,e){t.uniform1fv(this.addr,e)}function afe(t,e){const n=sf(e,this.size,2);t.uniform2fv(this.addr,n)}function lfe(t,e){const n=sf(e,this.size,3);t.uniform3fv(this.addr,n)}function cfe(t,e){const n=sf(e,this.size,4);t.uniform4fv(this.addr,n)}function ufe(t,e){const n=sf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function ffe(t,e){const n=sf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function dfe(t,e){const n=sf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function hfe(t,e){t.uniform1iv(this.addr,e)}function pfe(t,e){t.uniform2iv(this.addr,e)}function mfe(t,e){t.uniform3iv(this.addr,e)}function gfe(t,e){t.uniform4iv(this.addr,e)}function vfe(t,e){t.uniform1uiv(this.addr,e)}function yfe(t,e){t.uniform2uiv(this.addr,e)}function _fe(t,e){t.uniform3uiv(this.addr,e)}function xfe(t,e){t.uniform4uiv(this.addr,e)}function Sfe(t,e,n){const r=this.cache,i=e.length,o=e_(n,i);Yn(r,o)||(t.uniform1iv(this.addr,o),qn(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||z4,o[s])}function wfe(t,e,n){const r=this.cache,i=e.length,o=e_(n,i);Yn(r,o)||(t.uniform1iv(this.addr,o),qn(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||B4,o[s])}function bfe(t,e,n){const r=this.cache,i=e.length,o=e_(n,i);Yn(r,o)||(t.uniform1iv(this.addr,o),qn(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||V4,o[s])}function Efe(t,e,n){const r=this.cache,i=e.length,o=e_(n,i);Yn(r,o)||(t.uniform1iv(this.addr,o),qn(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||F4,o[s])}function Mfe(t){switch(t){case 5126:return sfe;case 35664:return afe;case 35665:return lfe;case 35666:return cfe;case 35674:return ufe;case 35675:return ffe;case 35676:return dfe;case 5124:case 35670:return hfe;case 35667:case 35671:return pfe;case 35668:case 35672:return mfe;case 35669:case 35673:return gfe;case 5125:return vfe;case 36294:return yfe;case 36295:return _fe;case 36296:return xfe;case 35678:case 36198:case 36298:case 36306:case 35682:return Sfe;case 35679:case 36299:case 36307:return wfe;case 35680:case 36300:case 36308:case 36293:return bfe;case 36289:case 36303:case 36311:case 36292:return Efe}}class Tfe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=ofe(n.type)}}class Pfe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Mfe(n.type)}}class Afe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const GS=/(\w+)(\])?(\[|\.)?/g;function GL(t,e){t.seq.push(e),t.map[e.id]=e}function Rfe(t,e,n){const r=t.name,i=r.length;for(GS.lastIndex=0;;){const o=GS.exec(r),s=GS.lastIndex;let a=o[1];const l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===i){GL(n,u===void 0?new Tfe(a,t,e):new Pfe(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new Afe(a),GL(n,h)),n=h}}}class Zg{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Rfe(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function jL(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Cfe=0;function Lfe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}function Ofe(t){switch(t){case fo:return["Linear","( value )"];case bt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function XL(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Lfe(t.getShaderSource(e),s)}else return i}function Ife(t,e){const n=Ofe(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Nfe(t,e){let n;switch(e){case n4:n="Linear";break;case r4:n="Reinhard";break;case i4:n="OptimizedCineon";break;case yM:n="ACESFilmic";break;case o4:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Dfe(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gd).join(`
`)}function kfe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Ufe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function gd(t){return t!==""}function YL(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qL(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zfe=/^[ \t]*#include +<([\w\d./]+)>/gm;function mb(t){return t.replace(zfe,Bfe)}const Ffe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Bfe(t,e){let n=Mt[e];if(n===void 0){const r=Ffe.get(e);if(r!==void 0)n=Mt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return mb(n)}const Vfe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZL(t){return t.replace(Vfe,$fe)}function $fe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function QL(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Hfe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Yy?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Cd?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===eo&&(e="SHADOWMAP_TYPE_VSM"),e}function Wfe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ta:case Pa:e="ENVMAP_TYPE_CUBE";break;case nf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Gfe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Pa:e="ENVMAP_MODE_REFRACTION";break}return e}function jfe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Hh:e="ENVMAP_BLENDING_MULTIPLY";break;case e4:e="ENVMAP_BLENDING_MIX";break;case t4:e="ENVMAP_BLENDING_ADD";break}return e}function Xfe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Yfe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=Hfe(n),u=Wfe(n),d=Gfe(n),h=jfe(n),p=Xfe(n),m=n.isWebGL2?"":Dfe(n),y=kfe(o),x=i.createProgram();let S,g,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(gd).join(`
`),S.length>0&&(S+=`
`),g=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(gd).join(`
`),g.length>0&&(g+=`
`)):(S=[QL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gd).join(`
`),g=[m,QL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ao?"#define TONE_MAPPING":"",n.toneMapping!==ao?Mt.tonemapping_pars_fragment:"",n.toneMapping!==ao?Nfe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mt.colorspace_pars_fragment,Ife("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(gd).join(`
`)),s=mb(s),s=YL(s,n),s=qL(s,n),a=mb(a),a=YL(a,n),a=qL(a,n),s=ZL(s),a=ZL(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,S=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,g=["#define varying in",n.glslVersion===db?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===db?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const w=_+S+s,E=_+g+a,T=jL(i,i.VERTEX_SHADER,w),P=jL(i,i.FRAGMENT_SHADER,E);if(i.attachShader(x,T),i.attachShader(x,P),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(x).trim(),O=i.getShaderInfoLog(T).trim(),B=i.getShaderInfoLog(P).trim();let ee=!0,V=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(ee=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,T,P);else{const F=XL(i,T,"vertex"),J=XL(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+F+`
`+J)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(O===""||B==="")&&(V=!1);V&&(this.diagnostics={runnable:ee,programLog:C,vertexShader:{log:O,prefix:S},fragmentShader:{log:B,prefix:g}})}i.deleteShader(T),i.deleteShader(P);let A;this.getUniforms=function(){return A===void 0&&(A=new Zg(i,x)),A};let I;return this.getAttributes=function(){return I===void 0&&(I=Ufe(i,x)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cfe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=P,this}let qfe=0;class Zfe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Qfe(e),n.set(e,r)),r}}class Qfe{constructor(e){this.id=qfe++,this.code=e,this.usedTimes=0}}function Kfe(t,e,n,r,i,o,s){const a=new Ml,l=new Zfe,u=[],d=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(C){return C===0?"uv":`uv${C}`}function S(C,O,B,ee,V){const F=ee.fog,J=V.geometry,re=C.isMeshStandardMaterial?ee.environment:null,ne=(C.isMeshStandardMaterial?n:e).get(C.envMap||re),U=!!ne&&ne.mapping===nf?ne.image.height:null,K=y[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const W=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,G=W!==void 0?W.length:0;let N=0;J.morphAttributes.position!==void 0&&(N=1),J.morphAttributes.normal!==void 0&&(N=2),J.morphAttributes.color!==void 0&&(N=3);let te,D,ue,ce;if(K){const $t=ro[K];te=$t.vertexShader,D=$t.fragmentShader}else te=C.vertexShader,D=C.fragmentShader,l.update(C),ue=l.getVertexShaderID(C),ce=l.getFragmentShaderID(C);const Pe=t.getRenderTarget(),Ae=V.isInstancedMesh===!0,Re=!!C.map,ze=!!C.matcap,Ue=!!ne,$=!!C.aoMap,he=!!C.lightMap,_e=!!C.bumpMap,Ie=!!C.normalMap,we=!!C.displacementMap,He=!!C.emissiveMap,We=!!C.metalnessMap,qe=!!C.roughnessMap,it=C.anisotropy>0,ht=C.clearcoat>0,Xt=C.iridescence>0,Y=C.sheen>0,k=C.transmission>0,ve=it&&!!C.anisotropyMap,Ne=ht&&!!C.clearcoatMap,De=ht&&!!C.clearcoatNormalMap,Be=ht&&!!C.clearcoatRoughnessMap,tt=Xt&&!!C.iridescenceMap,Ve=Xt&&!!C.iridescenceThicknessMap,be=Y&&!!C.sheenColorMap,ot=Y&&!!C.sheenRoughnessMap,at=!!C.specularMap,Ce=!!C.specularColorMap,q=!!C.specularIntensityMap,Q=k&&!!C.transmissionMap,me=k&&!!C.thicknessMap,Oe=!!C.gradientMap,j=!!C.alphaMap,pe=C.alphaTest>0,oe=!!C.alphaHash,ye=!!C.extensions,Me=!!J.attributes.uv1,Ge=!!J.attributes.uv2,ft=!!J.attributes.uv3;return{isWebGL2:d,shaderID:K,shaderType:C.type,shaderName:C.name,vertexShader:te,fragmentShader:D,defines:C.defines,customVertexShaderID:ue,customFragmentShaderID:ce,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:Ae,instancingColor:Ae&&V.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Pe===null?t.outputColorSpace:Pe.isXRRenderTarget===!0?Pe.texture.colorSpace:fo,map:Re,matcap:ze,envMap:Ue,envMapMode:Ue&&ne.mapping,envMapCubeUVHeight:U,aoMap:$,lightMap:he,bumpMap:_e,normalMap:Ie,displacementMap:p&&we,emissiveMap:He,normalMapObjectSpace:Ie&&C.normalMapType===x4,normalMapTangentSpace:Ie&&C.normalMapType===Da,metalnessMap:We,roughnessMap:qe,anisotropy:it,anisotropyMap:ve,clearcoat:ht,clearcoatMap:Ne,clearcoatNormalMap:De,clearcoatRoughnessMap:Be,iridescence:Xt,iridescenceMap:tt,iridescenceThicknessMap:Ve,sheen:Y,sheenColorMap:be,sheenRoughnessMap:ot,specularMap:at,specularColorMap:Ce,specularIntensityMap:q,transmission:k,transmissionMap:Q,thicknessMap:me,gradientMap:Oe,opaque:C.transparent===!1&&C.blending===bl,alphaMap:j,alphaTest:pe,alphaHash:oe,combine:C.combine,mapUv:Re&&x(C.map.channel),aoMapUv:$&&x(C.aoMap.channel),lightMapUv:he&&x(C.lightMap.channel),bumpMapUv:_e&&x(C.bumpMap.channel),normalMapUv:Ie&&x(C.normalMap.channel),displacementMapUv:we&&x(C.displacementMap.channel),emissiveMapUv:He&&x(C.emissiveMap.channel),metalnessMapUv:We&&x(C.metalnessMap.channel),roughnessMapUv:qe&&x(C.roughnessMap.channel),anisotropyMapUv:ve&&x(C.anisotropyMap.channel),clearcoatMapUv:Ne&&x(C.clearcoatMap.channel),clearcoatNormalMapUv:De&&x(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Be&&x(C.clearcoatRoughnessMap.channel),iridescenceMapUv:tt&&x(C.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&x(C.iridescenceThicknessMap.channel),sheenColorMapUv:be&&x(C.sheenColorMap.channel),sheenRoughnessMapUv:ot&&x(C.sheenRoughnessMap.channel),specularMapUv:at&&x(C.specularMap.channel),specularColorMapUv:Ce&&x(C.specularColorMap.channel),specularIntensityMapUv:q&&x(C.specularIntensityMap.channel),transmissionMapUv:Q&&x(C.transmissionMap.channel),thicknessMapUv:me&&x(C.thicknessMap.channel),alphaMapUv:j&&x(C.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(Ie||it),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,vertexUv1s:Me,vertexUv2s:Ge,vertexUv3s:ft,pointsUvs:V.isPoints===!0&&!!J.attributes.uv&&(Re||j),fog:!!F,useFog:C.fog===!0,fogExp2:F&&F.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:V.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:N,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:C.toneMapped?t.toneMapping:ao,useLegacyLights:t.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===ki,flipSided:C.side===Nr,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:ye&&C.extensions.derivatives===!0,extensionFragDepth:ye&&C.extensions.fragDepth===!0,extensionDrawBuffers:ye&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:ye&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function g(C){const O=[];if(C.shaderID?O.push(C.shaderID):(O.push(C.customVertexShaderID),O.push(C.customFragmentShaderID)),C.defines!==void 0)for(const B in C.defines)O.push(B),O.push(C.defines[B]);return C.isRawShaderMaterial===!1&&(_(O,C),w(O,C),O.push(t.outputColorSpace)),O.push(C.customProgramCacheKey),O.join()}function _(C,O){C.push(O.precision),C.push(O.outputColorSpace),C.push(O.envMapMode),C.push(O.envMapCubeUVHeight),C.push(O.mapUv),C.push(O.alphaMapUv),C.push(O.lightMapUv),C.push(O.aoMapUv),C.push(O.bumpMapUv),C.push(O.normalMapUv),C.push(O.displacementMapUv),C.push(O.emissiveMapUv),C.push(O.metalnessMapUv),C.push(O.roughnessMapUv),C.push(O.anisotropyMapUv),C.push(O.clearcoatMapUv),C.push(O.clearcoatNormalMapUv),C.push(O.clearcoatRoughnessMapUv),C.push(O.iridescenceMapUv),C.push(O.iridescenceThicknessMapUv),C.push(O.sheenColorMapUv),C.push(O.sheenRoughnessMapUv),C.push(O.specularMapUv),C.push(O.specularColorMapUv),C.push(O.specularIntensityMapUv),C.push(O.transmissionMapUv),C.push(O.thicknessMapUv),C.push(O.combine),C.push(O.fogExp2),C.push(O.sizeAttenuation),C.push(O.morphTargetsCount),C.push(O.morphAttributeCount),C.push(O.numDirLights),C.push(O.numPointLights),C.push(O.numSpotLights),C.push(O.numSpotLightMaps),C.push(O.numHemiLights),C.push(O.numRectAreaLights),C.push(O.numDirLightShadows),C.push(O.numPointLightShadows),C.push(O.numSpotLightShadows),C.push(O.numSpotLightShadowsWithMaps),C.push(O.shadowMapType),C.push(O.toneMapping),C.push(O.numClippingPlanes),C.push(O.numClipIntersection),C.push(O.depthPacking)}function w(C,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.matcap&&a.enable(4),O.envMap&&a.enable(5),O.normalMapObjectSpace&&a.enable(6),O.normalMapTangentSpace&&a.enable(7),O.clearcoat&&a.enable(8),O.iridescence&&a.enable(9),O.alphaTest&&a.enable(10),O.vertexColors&&a.enable(11),O.vertexAlphas&&a.enable(12),O.vertexUv1s&&a.enable(13),O.vertexUv2s&&a.enable(14),O.vertexUv3s&&a.enable(15),O.vertexTangents&&a.enable(16),O.anisotropy&&a.enable(17),C.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.useLegacyLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.transmission&&a.enable(15),O.sheen&&a.enable(16),O.opaque&&a.enable(17),O.pointsUvs&&a.enable(18),C.push(a.mask)}function E(C){const O=y[C.type];let B;if(O){const ee=ro[O];B=N4.clone(ee.uniforms)}else B=C.uniforms;return B}function T(C,O){let B;for(let ee=0,V=u.length;ee<V;ee++){const F=u[ee];if(F.cacheKey===O){B=F,++B.usedTimes;break}}return B===void 0&&(B=new Yfe(t,O,C,o),u.push(B)),B}function P(C){if(--C.usedTimes===0){const O=u.indexOf(C);u[O]=u[u.length-1],u.pop(),C.destroy()}}function A(C){l.remove(C)}function I(){l.dispose()}return{getParameters:S,getProgramCacheKey:g,getUniforms:E,acquireProgram:T,releaseProgram:P,releaseShaderCache:A,programs:u,dispose:I}}function Jfe(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,a){t.get(o)[s]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function ede(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function KL(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function JL(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(h,p,m,y,x,S){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:x,group:S},t[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=h.renderOrder,g.z=x,g.group=S),e++,g}function a(h,p,m,y,x,S){const g=s(h,p,m,y,x,S);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(h,p,m,y,x,S){const g=s(h,p,m,y,x,S);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(h,p){n.length>1&&n.sort(h||ede),r.length>1&&r.sort(p||KL),i.length>1&&i.sort(p||KL)}function d(){for(let h=e,p=t.length;h<p;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:d,sort:u}}function tde(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new JL,t.set(r,[s])):i>=o.length?(s=new JL,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function nde(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new z,color:new Xe};break;case"SpotLight":n={position:new z,direction:new z,color:new Xe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new z,color:new Xe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new z,skyColor:new Xe,groundColor:new Xe};break;case"RectAreaLight":n={color:new Xe,position:new z,halfWidth:new z,halfHeight:new z};break}return t[e.id]=n,n}}}function rde(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ide=0;function ode(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function sde(t,e){const n=new nde,r=rde(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)i.probe.push(new z);const o=new z,s=new yt,a=new yt;function l(d,h){let p=0,m=0,y=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let x=0,S=0,g=0,_=0,w=0,E=0,T=0,P=0,A=0,I=0;d.sort(ode);const C=h===!0?Math.PI:1;for(let B=0,ee=d.length;B<ee;B++){const V=d[B],F=V.color,J=V.intensity,re=V.distance,ne=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=F.r*J*C,m+=F.g*J*C,y+=F.b*J*C;else if(V.isLightProbe)for(let U=0;U<9;U++)i.probe[U].addScaledVector(V.sh.coefficients[U],J);else if(V.isDirectionalLight){const U=n.get(V);if(U.color.copy(V.color).multiplyScalar(V.intensity*C),V.castShadow){const K=V.shadow,W=r.get(V);W.shadowBias=K.bias,W.shadowNormalBias=K.normalBias,W.shadowRadius=K.radius,W.shadowMapSize=K.mapSize,i.directionalShadow[x]=W,i.directionalShadowMap[x]=ne,i.directionalShadowMatrix[x]=V.shadow.matrix,E++}i.directional[x]=U,x++}else if(V.isSpotLight){const U=n.get(V);U.position.setFromMatrixPosition(V.matrixWorld),U.color.copy(F).multiplyScalar(J*C),U.distance=re,U.coneCos=Math.cos(V.angle),U.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),U.decay=V.decay,i.spot[g]=U;const K=V.shadow;if(V.map&&(i.spotLightMap[A]=V.map,A++,K.updateMatrices(V),V.castShadow&&I++),i.spotLightMatrix[g]=K.matrix,V.castShadow){const W=r.get(V);W.shadowBias=K.bias,W.shadowNormalBias=K.normalBias,W.shadowRadius=K.radius,W.shadowMapSize=K.mapSize,i.spotShadow[g]=W,i.spotShadowMap[g]=ne,P++}g++}else if(V.isRectAreaLight){const U=n.get(V);U.color.copy(F).multiplyScalar(J),U.halfWidth.set(V.width*.5,0,0),U.halfHeight.set(0,V.height*.5,0),i.rectArea[_]=U,_++}else if(V.isPointLight){const U=n.get(V);if(U.color.copy(V.color).multiplyScalar(V.intensity*C),U.distance=V.distance,U.decay=V.decay,V.castShadow){const K=V.shadow,W=r.get(V);W.shadowBias=K.bias,W.shadowNormalBias=K.normalBias,W.shadowRadius=K.radius,W.shadowMapSize=K.mapSize,W.shadowCameraNear=K.camera.near,W.shadowCameraFar=K.camera.far,i.pointShadow[S]=W,i.pointShadowMap[S]=ne,i.pointShadowMatrix[S]=V.shadow.matrix,T++}i.point[S]=U,S++}else if(V.isHemisphereLight){const U=n.get(V);U.skyColor.copy(V.color).multiplyScalar(J*C),U.groundColor.copy(V.groundColor).multiplyScalar(J*C),i.hemi[w]=U,w++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_FLOAT_1,i.rectAreaLTC2=$e.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_HALF_1,i.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const O=i.hash;(O.directionalLength!==x||O.pointLength!==S||O.spotLength!==g||O.rectAreaLength!==_||O.hemiLength!==w||O.numDirectionalShadows!==E||O.numPointShadows!==T||O.numSpotShadows!==P||O.numSpotMaps!==A)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=_,i.point.length=S,i.hemi.length=w,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=P+A-I,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=I,O.directionalLength=x,O.pointLength=S,O.spotLength=g,O.rectAreaLength=_,O.hemiLength=w,O.numDirectionalShadows=E,O.numPointShadows=T,O.numSpotShadows=P,O.numSpotMaps=A,i.version=ide++)}function u(d,h){let p=0,m=0,y=0,x=0,S=0;const g=h.matrixWorldInverse;for(let _=0,w=d.length;_<w;_++){const E=d[_];if(E.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(o),T.direction.transformDirection(g),p++}else if(E.isSpotLight){const T=i.spot[y];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(o),T.direction.transformDirection(g),y++}else if(E.isRectAreaLight){const T=i.rectArea[x];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),a.identity(),s.copy(E.matrixWorld),s.premultiply(g),a.extractRotation(s),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),x++}else if(E.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const T=i.hemi[S];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(g),S++}}}return{setup:l,setupView:u,state:i}}function eO(t,e){const n=new sde(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function u(h){n.setupView(r,h)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function ade(t,e){let n=new WeakMap;function r(o,s=0){const a=n.get(o);let l;return a===void 0?(l=new eO(t,e),n.set(o,[l])):s>=a.length?(l=new eO(t,e),a.push(l)):l=a[s],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class DM extends ur{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=y4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kM extends ur{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ude(t,e,n){let r=new Jy;const i=new Le,o=new Le,s=new Kt,a=new DM({depthPacking:_4}),l=new kM,u={},d=n.maxTextureSize,h={[Es]:Nr,[Nr]:Es,[ki]:ki},p=new $o({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:lde,fragmentShader:cde}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new wt;y.setAttribute("position",new on(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ze(y,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Yy;let g=this.type;this.render=function(T,P,A){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||T.length===0)return;const I=t.getRenderTarget(),C=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),B=t.state;B.setBlending(vs),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const ee=g!==eo&&this.type===eo,V=g===eo&&this.type!==eo;for(let F=0,J=T.length;F<J;F++){const re=T[F],ne=re.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;i.copy(ne.mapSize);const U=ne.getFrameExtents();if(i.multiply(U),o.copy(ne.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(o.x=Math.floor(d/U.x),i.x=o.x*U.x,ne.mapSize.x=o.x),i.y>d&&(o.y=Math.floor(d/U.y),i.y=o.y*U.y,ne.mapSize.y=o.y)),ne.map===null||ee===!0||V===!0){const W=this.type!==eo?{minFilter:Nn,magFilter:Nn}:{};ne.map!==null&&ne.map.dispose(),ne.map=new $i(i.x,i.y,W),ne.map.texture.name=re.name+".shadowMap",ne.camera.updateProjectionMatrix()}t.setRenderTarget(ne.map),t.clear();const K=ne.getViewportCount();for(let W=0;W<K;W++){const G=ne.getViewport(W);s.set(o.x*G.x,o.y*G.y,o.x*G.z,o.y*G.w),B.viewport(s),ne.updateMatrices(re,W),r=ne.getFrustum(),E(P,A,ne.camera,re,this.type)}ne.isPointLightShadow!==!0&&this.type===eo&&_(ne,A),ne.needsUpdate=!1}g=this.type,S.needsUpdate=!1,t.setRenderTarget(I,C,O)};function _(T,P){const A=e.update(x);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new $i(i.x,i.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(P,null,A,p,x,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(P,null,A,m,x,null)}function w(T,P,A,I){let C=null;const O=A.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(O!==void 0)C=O;else if(C=A.isPointLight===!0?l:a,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const B=C.uuid,ee=P.uuid;let V=u[B];V===void 0&&(V={},u[B]=V);let F=V[ee];F===void 0&&(F=C.clone(),V[ee]=F),C=F}if(C.visible=P.visible,C.wireframe=P.wireframe,I===eo?C.side=P.shadowSide!==null?P.shadowSide:P.side:C.side=P.shadowSide!==null?P.shadowSide:h[P.side],C.alphaMap=P.alphaMap,C.alphaTest=P.alphaTest,C.map=P.map,C.clipShadows=P.clipShadows,C.clippingPlanes=P.clippingPlanes,C.clipIntersection=P.clipIntersection,C.displacementMap=P.displacementMap,C.displacementScale=P.displacementScale,C.displacementBias=P.displacementBias,C.wireframeLinewidth=P.wireframeLinewidth,C.linewidth=P.linewidth,A.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const B=t.properties.get(C);B.light=A}return C}function E(T,P,A,I,C){if(T.visible===!1)return;if(T.layers.test(P.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===eo)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,T.matrixWorld);const ee=e.update(T),V=T.material;if(Array.isArray(V)){const F=ee.groups;for(let J=0,re=F.length;J<re;J++){const ne=F[J],U=V[ne.materialIndex];if(U&&U.visible){const K=w(T,U,I,C);t.renderBufferDirect(A,null,ee,K,T,ne)}}}else if(V.visible){const F=w(T,V,I,C);t.renderBufferDirect(A,null,ee,F,T,null)}}const B=T.children;for(let ee=0,V=B.length;ee<V;ee++)E(B[ee],P,A,I,C)}}function fde(t,e,n){const r=n.isWebGL2;function i(){let j=!1;const pe=new Kt;let oe=null;const ye=new Kt(0,0,0,0);return{setMask:function(Me){oe!==Me&&!j&&(t.colorMask(Me,Me,Me,Me),oe=Me)},setLocked:function(Me){j=Me},setClear:function(Me,Ge,ft,Ft,$t){$t===!0&&(Me*=Ft,Ge*=Ft,ft*=Ft),pe.set(Me,Ge,ft,Ft),ye.equals(pe)===!1&&(t.clearColor(Me,Ge,ft,Ft),ye.copy(pe))},reset:function(){j=!1,oe=null,ye.set(-1,0,0,0)}}}function o(){let j=!1,pe=null,oe=null,ye=null;return{setTest:function(Me){Me?Pe(t.DEPTH_TEST):Ae(t.DEPTH_TEST)},setMask:function(Me){pe!==Me&&!j&&(t.depthMask(Me),pe=Me)},setFunc:function(Me){if(oe!==Me){switch(Me){case XF:t.depthFunc(t.NEVER);break;case YF:t.depthFunc(t.ALWAYS);break;case qF:t.depthFunc(t.LESS);break;case C0:t.depthFunc(t.LEQUAL);break;case ZF:t.depthFunc(t.EQUAL);break;case QF:t.depthFunc(t.GEQUAL);break;case KF:t.depthFunc(t.GREATER);break;case JF:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}oe=Me}},setLocked:function(Me){j=Me},setClear:function(Me){ye!==Me&&(t.clearDepth(Me),ye=Me)},reset:function(){j=!1,pe=null,oe=null,ye=null}}}function s(){let j=!1,pe=null,oe=null,ye=null,Me=null,Ge=null,ft=null,Ft=null,$t=null;return{setTest:function(kt){j||(kt?Pe(t.STENCIL_TEST):Ae(t.STENCIL_TEST))},setMask:function(kt){pe!==kt&&!j&&(t.stencilMask(kt),pe=kt)},setFunc:function(kt,ln,hn){(oe!==kt||ye!==ln||Me!==hn)&&(t.stencilFunc(kt,ln,hn),oe=kt,ye=ln,Me=hn)},setOp:function(kt,ln,hn){(Ge!==kt||ft!==ln||Ft!==hn)&&(t.stencilOp(kt,ln,hn),Ge=kt,ft=ln,Ft=hn)},setLocked:function(kt){j=kt},setClear:function(kt){$t!==kt&&(t.clearStencil(kt),$t=kt)},reset:function(){j=!1,pe=null,oe=null,ye=null,Me=null,Ge=null,ft=null,Ft=null,$t=null}}}const a=new i,l=new o,u=new s,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,x=[],S=null,g=!1,_=null,w=null,E=null,T=null,P=null,A=null,I=null,C=!1,O=null,B=null,ee=null,V=null,F=null;const J=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let re=!1,ne=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(U)[1]),re=ne>=1):U.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),re=ne>=2);let K=null,W={};const G=t.getParameter(t.SCISSOR_BOX),N=t.getParameter(t.VIEWPORT),te=new Kt().fromArray(G),D=new Kt().fromArray(N);function ue(j,pe,oe,ye){const Me=new Uint8Array(4),Ge=t.createTexture();t.bindTexture(j,Ge),t.texParameteri(j,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(j,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ft=0;ft<oe;ft++)r&&(j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY)?t.texImage3D(pe,0,t.RGBA,1,1,ye,0,t.RGBA,t.UNSIGNED_BYTE,Me):t.texImage2D(pe+ft,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Me);return Ge}const ce={};ce[t.TEXTURE_2D]=ue(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ce[t.TEXTURE_2D_ARRAY]=ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Pe(t.DEPTH_TEST),l.setFunc(C0),we(!1),He(Uw),Pe(t.CULL_FACE),_e(vs);function Pe(j){p[j]!==!0&&(t.enable(j),p[j]=!0)}function Ae(j){p[j]!==!1&&(t.disable(j),p[j]=!1)}function Re(j,pe){return m[j]!==pe?(t.bindFramebuffer(j,pe),m[j]=pe,r&&(j===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=pe),j===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=pe)),!0):!1}function ze(j,pe){let oe=x,ye=!1;if(j)if(oe=y.get(pe),oe===void 0&&(oe=[],y.set(pe,oe)),j.isWebGLMultipleRenderTargets){const Me=j.texture;if(oe.length!==Me.length||oe[0]!==t.COLOR_ATTACHMENT0){for(let Ge=0,ft=Me.length;Ge<ft;Ge++)oe[Ge]=t.COLOR_ATTACHMENT0+Ge;oe.length=Me.length,ye=!0}}else oe[0]!==t.COLOR_ATTACHMENT0&&(oe[0]=t.COLOR_ATTACHMENT0,ye=!0);else oe[0]!==t.BACK&&(oe[0]=t.BACK,ye=!0);ye&&(n.isWebGL2?t.drawBuffers(oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))}function Ue(j){return S!==j?(t.useProgram(j),S=j,!0):!1}const $={[ul]:t.FUNC_ADD,[kF]:t.FUNC_SUBTRACT,[UF]:t.FUNC_REVERSE_SUBTRACT};if(r)$[Vw]=t.MIN,$[$w]=t.MAX;else{const j=e.get("EXT_blend_minmax");j!==null&&($[Vw]=j.MIN_EXT,$[$w]=j.MAX_EXT)}const he={[zF]:t.ZERO,[FF]:t.ONE,[BF]:t.SRC_COLOR,[gM]:t.SRC_ALPHA,[jF]:t.SRC_ALPHA_SATURATE,[WF]:t.DST_COLOR,[$F]:t.DST_ALPHA,[VF]:t.ONE_MINUS_SRC_COLOR,[vM]:t.ONE_MINUS_SRC_ALPHA,[GF]:t.ONE_MINUS_DST_COLOR,[HF]:t.ONE_MINUS_DST_ALPHA};function _e(j,pe,oe,ye,Me,Ge,ft,Ft){if(j===vs){g===!0&&(Ae(t.BLEND),g=!1);return}if(g===!1&&(Pe(t.BLEND),g=!0),j!==DF){if(j!==_||Ft!==C){if((w!==ul||P!==ul)&&(t.blendEquation(t.FUNC_ADD),w=ul,P=ul),Ft)switch(j){case bl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zw:t.blendFunc(t.ONE,t.ONE);break;case Fw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Bw:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case bl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zw:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Fw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Bw:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}E=null,T=null,A=null,I=null,_=j,C=Ft}return}Me=Me||pe,Ge=Ge||oe,ft=ft||ye,(pe!==w||Me!==P)&&(t.blendEquationSeparate($[pe],$[Me]),w=pe,P=Me),(oe!==E||ye!==T||Ge!==A||ft!==I)&&(t.blendFuncSeparate(he[oe],he[ye],he[Ge],he[ft]),E=oe,T=ye,A=Ge,I=ft),_=j,C=!1}function Ie(j,pe){j.side===ki?Ae(t.CULL_FACE):Pe(t.CULL_FACE);let oe=j.side===Nr;pe&&(oe=!oe),we(oe),j.blending===bl&&j.transparent===!1?_e(vs):_e(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.premultipliedAlpha),l.setFunc(j.depthFunc),l.setTest(j.depthTest),l.setMask(j.depthWrite),a.setMask(j.colorWrite);const ye=j.stencilWrite;u.setTest(ye),ye&&(u.setMask(j.stencilWriteMask),u.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),u.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),qe(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Pe(t.SAMPLE_ALPHA_TO_COVERAGE):Ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function we(j){O!==j&&(j?t.frontFace(t.CW):t.frontFace(t.CCW),O=j)}function He(j){j!==OF?(Pe(t.CULL_FACE),j!==B&&(j===Uw?t.cullFace(t.BACK):j===IF?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ae(t.CULL_FACE),B=j}function We(j){j!==ee&&(re&&t.lineWidth(j),ee=j)}function qe(j,pe,oe){j?(Pe(t.POLYGON_OFFSET_FILL),(V!==pe||F!==oe)&&(t.polygonOffset(pe,oe),V=pe,F=oe)):Ae(t.POLYGON_OFFSET_FILL)}function it(j){j?Pe(t.SCISSOR_TEST):Ae(t.SCISSOR_TEST)}function ht(j){j===void 0&&(j=t.TEXTURE0+J-1),K!==j&&(t.activeTexture(j),K=j)}function Xt(j,pe,oe){oe===void 0&&(K===null?oe=t.TEXTURE0+J-1:oe=K);let ye=W[oe];ye===void 0&&(ye={type:void 0,texture:void 0},W[oe]=ye),(ye.type!==j||ye.texture!==pe)&&(K!==oe&&(t.activeTexture(oe),K=oe),t.bindTexture(j,pe||ce[j]),ye.type=j,ye.texture=pe)}function Y(){const j=W[K];j!==void 0&&j.type!==void 0&&(t.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function k(){try{t.compressedTexImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ve(){try{t.compressedTexImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ne(){try{t.texSubImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function De(){try{t.texSubImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Be(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function tt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ve(){try{t.texStorage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function be(){try{t.texStorage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ot(){try{t.texImage2D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function at(){try{t.texImage3D.apply(t,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ce(j){te.equals(j)===!1&&(t.scissor(j.x,j.y,j.z,j.w),te.copy(j))}function q(j){D.equals(j)===!1&&(t.viewport(j.x,j.y,j.z,j.w),D.copy(j))}function Q(j,pe){let oe=h.get(pe);oe===void 0&&(oe=new WeakMap,h.set(pe,oe));let ye=oe.get(j);ye===void 0&&(ye=t.getUniformBlockIndex(pe,j.name),oe.set(j,ye))}function me(j,pe){const ye=h.get(pe).get(j);d.get(pe)!==ye&&(t.uniformBlockBinding(pe,ye,j.__bindingPointIndex),d.set(pe,ye))}function Oe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},K=null,W={},m={},y=new WeakMap,x=[],S=null,g=!1,_=null,w=null,E=null,T=null,P=null,A=null,I=null,C=!1,O=null,B=null,ee=null,V=null,F=null,te.set(0,0,t.canvas.width,t.canvas.height),D.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Pe,disable:Ae,bindFramebuffer:Re,drawBuffers:ze,useProgram:Ue,setBlending:_e,setMaterial:Ie,setFlipSided:we,setCullFace:He,setLineWidth:We,setPolygonOffset:qe,setScissorTest:it,activeTexture:ht,bindTexture:Xt,unbindTexture:Y,compressedTexImage2D:k,compressedTexImage3D:ve,texImage2D:ot,texImage3D:at,updateUBOMapping:Q,uniformBlockBinding:me,texStorage2D:Ve,texStorage3D:be,texSubImage2D:Ne,texSubImage3D:De,compressedTexSubImage2D:Be,compressedTexSubImage3D:tt,scissor:Ce,viewport:q,reset:Oe}}function dde(t,e,n,r,i,o,s){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let x;const S=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Y,k){return g?new OffscreenCanvas(Y,k):hh("canvas")}function w(Y,k,ve,Ne){let De=1;if((Y.width>Ne||Y.height>Ne)&&(De=Ne/Math.max(Y.width,Y.height)),De<1||k===!0)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap){const Be=k?I0:Math.floor,tt=Be(De*Y.width),Ve=Be(De*Y.height);x===void 0&&(x=_(tt,Ve));const be=ve?_(tt,Ve):x;return be.width=tt,be.height=Ve,be.getContext("2d").drawImage(Y,0,0,tt,Ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+tt+"x"+Ve+")."),be}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Y.width+"x"+Y.height+")."),Y;return Y}function E(Y){return hb(Y.width)&&hb(Y.height)}function T(Y){return a?!1:Y.wrapS!==Er||Y.wrapT!==Er||Y.minFilter!==Nn&&Y.minFilter!==Sn}function P(Y,k){return Y.generateMipmaps&&k&&Y.minFilter!==Nn&&Y.minFilter!==Sn}function A(Y){t.generateMipmap(Y)}function I(Y,k,ve,Ne,De=!1){if(a===!1)return k;if(Y!==null){if(t[Y]!==void 0)return t[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let Be=k;return k===t.RED&&(ve===t.FLOAT&&(Be=t.R32F),ve===t.HALF_FLOAT&&(Be=t.R16F),ve===t.UNSIGNED_BYTE&&(Be=t.R8)),k===t.RG&&(ve===t.FLOAT&&(Be=t.RG32F),ve===t.HALF_FLOAT&&(Be=t.RG16F),ve===t.UNSIGNED_BYTE&&(Be=t.RG8)),k===t.RGBA&&(ve===t.FLOAT&&(Be=t.RGBA32F),ve===t.HALF_FLOAT&&(Be=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Be=Ne===bt&&De===!1?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Be=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Be=t.RGB5_A1)),(Be===t.R16F||Be===t.R32F||Be===t.RG16F||Be===t.RG32F||Be===t.RGBA16F||Be===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function C(Y,k,ve){return P(Y,ve)===!0||Y.isFramebufferTexture&&Y.minFilter!==Nn&&Y.minFilter!==Sn?Math.log2(Math.max(k.width,k.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?k.mipmaps.length:1}function O(Y){return Y===Nn||Y===L0||Y===Ld?t.NEAREST:t.LINEAR}function B(Y){const k=Y.target;k.removeEventListener("dispose",B),V(k),k.isVideoTexture&&y.delete(k)}function ee(Y){const k=Y.target;k.removeEventListener("dispose",ee),J(k)}function V(Y){const k=r.get(Y);if(k.__webglInit===void 0)return;const ve=Y.source,Ne=S.get(ve);if(Ne){const De=Ne[k.__cacheKey];De.usedTimes--,De.usedTimes===0&&F(Y),Object.keys(Ne).length===0&&S.delete(ve)}r.remove(Y)}function F(Y){const k=r.get(Y);t.deleteTexture(k.__webglTexture);const ve=Y.source,Ne=S.get(ve);delete Ne[k.__cacheKey],s.memory.textures--}function J(Y){const k=Y.texture,ve=r.get(Y),Ne=r.get(k);if(Ne.__webglTexture!==void 0&&(t.deleteTexture(Ne.__webglTexture),s.memory.textures--),Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let De=0;De<6;De++)t.deleteFramebuffer(ve.__webglFramebuffer[De]),ve.__webglDepthbuffer&&t.deleteRenderbuffer(ve.__webglDepthbuffer[De]);else{if(t.deleteFramebuffer(ve.__webglFramebuffer),ve.__webglDepthbuffer&&t.deleteRenderbuffer(ve.__webglDepthbuffer),ve.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ve.__webglMultisampledFramebuffer),ve.__webglColorRenderbuffer)for(let De=0;De<ve.__webglColorRenderbuffer.length;De++)ve.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(ve.__webglColorRenderbuffer[De]);ve.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ve.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let De=0,Be=k.length;De<Be;De++){const tt=r.get(k[De]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),s.memory.textures--),r.remove(k[De])}r.remove(k),r.remove(Y)}let re=0;function ne(){re=0}function U(){const Y=re;return Y>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+l),re+=1,Y}function K(Y){const k=[];return k.push(Y.wrapS),k.push(Y.wrapT),k.push(Y.wrapR||0),k.push(Y.magFilter),k.push(Y.minFilter),k.push(Y.anisotropy),k.push(Y.internalFormat),k.push(Y.format),k.push(Y.type),k.push(Y.generateMipmaps),k.push(Y.premultiplyAlpha),k.push(Y.flipY),k.push(Y.unpackAlignment),k.push(Y.colorSpace),k.join()}function W(Y,k){const ve=r.get(Y);if(Y.isVideoTexture&&ht(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&ve.__version!==Y.version){const Ne=Y.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(ve,Y,k);return}}n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+k)}function G(Y,k){const ve=r.get(Y);if(Y.version>0&&ve.__version!==Y.version){Re(ve,Y,k);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+k)}function N(Y,k){const ve=r.get(Y);if(Y.version>0&&ve.__version!==Y.version){Re(ve,Y,k);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+k)}function te(Y,k){const ve=r.get(Y);if(Y.version>0&&ve.__version!==Y.version){ze(ve,Y,k);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+k)}const D={[sh]:t.REPEAT,[Er]:t.CLAMP_TO_EDGE,[ah]:t.MIRRORED_REPEAT},ue={[Nn]:t.NEAREST,[L0]:t.NEAREST_MIPMAP_NEAREST,[Ld]:t.NEAREST_MIPMAP_LINEAR,[Sn]:t.LINEAR,[_M]:t.LINEAR_MIPMAP_NEAREST,[Aa]:t.LINEAR_MIPMAP_LINEAR},ce={[w4]:t.NEVER,[R4]:t.ALWAYS,[b4]:t.LESS,[M4]:t.LEQUAL,[E4]:t.EQUAL,[A4]:t.GEQUAL,[T4]:t.GREATER,[P4]:t.NOTEQUAL};function Pe(Y,k,ve){if(ve?(t.texParameteri(Y,t.TEXTURE_WRAP_S,D[k.wrapS]),t.texParameteri(Y,t.TEXTURE_WRAP_T,D[k.wrapT]),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,D[k.wrapR]),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,ue[k.magFilter]),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,ue[k.minFilter])):(t.texParameteri(Y,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Y,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(k.wrapS!==Er||k.wrapT!==Er)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,O(k.magFilter)),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,O(k.minFilter)),k.minFilter!==Nn&&k.minFilter!==Sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),k.compareFunction&&(t.texParameteri(Y,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Y,t.TEXTURE_COMPARE_FUNC,ce[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===Nn||k.minFilter!==Ld&&k.minFilter!==Aa||k.type===io&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===Ul&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(t.texParameterf(Y,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function Ae(Y,k){let ve=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,k.addEventListener("dispose",B));const Ne=k.source;let De=S.get(Ne);De===void 0&&(De={},S.set(Ne,De));const Be=K(k);if(Be!==Y.__cacheKey){De[Be]===void 0&&(De[Be]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ve=!0),De[Be].usedTimes++;const tt=De[Y.__cacheKey];tt!==void 0&&(De[Y.__cacheKey].usedTimes--,tt.usedTimes===0&&F(k)),Y.__cacheKey=Be,Y.__webglTexture=De[Be].texture}return ve}function Re(Y,k,ve){let Ne=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Ne=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Ne=t.TEXTURE_3D);const De=Ae(Y,k),Be=k.source;n.bindTexture(Ne,Y.__webglTexture,t.TEXTURE0+ve);const tt=r.get(Be);if(Be.version!==tt.__version||De===!0){n.activeTexture(t.TEXTURE0+ve),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ve=T(k)&&E(k.image)===!1;let be=w(k.image,Ve,!1,d);be=Xt(k,be);const ot=E(be)||a,at=o.convert(k.format,k.colorSpace);let Ce=o.convert(k.type),q=I(k.internalFormat,at,Ce,k.colorSpace);Pe(Ne,k,ot);let Q;const me=k.mipmaps,Oe=a&&k.isVideoTexture!==!0,j=tt.__version===void 0||De===!0,pe=C(k,be,ot);if(k.isDepthTexture)q=t.DEPTH_COMPONENT,a?k.type===io?q=t.DEPTH_COMPONENT32F:k.type===ps?q=t.DEPTH_COMPONENT24:k.type===_a?q=t.DEPTH24_STENCIL8:q=t.DEPTH_COMPONENT16:k.type===io&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===xa&&q===t.DEPTH_COMPONENT&&k.type!==Zy&&k.type!==ps&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=ps,Ce=o.convert(k.type)),k.format===zl&&q===t.DEPTH_COMPONENT&&(q=t.DEPTH_STENCIL,k.type!==_a&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=_a,Ce=o.convert(k.type))),j&&(Oe?n.texStorage2D(t.TEXTURE_2D,1,q,be.width,be.height):n.texImage2D(t.TEXTURE_2D,0,q,be.width,be.height,0,at,Ce,null));else if(k.isDataTexture)if(me.length>0&&ot){Oe&&j&&n.texStorage2D(t.TEXTURE_2D,pe,q,me[0].width,me[0].height);for(let oe=0,ye=me.length;oe<ye;oe++)Q=me[oe],Oe?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,Q.width,Q.height,at,Ce,Q.data):n.texImage2D(t.TEXTURE_2D,oe,q,Q.width,Q.height,0,at,Ce,Q.data);k.generateMipmaps=!1}else Oe?(j&&n.texStorage2D(t.TEXTURE_2D,pe,q,be.width,be.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,be.width,be.height,at,Ce,be.data)):n.texImage2D(t.TEXTURE_2D,0,q,be.width,be.height,0,at,Ce,be.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Oe&&j&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pe,q,me[0].width,me[0].height,be.depth);for(let oe=0,ye=me.length;oe<ye;oe++)Q=me[oe],k.format!==jr?at!==null?Oe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,oe,0,0,0,Q.width,Q.height,be.depth,at,Q.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,oe,q,Q.width,Q.height,be.depth,0,Q.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,oe,0,0,0,Q.width,Q.height,be.depth,at,Ce,Q.data):n.texImage3D(t.TEXTURE_2D_ARRAY,oe,q,Q.width,Q.height,be.depth,0,at,Ce,Q.data)}else{Oe&&j&&n.texStorage2D(t.TEXTURE_2D,pe,q,me[0].width,me[0].height);for(let oe=0,ye=me.length;oe<ye;oe++)Q=me[oe],k.format!==jr?at!==null?Oe?n.compressedTexSubImage2D(t.TEXTURE_2D,oe,0,0,Q.width,Q.height,at,Q.data):n.compressedTexImage2D(t.TEXTURE_2D,oe,q,Q.width,Q.height,0,Q.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,Q.width,Q.height,at,Ce,Q.data):n.texImage2D(t.TEXTURE_2D,oe,q,Q.width,Q.height,0,at,Ce,Q.data)}else if(k.isDataArrayTexture)Oe?(j&&n.texStorage3D(t.TEXTURE_2D_ARRAY,pe,q,be.width,be.height,be.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,be.width,be.height,be.depth,at,Ce,be.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,q,be.width,be.height,be.depth,0,at,Ce,be.data);else if(k.isData3DTexture)Oe?(j&&n.texStorage3D(t.TEXTURE_3D,pe,q,be.width,be.height,be.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,be.width,be.height,be.depth,at,Ce,be.data)):n.texImage3D(t.TEXTURE_3D,0,q,be.width,be.height,be.depth,0,at,Ce,be.data);else if(k.isFramebufferTexture){if(j)if(Oe)n.texStorage2D(t.TEXTURE_2D,pe,q,be.width,be.height);else{let oe=be.width,ye=be.height;for(let Me=0;Me<pe;Me++)n.texImage2D(t.TEXTURE_2D,Me,q,oe,ye,0,at,Ce,null),oe>>=1,ye>>=1}}else if(me.length>0&&ot){Oe&&j&&n.texStorage2D(t.TEXTURE_2D,pe,q,me[0].width,me[0].height);for(let oe=0,ye=me.length;oe<ye;oe++)Q=me[oe],Oe?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,at,Ce,Q):n.texImage2D(t.TEXTURE_2D,oe,q,at,Ce,Q);k.generateMipmaps=!1}else Oe?(j&&n.texStorage2D(t.TEXTURE_2D,pe,q,be.width,be.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,Ce,be)):n.texImage2D(t.TEXTURE_2D,0,q,at,Ce,be);P(k,ot)&&A(Ne),tt.__version=Be.version,k.onUpdate&&k.onUpdate(k)}Y.__version=k.version}function ze(Y,k,ve){if(k.image.length!==6)return;const Ne=Ae(Y,k),De=k.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture,t.TEXTURE0+ve);const Be=r.get(De);if(De.version!==Be.__version||Ne===!0){n.activeTexture(t.TEXTURE0+ve),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const tt=k.isCompressedTexture||k.image[0].isCompressedTexture,Ve=k.image[0]&&k.image[0].isDataTexture,be=[];for(let oe=0;oe<6;oe++)!tt&&!Ve?be[oe]=w(k.image[oe],!1,!0,u):be[oe]=Ve?k.image[oe].image:k.image[oe],be[oe]=Xt(k,be[oe]);const ot=be[0],at=E(ot)||a,Ce=o.convert(k.format,k.colorSpace),q=o.convert(k.type),Q=I(k.internalFormat,Ce,q,k.colorSpace),me=a&&k.isVideoTexture!==!0,Oe=Be.__version===void 0||Ne===!0;let j=C(k,ot,at);Pe(t.TEXTURE_CUBE_MAP,k,at);let pe;if(tt){me&&Oe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,j,Q,ot.width,ot.height);for(let oe=0;oe<6;oe++){pe=be[oe].mipmaps;for(let ye=0;ye<pe.length;ye++){const Me=pe[ye];k.format!==jr?Ce!==null?me?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye,0,0,Me.width,Me.height,Ce,Me.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye,Q,Me.width,Me.height,0,Me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye,0,0,Me.width,Me.height,Ce,q,Me.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye,Q,Me.width,Me.height,0,Ce,q,Me.data)}}}else{pe=k.mipmaps,me&&Oe&&(pe.length>0&&j++,n.texStorage2D(t.TEXTURE_CUBE_MAP,j,Q,be[0].width,be[0].height));for(let oe=0;oe<6;oe++)if(Ve){me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,be[oe].width,be[oe].height,Ce,q,be[oe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Q,be[oe].width,be[oe].height,0,Ce,q,be[oe].data);for(let ye=0;ye<pe.length;ye++){const Ge=pe[ye].image[oe].image;me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye+1,0,0,Ge.width,Ge.height,Ce,q,Ge.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye+1,Q,Ge.width,Ge.height,0,Ce,q,Ge.data)}}else{me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Ce,q,be[oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Q,Ce,q,be[oe]);for(let ye=0;ye<pe.length;ye++){const Me=pe[ye];me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye+1,0,0,Ce,q,Me.image[oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ye+1,Q,Ce,q,Me.image[oe])}}}P(k,at)&&A(t.TEXTURE_CUBE_MAP),Be.__version=De.version,k.onUpdate&&k.onUpdate(k)}Y.__version=k.version}function Ue(Y,k,ve,Ne,De){const Be=o.convert(ve.format,ve.colorSpace),tt=o.convert(ve.type),Ve=I(ve.internalFormat,Be,tt,ve.colorSpace);r.get(k).__hasExternalTextures||(De===t.TEXTURE_3D||De===t.TEXTURE_2D_ARRAY?n.texImage3D(De,0,Ve,k.width,k.height,k.depth,0,Be,tt,null):n.texImage2D(De,0,Ve,k.width,k.height,0,Be,tt,null)),n.bindFramebuffer(t.FRAMEBUFFER,Y),it(k)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ne,De,r.get(ve).__webglTexture,0,qe(k)):(De===t.TEXTURE_2D||De>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&De<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ne,De,r.get(ve).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function $(Y,k,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,Y),k.depthBuffer&&!k.stencilBuffer){let Ne=t.DEPTH_COMPONENT16;if(ve||it(k)){const De=k.depthTexture;De&&De.isDepthTexture&&(De.type===io?Ne=t.DEPTH_COMPONENT32F:De.type===ps&&(Ne=t.DEPTH_COMPONENT24));const Be=qe(k);it(k)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,Ne,k.width,k.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,Ne,k.width,k.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ne,k.width,k.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Y)}else if(k.depthBuffer&&k.stencilBuffer){const Ne=qe(k);ve&&it(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ne,t.DEPTH24_STENCIL8,k.width,k.height):it(k)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ne,t.DEPTH24_STENCIL8,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Y)}else{const Ne=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let De=0;De<Ne.length;De++){const Be=Ne[De],tt=o.convert(Be.format,Be.colorSpace),Ve=o.convert(Be.type),be=I(Be.internalFormat,tt,Ve,Be.colorSpace),ot=qe(k);ve&&it(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ot,be,k.width,k.height):it(k)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ot,be,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,be,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function he(Y,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Y),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),W(k.depthTexture,0);const Ne=r.get(k.depthTexture).__webglTexture,De=qe(k);if(k.depthTexture.format===xa)it(k)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0);else if(k.depthTexture.format===zl)it(k)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function _e(Y){const k=r.get(Y),ve=Y.isWebGLCubeRenderTarget===!0;if(Y.depthTexture&&!k.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");he(k.__webglFramebuffer,Y)}else if(ve){k.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[Ne]),k.__webglDepthbuffer[Ne]=t.createRenderbuffer(),$(k.__webglDepthbuffer[Ne],Y,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),$(k.__webglDepthbuffer,Y,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(Y,k,ve){const Ne=r.get(Y);k!==void 0&&Ue(Ne.__webglFramebuffer,Y,Y.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),ve!==void 0&&_e(Y)}function we(Y){const k=Y.texture,ve=r.get(Y),Ne=r.get(k);Y.addEventListener("dispose",ee),Y.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture()),Ne.__version=k.version,s.memory.textures++);const De=Y.isWebGLCubeRenderTarget===!0,Be=Y.isWebGLMultipleRenderTargets===!0,tt=E(Y)||a;if(De){ve.__webglFramebuffer=[];for(let Ve=0;Ve<6;Ve++)ve.__webglFramebuffer[Ve]=t.createFramebuffer()}else{if(ve.__webglFramebuffer=t.createFramebuffer(),Be)if(i.drawBuffers){const Ve=Y.texture;for(let be=0,ot=Ve.length;be<ot;be++){const at=r.get(Ve[be]);at.__webglTexture===void 0&&(at.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Y.samples>0&&it(Y)===!1){const Ve=Be?k:[k];ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let be=0;be<Ve.length;be++){const ot=Ve[be];ve.__webglColorRenderbuffer[be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[be]);const at=o.convert(ot.format,ot.colorSpace),Ce=o.convert(ot.type),q=I(ot.internalFormat,at,Ce,ot.colorSpace,Y.isXRRenderTarget===!0),Q=qe(Y);t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,q,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,ve.__webglColorRenderbuffer[be])}t.bindRenderbuffer(t.RENDERBUFFER,null),Y.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),$(ve.__webglDepthRenderbuffer,Y,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(De){n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture),Pe(t.TEXTURE_CUBE_MAP,k,tt);for(let Ve=0;Ve<6;Ve++)Ue(ve.__webglFramebuffer[Ve],Y,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve);P(k,tt)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Be){const Ve=Y.texture;for(let be=0,ot=Ve.length;be<ot;be++){const at=Ve[be],Ce=r.get(at);n.bindTexture(t.TEXTURE_2D,Ce.__webglTexture),Pe(t.TEXTURE_2D,at,tt),Ue(ve.__webglFramebuffer,Y,at,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D),P(at,tt)&&A(t.TEXTURE_2D)}n.unbindTexture()}else{let Ve=t.TEXTURE_2D;(Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(a?Ve=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ve,Ne.__webglTexture),Pe(Ve,k,tt),Ue(ve.__webglFramebuffer,Y,k,t.COLOR_ATTACHMENT0,Ve),P(k,tt)&&A(Ve),n.unbindTexture()}Y.depthBuffer&&_e(Y)}function He(Y){const k=E(Y)||a,ve=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let Ne=0,De=ve.length;Ne<De;Ne++){const Be=ve[Ne];if(P(Be,k)){const tt=Y.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ve=r.get(Be).__webglTexture;n.bindTexture(tt,Ve),A(tt),n.unbindTexture()}}}function We(Y){if(a&&Y.samples>0&&it(Y)===!1){const k=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture],ve=Y.width,Ne=Y.height;let De=t.COLOR_BUFFER_BIT;const Be=[],tt=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ve=r.get(Y),be=Y.isWebGLMultipleRenderTargets===!0;if(be)for(let ot=0;ot<k.length;ot++)n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ot,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ot,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ve.__webglFramebuffer);for(let ot=0;ot<k.length;ot++){Be.push(t.COLOR_ATTACHMENT0+ot),Y.depthBuffer&&Be.push(tt);const at=Ve.__ignoreDepthValues!==void 0?Ve.__ignoreDepthValues:!1;if(at===!1&&(Y.depthBuffer&&(De|=t.DEPTH_BUFFER_BIT),Y.stencilBuffer&&(De|=t.STENCIL_BUFFER_BIT)),be&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ve.__webglColorRenderbuffer[ot]),at===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[tt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[tt])),be){const Ce=r.get(k[ot]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ce,0)}t.blitFramebuffer(0,0,ve,Ne,0,0,ve,Ne,De,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Be)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),be)for(let ot=0;ot<k.length;ot++){n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ot,t.RENDERBUFFER,Ve.__webglColorRenderbuffer[ot]);const at=r.get(k[ot]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ot,t.TEXTURE_2D,at,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer)}}function qe(Y){return Math.min(h,Y.samples)}function it(Y){const k=r.get(Y);return a&&Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function ht(Y){const k=s.render.frame;y.get(Y)!==k&&(y.set(Y,k),Y.update())}function Xt(Y,k){const ve=Y.colorSpace,Ne=Y.format,De=Y.type;return Y.isCompressedTexture===!0||Y.format===O0||ve!==fo&&ve!==wa&&(ve===bt?a===!1?e.has("EXT_sRGB")===!0&&Ne===jr?(Y.format=O0,Y.minFilter=Sn,Y.generateMipmaps=!1):k=CM.sRGBToLinear(k):(Ne!==jr||De!==Bo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),k}this.allocateTextureUnit=U,this.resetTextureUnits=ne,this.setTexture2D=W,this.setTexture2DArray=G,this.setTexture3D=N,this.setTextureCube=te,this.rebindTextures=Ie,this.setupRenderTarget=we,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=it}function $4(t,e,n){const r=n.isWebGL2;function i(o,s=wa){let a;if(o===Bo)return t.UNSIGNED_BYTE;if(o===SM)return t.UNSIGNED_SHORT_4_4_4_4;if(o===wM)return t.UNSIGNED_SHORT_5_5_5_1;if(o===s4)return t.BYTE;if(o===a4)return t.SHORT;if(o===Zy)return t.UNSIGNED_SHORT;if(o===xM)return t.INT;if(o===ps)return t.UNSIGNED_INT;if(o===io)return t.FLOAT;if(o===Ul)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===l4)return t.ALPHA;if(o===jr)return t.RGBA;if(o===c4)return t.LUMINANCE;if(o===u4)return t.LUMINANCE_ALPHA;if(o===xa)return t.DEPTH_COMPONENT;if(o===zl)return t.DEPTH_STENCIL;if(o===O0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===f4)return t.RED;if(o===bM)return t.RED_INTEGER;if(o===d4)return t.RG;if(o===EM)return t.RG_INTEGER;if(o===MM)return t.RGBA_INTEGER;if(o===Hg||o===Wg||o===Gg||o===jg)if(s===bt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===Hg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===Wg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Gg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===jg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===Hg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Wg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Gg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===jg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Hw||o===Ww||o===Gw||o===jw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===Hw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Ww)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Gw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===jw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===h4)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Xw||o===Yw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===Xw)return s===bt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===Yw)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===qw||o===Zw||o===Qw||o===Kw||o===Jw||o===eb||o===tb||o===nb||o===rb||o===ib||o===ob||o===sb||o===ab||o===lb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===qw)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Zw)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===Qw)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Kw)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Jw)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===eb)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===tb)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===nb)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===rb)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===ib)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===ob)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===sb)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===ab)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===lb)return s===bt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===Xg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===Xg)return s===bt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===p4||o===cb||o===ub||o===fb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(o===Xg)return a.COMPRESSED_RED_RGTC1_EXT;if(o===cb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===ub)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===fb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===_a?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class H4 extends tr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ou extends Ut{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hde={type:"move"};class jS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ou,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ou,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ou,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const x of e.hand.values()){const S=n.getJointPose(x,r),g=this._getHandJoint(u,x);S!==null&&(g.matrix.fromArray(S.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=S.radius),g.visible=S!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(hde)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ou;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class UM extends Ln{constructor(e,n,r,i,o,s,a,l,u,d){if(d=d!==void 0?d:xa,d!==xa&&d!==zl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===xa&&(r=ps),r===void 0&&d===zl&&(r=_a),super(null,i,o,s,a,l,d,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Nn,this.minFilter=l!==void 0?l:Nn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class pde extends Ls{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,u=null,d=null,h=null,p=null,m=null,y=null;const x=n.getContextAttributes();let S=null,g=null;const _=[],w=[],E=new tr;E.layers.enable(1),E.viewport=new Kt;const T=new tr;T.layers.enable(2),T.viewport=new Kt;const P=[E,T],A=new H4;A.layers.enable(1),A.layers.enable(2);let I=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let N=_[G];return N===void 0&&(N=new jS,_[G]=N),N.getTargetRaySpace()},this.getControllerGrip=function(G){let N=_[G];return N===void 0&&(N=new jS,_[G]=N),N.getGripSpace()},this.getHand=function(G){let N=_[G];return N===void 0&&(N=new jS,_[G]=N),N.getHandSpace()};function O(G){const N=w.indexOf(G.inputSource);if(N===-1)return;const te=_[N];te!==void 0&&(te.update(G.inputSource,G.frame,u||s),te.dispatchEvent({type:G.type,data:G.inputSource}))}function B(){i.removeEventListener("select",O),i.removeEventListener("selectstart",O),i.removeEventListener("selectend",O),i.removeEventListener("squeeze",O),i.removeEventListener("squeezestart",O),i.removeEventListener("squeezeend",O),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",ee);for(let G=0;G<_.length;G++){const N=w[G];N!==null&&(w[G]=null,_[G].disconnect(N))}I=null,C=null,e.setRenderTarget(S),m=null,p=null,h=null,i=null,g=null,W.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){o=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(G){u=G},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(S=e.getRenderTarget(),i.addEventListener("select",O),i.addEventListener("selectstart",O),i.addEventListener("selectend",O),i.addEventListener("squeeze",O),i.addEventListener("squeezestart",O),i.addEventListener("squeezeend",O),i.addEventListener("end",B),i.addEventListener("inputsourceschange",ee),x.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const N={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,n,N),i.updateRenderState({baseLayer:m}),g=new $i(m.framebufferWidth,m.framebufferHeight,{format:jr,type:Bo,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let N=null,te=null,D=null;x.depth&&(D=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,N=x.stencil?zl:xa,te=x.stencil?_a:ps);const ue={colorFormat:n.RGBA8,depthFormat:D,scaleFactor:o};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(ue),i.updateRenderState({layers:[p]}),g=new $i(p.textureWidth,p.textureHeight,{format:jr,type:Bo,depthTexture:new UM(p.textureWidth,p.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,N),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const ce=e.properties.get(g);ce.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await i.requestReferenceSpace(a),W.setContext(i),W.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function ee(G){for(let N=0;N<G.removed.length;N++){const te=G.removed[N],D=w.indexOf(te);D>=0&&(w[D]=null,_[D].disconnect(te))}for(let N=0;N<G.added.length;N++){const te=G.added[N];let D=w.indexOf(te);if(D===-1){for(let ce=0;ce<_.length;ce++)if(ce>=w.length){w.push(te),D=ce;break}else if(w[ce]===null){w[ce]=te,D=ce;break}if(D===-1)break}const ue=_[D];ue&&ue.connect(te)}}const V=new z,F=new z;function J(G,N,te){V.setFromMatrixPosition(N.matrixWorld),F.setFromMatrixPosition(te.matrixWorld);const D=V.distanceTo(F),ue=N.projectionMatrix.elements,ce=te.projectionMatrix.elements,Pe=ue[14]/(ue[10]-1),Ae=ue[14]/(ue[10]+1),Re=(ue[9]+1)/ue[5],ze=(ue[9]-1)/ue[5],Ue=(ue[8]-1)/ue[0],$=(ce[8]+1)/ce[0],he=Pe*Ue,_e=Pe*$,Ie=D/(-Ue+$),we=Ie*-Ue;N.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(we),G.translateZ(Ie),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const He=Pe+Ie,We=Ae+Ie,qe=he-we,it=_e+(D-we),ht=Re*Ae/We*He,Xt=ze*Ae/We*He;G.projectionMatrix.makePerspective(qe,it,ht,Xt,He,We),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}function re(G,N){N===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(N.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;A.near=T.near=E.near=G.near,A.far=T.far=E.far=G.far,(I!==A.near||C!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),I=A.near,C=A.far);const N=G.parent,te=A.cameras;re(A,N);for(let D=0;D<te.length;D++)re(te[D],N);te.length===2?J(A,E,T):A.projectionMatrix.copy(E.projectionMatrix),ne(G,A,N)};function ne(G,N,te){te===null?G.matrix.copy(N.matrixWorld):(G.matrix.copy(te.matrixWorld),G.matrix.invert(),G.matrix.multiply(N.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0);const D=G.children;for(let ue=0,ce=D.length;ue<ce;ue++)D[ue].updateMatrixWorld(!0);G.projectionMatrix.copy(N.projectionMatrix),G.projectionMatrixInverse.copy(N.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=Fu*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(G){l=G,p!==null&&(p.fixedFoveation=G),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=G)};let U=null;function K(G,N){if(d=N.getViewerPose(u||s),y=N,d!==null){const te=d.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let D=!1;te.length!==A.cameras.length&&(A.cameras.length=0,D=!0);for(let ue=0;ue<te.length;ue++){const ce=te[ue];let Pe=null;if(m!==null)Pe=m.getViewport(ce);else{const Re=h.getViewSubImage(p,ce);Pe=Re.viewport,ue===0&&(e.setRenderTargetTextures(g,Re.colorTexture,p.ignoreDepthValues?void 0:Re.depthStencilTexture),e.setRenderTarget(g))}let Ae=P[ue];Ae===void 0&&(Ae=new tr,Ae.layers.enable(ue),Ae.viewport=new Kt,P[ue]=Ae),Ae.matrix.fromArray(ce.transform.matrix),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.projectionMatrix.fromArray(ce.projectionMatrix),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert(),Ae.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),ue===0&&(A.matrix.copy(Ae.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),D===!0&&A.cameras.push(Ae)}}for(let te=0;te<_.length;te++){const D=w[te],ue=_[te];D!==null&&ue!==void 0&&ue.update(D,N,u||s)}U&&U(G,N),N.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:N}),y=null}const W=new U4;W.setAnimationLoop(K),this.setAnimationLoop=function(G){U=G},this.dispose=function(){}}}function mde(t,e){function n(S,g){S.matrixAutoUpdate===!0&&S.updateMatrix(),g.value.copy(S.matrix)}function r(S,g){g.color.getRGB(S.fogColor.value,I4(t)),g.isFog?(S.fogNear.value=g.near,S.fogFar.value=g.far):g.isFogExp2&&(S.fogDensity.value=g.density)}function i(S,g,_,w,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(S,g):g.isMeshToonMaterial?(o(S,g),h(S,g)):g.isMeshPhongMaterial?(o(S,g),d(S,g)):g.isMeshStandardMaterial?(o(S,g),p(S,g),g.isMeshPhysicalMaterial&&m(S,g,E)):g.isMeshMatcapMaterial?(o(S,g),y(S,g)):g.isMeshDepthMaterial?o(S,g):g.isMeshDistanceMaterial?(o(S,g),x(S,g)):g.isMeshNormalMaterial?o(S,g):g.isLineBasicMaterial?(s(S,g),g.isLineDashedMaterial&&a(S,g)):g.isPointsMaterial?l(S,g,_,w):g.isSpriteMaterial?u(S,g):g.isShadowMaterial?(S.color.value.copy(g.color),S.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(S,g){S.opacity.value=g.opacity,g.color&&S.diffuse.value.copy(g.color),g.emissive&&S.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(S.map.value=g.map,n(g.map,S.mapTransform)),g.alphaMap&&(S.alphaMap.value=g.alphaMap,n(g.alphaMap,S.alphaMapTransform)),g.bumpMap&&(S.bumpMap.value=g.bumpMap,n(g.bumpMap,S.bumpMapTransform),S.bumpScale.value=g.bumpScale,g.side===Nr&&(S.bumpScale.value*=-1)),g.normalMap&&(S.normalMap.value=g.normalMap,n(g.normalMap,S.normalMapTransform),S.normalScale.value.copy(g.normalScale),g.side===Nr&&S.normalScale.value.negate()),g.displacementMap&&(S.displacementMap.value=g.displacementMap,n(g.displacementMap,S.displacementMapTransform),S.displacementScale.value=g.displacementScale,S.displacementBias.value=g.displacementBias),g.emissiveMap&&(S.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,S.emissiveMapTransform)),g.specularMap&&(S.specularMap.value=g.specularMap,n(g.specularMap,S.specularMapTransform)),g.alphaTest>0&&(S.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(S.envMap.value=_,S.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=g.reflectivity,S.ior.value=g.ior,S.refractionRatio.value=g.refractionRatio),g.lightMap){S.lightMap.value=g.lightMap;const w=t.useLegacyLights===!0?Math.PI:1;S.lightMapIntensity.value=g.lightMapIntensity*w,n(g.lightMap,S.lightMapTransform)}g.aoMap&&(S.aoMap.value=g.aoMap,S.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,S.aoMapTransform))}function s(S,g){S.diffuse.value.copy(g.color),S.opacity.value=g.opacity,g.map&&(S.map.value=g.map,n(g.map,S.mapTransform))}function a(S,g){S.dashSize.value=g.dashSize,S.totalSize.value=g.dashSize+g.gapSize,S.scale.value=g.scale}function l(S,g,_,w){S.diffuse.value.copy(g.color),S.opacity.value=g.opacity,S.size.value=g.size*_,S.scale.value=w*.5,g.map&&(S.map.value=g.map,n(g.map,S.uvTransform)),g.alphaMap&&(S.alphaMap.value=g.alphaMap,n(g.alphaMap,S.alphaMapTransform)),g.alphaTest>0&&(S.alphaTest.value=g.alphaTest)}function u(S,g){S.diffuse.value.copy(g.color),S.opacity.value=g.opacity,S.rotation.value=g.rotation,g.map&&(S.map.value=g.map,n(g.map,S.mapTransform)),g.alphaMap&&(S.alphaMap.value=g.alphaMap,n(g.alphaMap,S.alphaMapTransform)),g.alphaTest>0&&(S.alphaTest.value=g.alphaTest)}function d(S,g){S.specular.value.copy(g.specular),S.shininess.value=Math.max(g.shininess,1e-4)}function h(S,g){g.gradientMap&&(S.gradientMap.value=g.gradientMap)}function p(S,g){S.metalness.value=g.metalness,g.metalnessMap&&(S.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,S.metalnessMapTransform)),S.roughness.value=g.roughness,g.roughnessMap&&(S.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,S.roughnessMapTransform)),e.get(g).envMap&&(S.envMapIntensity.value=g.envMapIntensity)}function m(S,g,_){S.ior.value=g.ior,g.sheen>0&&(S.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),S.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(S.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,S.sheenColorMapTransform)),g.sheenRoughnessMap&&(S.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,S.sheenRoughnessMapTransform))),g.clearcoat>0&&(S.clearcoat.value=g.clearcoat,S.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(S.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,S.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(S.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Nr&&S.clearcoatNormalScale.value.negate())),g.iridescence>0&&(S.iridescence.value=g.iridescence,S.iridescenceIOR.value=g.iridescenceIOR,S.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(S.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,S.iridescenceMapTransform)),g.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),g.transmission>0&&(S.transmission.value=g.transmission,S.transmissionSamplerMap.value=_.texture,S.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(S.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,S.transmissionMapTransform)),S.thickness.value=g.thickness,g.thicknessMap&&(S.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=g.attenuationDistance,S.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(S.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(S.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=g.specularIntensity,S.specularColor.value.copy(g.specularColor),g.specularColorMap&&(S.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,S.specularColorMapTransform)),g.specularIntensityMap&&(S.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,S.specularIntensityMapTransform))}function y(S,g){g.matcap&&(S.matcap.value=g.matcap)}function x(S,g){const _=e.get(g).light;S.referencePosition.value.setFromMatrixPosition(_.matrixWorld),S.nearDistance.value=_.shadow.camera.near,S.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function gde(t,e,n,r){let i={},o={},s=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,w){const E=w.program;r.uniformBlockBinding(_,E)}function u(_,w){let E=i[_.id];E===void 0&&(y(_),E=d(_),i[_.id]=E,_.addEventListener("dispose",S));const T=w.program;r.updateUBOMapping(_,T);const P=e.render.frame;o[_.id]!==P&&(p(_),o[_.id]=P)}function d(_){const w=h();_.__bindingPointIndex=w;const E=t.createBuffer(),T=_.__size,P=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,T,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,E),E}function h(){for(let _=0;_<a;_++)if(s.indexOf(_)===-1)return s.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const w=i[_.id],E=_.uniforms,T=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let P=0,A=E.length;P<A;P++){const I=E[P];if(m(I,P,T)===!0){const C=I.__offset,O=Array.isArray(I.value)?I.value:[I.value];let B=0;for(let ee=0;ee<O.length;ee++){const V=O[ee],F=x(V);typeof V=="number"?(I.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,C+B,I.__data)):V.isMatrix3?(I.__data[0]=V.elements[0],I.__data[1]=V.elements[1],I.__data[2]=V.elements[2],I.__data[3]=V.elements[0],I.__data[4]=V.elements[3],I.__data[5]=V.elements[4],I.__data[6]=V.elements[5],I.__data[7]=V.elements[0],I.__data[8]=V.elements[6],I.__data[9]=V.elements[7],I.__data[10]=V.elements[8],I.__data[11]=V.elements[0]):(V.toArray(I.__data,B),B+=F.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,C,I.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(_,w,E){const T=_.value;if(E[w]===void 0){if(typeof T=="number")E[w]=T;else{const P=Array.isArray(T)?T:[T],A=[];for(let I=0;I<P.length;I++)A.push(P[I].clone());E[w]=A}return!0}else if(typeof T=="number"){if(E[w]!==T)return E[w]=T,!0}else{const P=Array.isArray(E[w])?E[w]:[E[w]],A=Array.isArray(T)?T:[T];for(let I=0;I<P.length;I++){const C=P[I];if(C.equals(A[I])===!1)return C.copy(A[I]),!0}}return!1}function y(_){const w=_.uniforms;let E=0;const T=16;let P=0;for(let A=0,I=w.length;A<I;A++){const C=w[A],O={boundary:0,storage:0},B=Array.isArray(C.value)?C.value:[C.value];for(let ee=0,V=B.length;ee<V;ee++){const F=B[ee],J=x(F);O.boundary+=J.boundary,O.storage+=J.storage}if(C.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=E,A>0){P=E%T;const ee=T-P;P!==0&&ee-O.boundary<0&&(E+=T-P,C.__offset=E)}E+=O.storage}return P=E%T,P>0&&(E+=T-P),_.__size=E,_.__cache={},this}function x(_){const w={boundary:0,storage:0};return typeof _=="number"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function S(_){const w=_.target;w.removeEventListener("dispose",S);const E=s.indexOf(w.__bindingPointIndex);s.splice(E,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);s=[],i={},o={}}return{bind:l,update:u,dispose:g}}function vde(){const t=hh("canvas");return t.style.display="block",t}class zM{constructor(e={}){const{canvas:n=vde(),context:r=null,depth:i=!0,stencil:o=!0,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=s;const m=new Uint32Array(4),y=new Int32Array(4);let x=null,S=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=bt,this.useLegacyLights=!0,this.toneMapping=ao,this.toneMappingExposure=1;const w=this;let E=!1,T=0,P=0,A=null,I=-1,C=null;const O=new Kt,B=new Kt;let ee=null;const V=new Xe(0);let F=0,J=n.width,re=n.height,ne=1,U=null,K=null;const W=new Kt(0,0,J,re),G=new Kt(0,0,J,re);let N=!1;const te=new Jy;let D=!1,ue=!1,ce=null;const Pe=new yt,Ae=new Le,Re=new z,ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ue(){return A===null?ne:1}let $=r;function he(H,de){for(let Ee=0;Ee<H.length;Ee++){const le=H[Ee],Te=n.getContext(le,de);if(Te!==null)return Te}return null}try{const H={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Xy}`),n.addEventListener("webglcontextlost",pe,!1),n.addEventListener("webglcontextrestored",oe,!1),n.addEventListener("webglcontextcreationerror",ye,!1),$===null){const de=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&de.shift(),$=he(de,H),$===null)throw he(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&$ instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let _e,Ie,we,He,We,qe,it,ht,Xt,Y,k,ve,Ne,De,Be,tt,Ve,be,ot,at,Ce,q,Q,me;function Oe(){_e=new Oue($),Ie=new Tue($,_e,e),_e.init(Ie),q=new $4($,_e,Ie),we=new fde($,_e,Ie),He=new Due($),We=new Jfe,qe=new dde($,_e,we,We,Ie,q,He),it=new Aue(w),ht=new Lue(w),Xt=new Gae($,Ie),Q=new Eue($,_e,Xt,Ie),Y=new Iue($,Xt,He,Q),k=new Fue($,Y,Xt,He),ot=new zue($,Ie,qe),tt=new Pue(We),ve=new Kfe(w,it,ht,_e,Ie,Q,tt),Ne=new mde(w,We),De=new tde,Be=new ade(_e,Ie),be=new bue(w,it,ht,we,k,p,l),Ve=new ude(w,k,Ie),me=new gde($,He,Ie,we),at=new Mue($,_e,He,Ie),Ce=new Nue($,_e,He,Ie),He.programs=ve.programs,w.capabilities=Ie,w.extensions=_e,w.properties=We,w.renderLists=De,w.shadowMap=Ve,w.state=we,w.info=He}Oe();const j=new pde(w,$);this.xr=j,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const H=_e.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=_e.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(H){H!==void 0&&(ne=H,this.setSize(J,re,!1))},this.getSize=function(H){return H.set(J,re)},this.setSize=function(H,de,Ee=!0){if(j.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=H,re=de,n.width=Math.floor(H*ne),n.height=Math.floor(de*ne),Ee===!0&&(n.style.width=H+"px",n.style.height=de+"px"),this.setViewport(0,0,H,de)},this.getDrawingBufferSize=function(H){return H.set(J*ne,re*ne).floor()},this.setDrawingBufferSize=function(H,de,Ee){J=H,re=de,ne=Ee,n.width=Math.floor(H*Ee),n.height=Math.floor(de*Ee),this.setViewport(0,0,H,de)},this.getCurrentViewport=function(H){return H.copy(O)},this.getViewport=function(H){return H.copy(W)},this.setViewport=function(H,de,Ee,le){H.isVector4?W.set(H.x,H.y,H.z,H.w):W.set(H,de,Ee,le),we.viewport(O.copy(W).multiplyScalar(ne).floor())},this.getScissor=function(H){return H.copy(G)},this.setScissor=function(H,de,Ee,le){H.isVector4?G.set(H.x,H.y,H.z,H.w):G.set(H,de,Ee,le),we.scissor(B.copy(G).multiplyScalar(ne).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(H){we.setScissorTest(N=H)},this.setOpaqueSort=function(H){U=H},this.setTransparentSort=function(H){K=H},this.getClearColor=function(H){return H.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor.apply(be,arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha.apply(be,arguments)},this.clear=function(H=!0,de=!0,Ee=!0){let le=0;if(H){let Te=!1;if(A!==null){const Ke=A.texture.format;Te=Ke===MM||Ke===EM||Ke===bM}if(Te){const Ke=A.texture.type,lt=Ke===Bo||Ke===ps||Ke===Zy||Ke===_a||Ke===SM||Ke===wM,dt=be.getClearColor(),pt=be.getClearAlpha(),Ot=dt.r,mt=dt.g,gt=dt.b;lt?(m[0]=Ot,m[1]=mt,m[2]=gt,m[3]=pt,$.clearBufferuiv($.COLOR,0,m)):(y[0]=Ot,y[1]=mt,y[2]=gt,y[3]=pt,$.clearBufferiv($.COLOR,0,y))}else le|=$.COLOR_BUFFER_BIT}de&&(le|=$.DEPTH_BUFFER_BIT),Ee&&(le|=$.STENCIL_BUFFER_BIT),$.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",pe,!1),n.removeEventListener("webglcontextrestored",oe,!1),n.removeEventListener("webglcontextcreationerror",ye,!1),De.dispose(),Be.dispose(),We.dispose(),it.dispose(),ht.dispose(),k.dispose(),Q.dispose(),me.dispose(),ve.dispose(),j.dispose(),j.removeEventListener("sessionstart",kt),j.removeEventListener("sessionend",ln),ce&&(ce.dispose(),ce=null),hn.stop()};function pe(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const H=He.autoReset,de=Ve.enabled,Ee=Ve.autoUpdate,le=Ve.needsUpdate,Te=Ve.type;Oe(),He.autoReset=H,Ve.enabled=de,Ve.autoUpdate=Ee,Ve.needsUpdate=le,Ve.type=Te}function ye(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Me(H){const de=H.target;de.removeEventListener("dispose",Me),Ge(de)}function Ge(H){ft(H),We.remove(H)}function ft(H){const de=We.get(H).programs;de!==void 0&&(de.forEach(function(Ee){ve.releaseProgram(Ee)}),H.isShaderMaterial&&ve.releaseShaderCache(H))}this.renderBufferDirect=function(H,de,Ee,le,Te,Ke){de===null&&(de=ze);const lt=Te.isMesh&&Te.matrixWorld.determinant()<0,dt=E_(H,de,Ee,le,Te);we.setMaterial(le,lt);let pt=Ee.index,Ot=1;le.wireframe===!0&&(pt=Y.getWireframeAttribute(Ee),Ot=2);const mt=Ee.drawRange,gt=Ee.attributes.position;let sn=mt.start*Ot,cn=(mt.start+mt.count)*Ot;Ke!==null&&(sn=Math.max(sn,Ke.start*Ot),cn=Math.min(cn,(Ke.start+Ke.count)*Ot)),pt!==null?(sn=Math.max(sn,0),cn=Math.min(cn,pt.count)):gt!=null&&(sn=Math.max(sn,0),cn=Math.min(cn,gt.count));const ti=cn-sn;if(ti<0||ti===1/0)return;Q.setup(Te,le,dt,Ee,pt);let ni,tn=at;if(pt!==null&&(ni=Xt.get(pt),tn=Ce,tn.setIndex(ni)),Te.isMesh)le.wireframe===!0?(we.setLineWidth(le.wireframeLinewidth*Ue()),tn.setMode($.LINES)):tn.setMode($.TRIANGLES);else if(Te.isLine){let _t=le.linewidth;_t===void 0&&(_t=1),we.setLineWidth(_t*Ue()),Te.isLineSegments?tn.setMode($.LINES):Te.isLineLoop?tn.setMode($.LINE_LOOP):tn.setMode($.LINE_STRIP)}else Te.isPoints?tn.setMode($.POINTS):Te.isSprite&&tn.setMode($.TRIANGLES);if(Te.isInstancedMesh)tn.renderInstances(sn,ti,Te.count);else if(Ee.isInstancedBufferGeometry){const _t=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Qt=Math.min(Ee.instanceCount,_t);tn.renderInstances(sn,ti,Qt)}else tn.render(sn,ti)},this.compile=function(H,de){function Ee(le,Te,Ke){le.transparent===!0&&le.side===ki&&le.forceSinglePass===!1?(le.side=Nr,le.needsUpdate=!0,_o(le,Te,Ke),le.side=Es,le.needsUpdate=!0,_o(le,Te,Ke),le.side=ki):_o(le,Te,Ke)}S=Be.get(H),S.init(),_.push(S),H.traverseVisible(function(le){le.isLight&&le.layers.test(de.layers)&&(S.pushLight(le),le.castShadow&&S.pushShadow(le))}),S.setupLights(w.useLegacyLights),H.traverse(function(le){const Te=le.material;if(Te)if(Array.isArray(Te))for(let Ke=0;Ke<Te.length;Ke++){const lt=Te[Ke];Ee(lt,H,le)}else Ee(Te,H,le)}),_.pop(),S=null};let Ft=null;function $t(H){Ft&&Ft(H)}function kt(){hn.stop()}function ln(){hn.start()}const hn=new U4;hn.setAnimationLoop($t),typeof self<"u"&&hn.setContext(self),this.setAnimationLoop=function(H){Ft=H,j.setAnimationLoop(H),H===null?hn.stop():hn.start()},j.addEventListener("sessionstart",kt),j.addEventListener("sessionend",ln),this.render=function(H,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),j.enabled===!0&&j.isPresenting===!0&&(j.cameraAutoUpdate===!0&&j.updateCamera(de),de=j.getCamera()),H.isScene===!0&&H.onBeforeRender(w,H,de,A),S=Be.get(H,_.length),S.init(),_.push(S),Pe.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),te.setFromProjectionMatrix(Pe),ue=this.localClippingEnabled,D=tt.init(this.clippingPlanes,ue),x=De.get(H,g.length),x.init(),g.push(x),Yo(H,de,0,w.sortObjects),x.finish(),w.sortObjects===!0&&x.sort(U,K),this.info.render.frame++,D===!0&&tt.beginShadows();const Ee=S.state.shadowsArray;if(Ve.render(Ee,H,de),D===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset(),be.render(x,H),S.setupLights(w.useLegacyLights),de.isArrayCamera){const le=de.cameras;for(let Te=0,Ke=le.length;Te<Ke;Te++){const lt=le[Te];vo(x,H,lt,lt.viewport)}}else vo(x,H,de);A!==null&&(qe.updateMultisampleRenderTarget(A),qe.updateRenderTargetMipmap(A)),H.isScene===!0&&H.onAfterRender(w,H,de),Q.resetDefaultState(),I=-1,C=null,_.pop(),_.length>0?S=_[_.length-1]:S=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function Yo(H,de,Ee,le){if(H.visible===!1)return;if(H.layers.test(de.layers)){if(H.isGroup)Ee=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(de);else if(H.isLight)S.pushLight(H),H.castShadow&&S.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||te.intersectsSprite(H)){le&&Re.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Pe);const lt=k.update(H),dt=H.material;dt.visible&&x.push(H,lt,dt,Ee,Re.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||te.intersectsObject(H))){const lt=k.update(H),dt=H.material;if(le&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Re.copy(H.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),Re.copy(lt.boundingSphere.center)),Re.applyMatrix4(H.matrixWorld).applyMatrix4(Pe)),Array.isArray(dt)){const pt=lt.groups;for(let Ot=0,mt=pt.length;Ot<mt;Ot++){const gt=pt[Ot],sn=dt[gt.materialIndex];sn&&sn.visible&&x.push(H,lt,sn,Ee,Re.z,gt)}}else dt.visible&&x.push(H,lt,dt,Ee,Re.z,null)}}const Ke=H.children;for(let lt=0,dt=Ke.length;lt<dt;lt++)Yo(Ke[lt],de,Ee,le)}function vo(H,de,Ee,le){const Te=H.opaque,Ke=H.transmissive,lt=H.transparent;S.setupLightsView(Ee),D===!0&&tt.setGlobalState(w.clippingPlanes,Ee),Ke.length>0&&yo(Te,Ke,de,Ee),le&&we.viewport(O.copy(le)),Te.length>0&&Os(Te,de,Ee),Ke.length>0&&Os(Ke,de,Ee),lt.length>0&&Os(lt,de,Ee),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function yo(H,de,Ee,le){const Te=Ie.isWebGL2;ce===null&&(ce=new $i(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?Ul:Bo,minFilter:Aa,samples:Te?4:0})),w.getDrawingBufferSize(Ae),Te?ce.setSize(Ae.x,Ae.y):ce.setSize(I0(Ae.x),I0(Ae.y));const Ke=w.getRenderTarget();w.setRenderTarget(ce),w.getClearColor(V),F=w.getClearAlpha(),F<1&&w.setClearColor(16777215,.5),w.clear();const lt=w.toneMapping;w.toneMapping=ao,Os(H,Ee,le),qe.updateMultisampleRenderTarget(ce),qe.updateRenderTargetMipmap(ce);let dt=!1;for(let pt=0,Ot=de.length;pt<Ot;pt++){const mt=de[pt],gt=mt.object,sn=mt.geometry,cn=mt.material,ti=mt.group;if(cn.side===ki&&gt.layers.test(le.layers)){const ni=cn.side;cn.side=Nr,cn.needsUpdate=!0,Zh(gt,Ee,le,sn,cn,ti),cn.side=ni,cn.needsUpdate=!0,dt=!0}}dt===!0&&(qe.updateMultisampleRenderTarget(ce),qe.updateRenderTargetMipmap(ce)),w.setRenderTarget(Ke),w.setClearColor(V,F),w.toneMapping=lt}function Os(H,de,Ee){const le=de.isScene===!0?de.overrideMaterial:null;for(let Te=0,Ke=H.length;Te<Ke;Te++){const lt=H[Te],dt=lt.object,pt=lt.geometry,Ot=le===null?lt.material:le,mt=lt.group;dt.layers.test(Ee.layers)&&Zh(dt,de,Ee,pt,Ot,mt)}}function Zh(H,de,Ee,le,Te,Ke){H.onBeforeRender(w,de,Ee,le,Te,Ke),H.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),Te.onBeforeRender(w,de,Ee,le,H,Ke),Te.transparent===!0&&Te.side===ki&&Te.forceSinglePass===!1?(Te.side=Nr,Te.needsUpdate=!0,w.renderBufferDirect(Ee,de,le,Te,H,Ke),Te.side=Es,Te.needsUpdate=!0,w.renderBufferDirect(Ee,de,le,Te,H,Ke),Te.side=ki):w.renderBufferDirect(Ee,de,le,Te,H,Ke),H.onAfterRender(w,de,Ee,le,Te,Ke)}function _o(H,de,Ee){de.isScene!==!0&&(de=ze);const le=We.get(H),Te=S.state.lights,Ke=S.state.shadowsArray,lt=Te.state.version,dt=ve.getParameters(H,Te.state,Ke,de,Ee),pt=ve.getProgramCacheKey(dt);let Ot=le.programs;le.environment=H.isMeshStandardMaterial?de.environment:null,le.fog=de.fog,le.envMap=(H.isMeshStandardMaterial?ht:it).get(H.envMap||le.environment),Ot===void 0&&(H.addEventListener("dispose",Me),Ot=new Map,le.programs=Ot);let mt=Ot.get(pt);if(mt!==void 0){if(le.currentProgram===mt&&le.lightsStateVersion===lt)return Qh(H,dt),mt}else dt.uniforms=ve.getUniforms(H),H.onBuild(Ee,dt,w),H.onBeforeCompile(dt,w),mt=ve.acquireProgram(dt,pt),Ot.set(pt,mt),le.uniforms=dt.uniforms;const gt=le.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(gt.clippingPlanes=tt.uniform),Qh(H,dt),le.needsLights=T_(H),le.lightsStateVersion=lt,le.needsLights&&(gt.ambientLightColor.value=Te.state.ambient,gt.lightProbe.value=Te.state.probe,gt.directionalLights.value=Te.state.directional,gt.directionalLightShadows.value=Te.state.directionalShadow,gt.spotLights.value=Te.state.spot,gt.spotLightShadows.value=Te.state.spotShadow,gt.rectAreaLights.value=Te.state.rectArea,gt.ltc_1.value=Te.state.rectAreaLTC1,gt.ltc_2.value=Te.state.rectAreaLTC2,gt.pointLights.value=Te.state.point,gt.pointLightShadows.value=Te.state.pointShadow,gt.hemisphereLights.value=Te.state.hemi,gt.directionalShadowMap.value=Te.state.directionalShadowMap,gt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,gt.spotShadowMap.value=Te.state.spotShadowMap,gt.spotLightMatrix.value=Te.state.spotLightMatrix,gt.spotLightMap.value=Te.state.spotLightMap,gt.pointShadowMap.value=Te.state.pointShadowMap,gt.pointShadowMatrix.value=Te.state.pointShadowMatrix);const sn=mt.getUniforms(),cn=Zg.seqWithValue(sn.seq,gt);return le.currentProgram=mt,le.uniformsList=cn,mt}function Qh(H,de){const Ee=We.get(H);Ee.outputColorSpace=de.outputColorSpace,Ee.instancing=de.instancing,Ee.skinning=de.skinning,Ee.morphTargets=de.morphTargets,Ee.morphNormals=de.morphNormals,Ee.morphColors=de.morphColors,Ee.morphTargetsCount=de.morphTargetsCount,Ee.numClippingPlanes=de.numClippingPlanes,Ee.numIntersection=de.numClipIntersection,Ee.vertexAlphas=de.vertexAlphas,Ee.vertexTangents=de.vertexTangents,Ee.toneMapping=de.toneMapping}function E_(H,de,Ee,le,Te){de.isScene!==!0&&(de=ze),qe.resetTextureUnits();const Ke=de.fog,lt=le.isMeshStandardMaterial?de.environment:null,dt=A===null?w.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:fo,pt=(le.isMeshStandardMaterial?ht:it).get(le.envMap||lt),Ot=le.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,mt=!!Ee.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),gt=!!Ee.morphAttributes.position,sn=!!Ee.morphAttributes.normal,cn=!!Ee.morphAttributes.color,ti=le.toneMapped?w.toneMapping:ao,ni=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,tn=ni!==void 0?ni.length:0,_t=We.get(le),Qt=S.state.lights;if(D===!0&&(ue===!0||H!==C)){const dr=H===C&&le.id===I;tt.setState(le,H,dr)}let vt=!1;le.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==Qt.state.version||_t.outputColorSpace!==dt||Te.isInstancedMesh&&_t.instancing===!1||!Te.isInstancedMesh&&_t.instancing===!0||Te.isSkinnedMesh&&_t.skinning===!1||!Te.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==pt||le.fog===!0&&_t.fog!==Ke||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==tt.numPlanes||_t.numIntersection!==tt.numIntersection)||_t.vertexAlphas!==Ot||_t.vertexTangents!==mt||_t.morphTargets!==gt||_t.morphNormals!==sn||_t.morphColors!==cn||_t.toneMapping!==ti||Ie.isWebGL2===!0&&_t.morphTargetsCount!==tn)&&(vt=!0):(vt=!0,_t.__version=le.version);let fr=_t.currentProgram;vt===!0&&(fr=_o(le,de,Te));let Hn=!1,Un=!1,Wi=!1;const Mn=fr.getUniforms(),Tn=_t.uniforms;if(we.useProgram(fr.program)&&(Hn=!0,Un=!0,Wi=!0),le.id!==I&&(I=le.id,Un=!0),Hn||C!==H){if(Mn.setValue($,"projectionMatrix",H.projectionMatrix),Ie.logarithmicDepthBuffer&&Mn.setValue($,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),C!==H&&(C=H,Un=!0,Wi=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){const dr=Mn.map.cameraPosition;dr!==void 0&&dr.setValue($,Re.setFromMatrixPosition(H.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Mn.setValue($,"isOrthographic",H.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||Te.isSkinnedMesh)&&Mn.setValue($,"viewMatrix",H.matrixWorldInverse)}if(Te.isSkinnedMesh){Mn.setOptional($,Te,"bindMatrix"),Mn.setOptional($,Te,"bindMatrixInverse");const dr=Te.skeleton;dr&&(Ie.floatVertexTextures?(dr.boneTexture===null&&dr.computeBoneTexture(),Mn.setValue($,"boneTexture",dr.boneTexture,qe),Mn.setValue($,"boneTextureSize",dr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Is=Ee.morphAttributes;if((Is.position!==void 0||Is.normal!==void 0||Is.color!==void 0&&Ie.isWebGL2===!0)&&ot.update(Te,Ee,fr),(Un||_t.receiveShadow!==Te.receiveShadow)&&(_t.receiveShadow=Te.receiveShadow,Mn.setValue($,"receiveShadow",Te.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Tn.envMap.value=pt,Tn.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1),Un&&(Mn.setValue($,"toneMappingExposure",w.toneMappingExposure),_t.needsLights&&M_(Tn,Wi),Ke&&le.fog===!0&&Ne.refreshFogUniforms(Tn,Ke),Ne.refreshMaterialUniforms(Tn,le,ne,re,ce),Zg.upload($,_t.uniformsList,Tn,qe)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Zg.upload($,_t.uniformsList,Tn,qe),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Mn.setValue($,"center",Te.center),Mn.setValue($,"modelViewMatrix",Te.modelViewMatrix),Mn.setValue($,"normalMatrix",Te.normalMatrix),Mn.setValue($,"modelMatrix",Te.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const dr=le.uniformsGroups;for(let Kl=0,Jl=dr.length;Kl<Jl;Kl++)if(Ie.isWebGL2){const df=dr[Kl];me.update(df,fr),me.bind(df,fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fr}function M_(H,de){H.ambientLightColor.needsUpdate=de,H.lightProbe.needsUpdate=de,H.directionalLights.needsUpdate=de,H.directionalLightShadows.needsUpdate=de,H.pointLights.needsUpdate=de,H.pointLightShadows.needsUpdate=de,H.spotLights.needsUpdate=de,H.spotLightShadows.needsUpdate=de,H.rectAreaLights.needsUpdate=de,H.hemisphereLights.needsUpdate=de}function T_(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(H,de,Ee){We.get(H.texture).__webglTexture=de,We.get(H.depthTexture).__webglTexture=Ee;const le=We.get(H);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=Ee===void 0,le.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,de){const Ee=We.get(H);Ee.__webglFramebuffer=de,Ee.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(H,de=0,Ee=0){A=H,T=de,P=Ee;let le=!0,Te=null,Ke=!1,lt=!1;if(H){const pt=We.get(H);pt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer($.FRAMEBUFFER,null),le=!1):pt.__webglFramebuffer===void 0?qe.setupRenderTarget(H):pt.__hasExternalTextures&&qe.rebindTextures(H,We.get(H.texture).__webglTexture,We.get(H.depthTexture).__webglTexture);const Ot=H.texture;(Ot.isData3DTexture||Ot.isDataArrayTexture||Ot.isCompressedArrayTexture)&&(lt=!0);const mt=We.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Te=mt[de],Ke=!0):Ie.isWebGL2&&H.samples>0&&qe.useMultisampledRTT(H)===!1?Te=We.get(H).__webglMultisampledFramebuffer:Te=mt,O.copy(H.viewport),B.copy(H.scissor),ee=H.scissorTest}else O.copy(W).multiplyScalar(ne).floor(),B.copy(G).multiplyScalar(ne).floor(),ee=N;if(we.bindFramebuffer($.FRAMEBUFFER,Te)&&Ie.drawBuffers&&le&&we.drawBuffers(H,Te),we.viewport(O),we.scissor(B),we.setScissorTest(ee),Ke){const pt=We.get(H.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+de,pt.__webglTexture,Ee)}else if(lt){const pt=We.get(H.texture),Ot=de||0;$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,pt.__webglTexture,Ee||0,Ot)}I=-1},this.readRenderTargetPixels=function(H,de,Ee,le,Te,Ke,lt){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=We.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&lt!==void 0&&(dt=dt[lt]),dt){we.bindFramebuffer($.FRAMEBUFFER,dt);try{const pt=H.texture,Ot=pt.format,mt=pt.type;if(Ot!==jr&&q.convert(Ot)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const gt=mt===Ul&&(_e.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&_e.has("EXT_color_buffer_float"));if(mt!==Bo&&q.convert(mt)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_TYPE)&&!(mt===io&&(Ie.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!gt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=H.width-le&&Ee>=0&&Ee<=H.height-Te&&$.readPixels(de,Ee,le,Te,q.convert(Ot),q.convert(mt),Ke)}finally{const pt=A!==null?We.get(A).__webglFramebuffer:null;we.bindFramebuffer($.FRAMEBUFFER,pt)}}},this.copyFramebufferToTexture=function(H,de,Ee=0){const le=Math.pow(2,-Ee),Te=Math.floor(de.image.width*le),Ke=Math.floor(de.image.height*le);qe.setTexture2D(de,0),$.copyTexSubImage2D($.TEXTURE_2D,Ee,0,0,H.x,H.y,Te,Ke),we.unbindTexture()},this.copyTextureToTexture=function(H,de,Ee,le=0){const Te=de.image.width,Ke=de.image.height,lt=q.convert(Ee.format),dt=q.convert(Ee.type);qe.setTexture2D(Ee,0),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,Ee.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,Ee.unpackAlignment),de.isDataTexture?$.texSubImage2D($.TEXTURE_2D,le,H.x,H.y,Te,Ke,lt,dt,de.image.data):de.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,le,H.x,H.y,de.mipmaps[0].width,de.mipmaps[0].height,lt,de.mipmaps[0].data):$.texSubImage2D($.TEXTURE_2D,le,H.x,H.y,lt,dt,de.image),le===0&&Ee.generateMipmaps&&$.generateMipmap($.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(H,de,Ee,le,Te=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ke=H.max.x-H.min.x+1,lt=H.max.y-H.min.y+1,dt=H.max.z-H.min.z+1,pt=q.convert(le.format),Ot=q.convert(le.type);let mt;if(le.isData3DTexture)qe.setTexture3D(le,0),mt=$.TEXTURE_3D;else if(le.isDataArrayTexture)qe.setTexture2DArray(le,0),mt=$.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,le.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,le.unpackAlignment);const gt=$.getParameter($.UNPACK_ROW_LENGTH),sn=$.getParameter($.UNPACK_IMAGE_HEIGHT),cn=$.getParameter($.UNPACK_SKIP_PIXELS),ti=$.getParameter($.UNPACK_SKIP_ROWS),ni=$.getParameter($.UNPACK_SKIP_IMAGES),tn=Ee.isCompressedTexture?Ee.mipmaps[0]:Ee.image;$.pixelStorei($.UNPACK_ROW_LENGTH,tn.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,tn.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,H.min.x),$.pixelStorei($.UNPACK_SKIP_ROWS,H.min.y),$.pixelStorei($.UNPACK_SKIP_IMAGES,H.min.z),Ee.isDataTexture||Ee.isData3DTexture?$.texSubImage3D(mt,Te,de.x,de.y,de.z,Ke,lt,dt,pt,Ot,tn.data):Ee.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(mt,Te,de.x,de.y,de.z,Ke,lt,dt,pt,tn.data)):$.texSubImage3D(mt,Te,de.x,de.y,de.z,Ke,lt,dt,pt,Ot,tn),$.pixelStorei($.UNPACK_ROW_LENGTH,gt),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,sn),$.pixelStorei($.UNPACK_SKIP_PIXELS,cn),$.pixelStorei($.UNPACK_SKIP_ROWS,ti),$.pixelStorei($.UNPACK_SKIP_IMAGES,ni),Te===0&&le.generateMipmaps&&$.generateMipmap(mt),we.unbindTexture()},this.initTexture=function(H){H.isCubeTexture?qe.setTextureCube(H,0):H.isData3DTexture?qe.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?qe.setTexture2DArray(H,0):qe.setTexture2D(H,0),we.unbindTexture()},this.resetState=function(){T=0,P=0,A=null,we.reset(),Q.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ko}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===bt?Sa:PM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Sa?bt:fo}}class W4 extends zM{}W4.prototype.isWebGL1Renderer=!0;class t_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Xe(e),this.density=n}clone(){return new t_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class n_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Xe(e),this.near=n,this.far=r}clone(){return new n_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class N0 extends Ut{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class r_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=fh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Rr=new z;class Fl{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.applyMatrix4(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.applyNormalMatrix(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Rr.fromBufferAttribute(this,n),Rr.transformDirection(e),this.setXYZ(n,Rr.x,Rr.y,Rr.z);return this}setX(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=hi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=hi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=hi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=hi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array),o=Rt(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new on(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class FM extends ur{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ic;const nd=new z,Nc=new z,Dc=new z,kc=new Le,rd=new Le,G4=new yt,Zm=new z,id=new z,Qm=new z,tO=new Le,XS=new Le,nO=new Le;class j4 extends Ut{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ic===void 0){Ic=new wt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new r_(n,5);Ic.setIndex([0,1,2,0,2,3]),Ic.setAttribute("position",new Fl(r,3,0,!1)),Ic.setAttribute("uv",new Fl(r,2,3,!1))}this.geometry=Ic,this.material=e!==void 0?e:new FM,this.center=new Le(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Nc.setFromMatrixScale(this.matrixWorld),G4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Dc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Nc.multiplyScalar(-Dc.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;Km(Zm.set(-.5,-.5,0),Dc,s,Nc,i,o),Km(id.set(.5,-.5,0),Dc,s,Nc,i,o),Km(Qm.set(.5,.5,0),Dc,s,Nc,i,o),tO.set(0,0),XS.set(1,0),nO.set(1,1);let a=e.ray.intersectTriangle(Zm,id,Qm,!1,nd);if(a===null&&(Km(id.set(-.5,.5,0),Dc,s,Nc,i,o),XS.set(0,1),a=e.ray.intersectTriangle(Zm,Qm,id,!1,nd),a===null))return;const l=e.ray.origin.distanceTo(nd);l<e.near||l>e.far||n.push({distance:l,point:nd.clone(),uv:Gr.getInterpolation(nd,Zm,id,Qm,tO,XS,nO,new Le),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Km(t,e,n,r,i,o){kc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(rd.x=o*kc.x-i*kc.y,rd.y=i*kc.x+o*kc.y):rd.copy(kc),t.copy(e),t.x+=rd.x,t.y+=rd.y,t.applyMatrix4(G4)}const Jm=new z,rO=new z;class X4 extends Ut{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Jm.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Jm);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Jm.setFromMatrixPosition(e.matrixWorld),rO.setFromMatrixPosition(this.matrixWorld);const r=Jm.distanceTo(rO)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const iO=new z,oO=new Kt,sO=new Kt,yde=new z,aO=new yt,Uc=new z,YS=new po,lO=new yt,qS=new rf;class Y4 extends Ze{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new yt,this.bindMatrixInverse=new yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Go),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Uc.fromBufferAttribute(n,r),this.applyBoneTransform(r,Uc),this.boundingBox.expandByPoint(Uc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new po),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Uc.fromBufferAttribute(n,r),this.applyBoneTransform(r,Uc),this.boundingSphere.expandByPoint(Uc)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),YS.copy(this.boundingSphere),YS.applyMatrix4(i),e.ray.intersectsSphere(YS)!==!1&&(lO.copy(i).invert(),qS.copy(e.ray).applyMatrix4(lO),!(this.boundingBox!==null&&qS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,qS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;oO.fromBufferAttribute(i.attributes.skinIndex,e),sO.fromBufferAttribute(i.attributes.skinWeight,e),iO.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=sO.getComponent(o);if(s!==0){const a=oO.getComponent(o);aO.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(yde.copy(iO).applyMatrix4(aO),s)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class BM extends Ut{constructor(){super(),this.isBone=!0,this.type="Bone"}}class yu extends Ln{constructor(e=null,n=1,r=1,i,o,s,a,l,u=Nn,d=Nn,h,p){super(null,s,a,l,u,d,i,o,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cO=new yt,_de=new yt;class i_{constructor(e=[],n=[]){this.uuid=gi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new yt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:_de;cO.multiplyMatrices(a,n[o]),cO.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new i_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=C4(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new yu(n,e,e,jr,io);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new BM),this.bones.push(s),this.boneInverses.push(new yt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Vu extends on{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const zc=new yt,uO=new yt,eg=[],fO=new Go,xde=new yt,od=new Ze,sd=new po;class q4 extends Ze{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Vu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,xde)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Go),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,zc),fO.copy(e.boundingBox).applyMatrix4(zc),this.boundingBox.union(fO)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new po),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,zc),sd.copy(e.boundingSphere).applyMatrix4(zc),this.boundingSphere.union(sd)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(od.geometry=this.geometry,od.material=this.material,od.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sd.copy(this.boundingSphere),sd.applyMatrix4(r),e.ray.intersectsSphere(sd)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,zc),uO.multiplyMatrices(r,zc),od.matrixWorld=uO,od.raycast(e,eg);for(let s=0,a=eg.length;s<a;s++){const l=eg[s];l.instanceId=o,l.object=this,n.push(l)}eg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Vu(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Tr extends ur{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Xe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dO=new z,hO=new z,pO=new yt,ZS=new rf,tg=new po;class Nt extends Ut{constructor(e=new wt,n=new Tr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)dO.fromBufferAttribute(n,i-1),hO.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=dO.distanceTo(hO);e.setAttribute("lineDistance",new et(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),tg.copy(r.boundingSphere),tg.applyMatrix4(i),tg.radius+=o,e.ray.intersectsSphere(tg)===!1)return;pO.copy(i).invert(),ZS.copy(e.ray).applyMatrix4(pO);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new z,d=new z,h=new z,p=new z,m=this.isLineSegments?2:1,y=r.index,S=r.attributes.position;if(y!==null){const g=Math.max(0,s.start),_=Math.min(y.count,s.start+s.count);for(let w=g,E=_-1;w<E;w+=m){const T=y.getX(w),P=y.getX(w+1);if(u.fromBufferAttribute(S,T),d.fromBufferAttribute(S,P),ZS.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||n.push({distance:I,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,s.start),_=Math.min(S.count,s.start+s.count);for(let w=g,E=_-1;w<E;w+=m){if(u.fromBufferAttribute(S,w),d.fromBufferAttribute(S,w+1),ZS.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||n.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const mO=new z,gO=new z;class Xo extends Nt{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)mO.fromBufferAttribute(n,i),gO.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+mO.distanceTo(gO);e.setAttribute("lineDistance",new et(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Z4 extends Nt{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class VM extends ur{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Xe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const vO=new yt,gb=new rf,ng=new po,rg=new z;class Q4 extends Ut{constructor(e=new wt,n=new VM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ng.copy(r.boundingSphere),ng.applyMatrix4(i),ng.radius+=o,e.ray.intersectsSphere(ng)===!1)return;vO.copy(i).invert(),gb.copy(e.ray).applyMatrix4(vO);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,s.start),m=Math.min(u.count,s.start+s.count);for(let y=p,x=m;y<x;y++){const S=u.getX(y);rg.fromBufferAttribute(h,S),yO(rg,S,l,i,e,n,this)}}else{const p=Math.max(0,s.start),m=Math.min(h.count,s.start+s.count);for(let y=p,x=m;y<x;y++)rg.fromBufferAttribute(h,y),yO(rg,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function yO(t,e,n,r,i,o,s){const a=gb.distanceSqToPoint(t);if(a<n){const l=new z;gb.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class Sde extends Ln{constructor(e,n,r,i,o,s,a,l,u){super(e,n,r,i,o,s,a,l,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Sn,this.magFilter=o!==void 0?o:Sn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class wde extends Ln{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Nn,this.minFilter=Nn,this.generateMipmaps=!1,this.needsUpdate=!0}}class $M extends Ln{constructor(e,n,r,i,o,s,a,l,u,d,h,p){super(null,s,a,l,u,d,i,o,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class bde extends $M{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Er}}class Ede extends Ln{constructor(e,n,r,i,o,s,a,l,u){super(e,n,r,i,o,s,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let a=0,l=o-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-s,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const d=r[i],p=r[i+1]-d,m=(s-d)/p;return(i+m)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=n||(s.isVector2?new Le:new z);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new z,i=[],o=[],s=[],a=new z,l=new yt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new z)}o[0]=new z,s[0]=new z;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),s[m]=s[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Cn(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(a,y))}s[m].crossVectors(i[m],o[m])}if(n===!0){let m=Math.acos(Cn(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(m=-m);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),s[y].crossVectors(i[y],o[y])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class o_ extends mo{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Le,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class K4 extends o_{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function HM(){let t=0,e=0,n=0,r=0;function i(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,u){i(s,a,u*(a-o),u*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,u,d,h){let p=(s-o)/u-(a-o)/(u+d)+(a-s)/d,m=(a-s)/d-(l-s)/(d+h)+(l-a)/h;p*=d,m*=d,i(s,a,p,m)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+r*a}}}const ig=new z,QS=new HM,KS=new HM,JS=new HM;class J4 extends mo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new z){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let u,d;this.closed||a>0?u=i[(a-1)%o]:(ig.subVectors(i[0],i[1]).add(i[0]),u=ig);const h=i[a%o],p=i[(a+1)%o];if(this.closed||a+2<o?d=i[(a+2)%o]:(ig.subVectors(i[o-1],i[o-2]).add(i[o-1]),d=ig),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(p),m),S=Math.pow(p.distanceToSquared(d),m);x<1e-4&&(x=1),y<1e-4&&(y=x),S<1e-4&&(S=x),QS.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,y,x,S),KS.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,y,x,S),JS.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,y,x,S)}else this.curveType==="catmullrom"&&(QS.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),KS.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),JS.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return r.set(QS.calc(l),KS.calc(l),JS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function _O(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*t+n}function Mde(t,e){const n=1-t;return n*n*e}function Tde(t,e){return 2*(1-t)*t*e}function Pde(t,e){return t*t*e}function Nd(t,e,n,r){return Mde(t,e)+Tde(t,n)+Pde(t,r)}function Ade(t,e){const n=1-t;return n*n*n*e}function Rde(t,e){const n=1-t;return 3*n*n*t*e}function Cde(t,e){return 3*(1-t)*t*t*e}function Lde(t,e){return t*t*t*e}function Dd(t,e,n,r,i){return Ade(t,e)+Rde(t,n)+Cde(t,r)+Lde(t,i)}class WM extends mo{constructor(e=new Le,n=new Le,r=new Le,i=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Le){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Dd(e,i.x,o.x,s.x,a.x),Dd(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class e5 extends mo{constructor(e=new z,n=new z,r=new z,i=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new z){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Dd(e,i.x,o.x,s.x,a.x),Dd(e,i.y,o.y,s.y,a.y),Dd(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class s_ extends mo{constructor(e=new Le,n=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t5 extends mo{constructor(e=new z,n=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new z){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new z){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GM extends mo{constructor(e=new Le,n=new Le,r=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Le){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Nd(e,i.x,o.x,s.x),Nd(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jM extends mo{constructor(e=new z,n=new z,r=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new z){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Nd(e,i.x,o.x,s.x),Nd(e,i.y,o.y,s.y),Nd(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XM extends mo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Le){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],u=i[s],d=i[s>i.length-2?i.length-1:s+1],h=i[s>i.length-3?i.length-1:s+2];return r.set(_O(a,l.x,u.x,d.x,h.x),_O(a,l.y,u.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Le().fromArray(i))}return this}}var YM=Object.freeze({__proto__:null,ArcCurve:K4,CatmullRomCurve3:J4,CubicBezierCurve:WM,CubicBezierCurve3:e5,EllipseCurve:o_,LineCurve:s_,LineCurve3:t5,QuadraticBezierCurve:GM,QuadraticBezierCurve3:jM,SplineCurve:XM});class n5 extends mo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new s_(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),u=l===0?0:1-s/l;return a.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new YM[i.type]().fromJSON(i))}return this}}class ph extends n5{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new s_(this.currentPoint.clone(),new Le(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new GM(this.currentPoint.clone(),new Le(e,n),new Le(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const a=new WM(this.currentPoint.clone(),new Le(e,n),new Le(r,i),new Le(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new XM(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,o,s,a,l),this}absellipse(e,n,r,i,o,s,a,l){const u=new o_(e,n,r,i,o,s,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xh extends wt{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Cn(i,0,Math.PI*2);const o=[],s=[],a=[],l=[],u=[],d=1/n,h=new z,p=new Le,m=new z,y=new z,x=new z;let S=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:S=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-S,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:S=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-S,m.z=g*0,y.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(y)}for(let _=0;_<=n;_++){const w=r+_*d*i,E=Math.sin(w),T=Math.cos(w);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*E,h.y=e[P].y,h.z=e[P].x*T,s.push(h.x,h.y,h.z),p.x=_/n,p.y=P/(e.length-1),a.push(p.x,p.y);const A=l[3*P+0]*E,I=l[3*P+1],C=l[3*P+0]*T;u.push(A,I,C)}}for(let _=0;_<n;_++)for(let w=0;w<e.length-1;w++){const E=w+_*e.length,T=E,P=E+e.length,A=E+e.length+1,I=E+1;o.push(T,P,I),o.push(A,I,P)}this.setIndex(o),this.setAttribute("position",new et(s,3)),this.setAttribute("uv",new et(a,2)),this.setAttribute("normal",new et(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xh(e.points,e.segments,e.phiStart,e.phiLength)}}class a_ extends Xh{constructor(e=1,n=1,r=4,i=8){const o=new ph;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new a_(e.radius,e.length,e.capSegments,e.radialSegments)}}class l_ extends wt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],a=[],l=[],u=new z,d=new Le;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const m=r+h/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),s.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(s[p]/e+1)/2,d.y=(s[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=n;h++)o.push(h,h+1,0);this.setIndex(o),this.setAttribute("position",new et(s,3)),this.setAttribute("normal",new et(a,3)),this.setAttribute("uv",new et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class sr extends wt{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const d=[],h=[],p=[],m=[];let y=0;const x=[],S=r/2;let g=0;_(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(d),this.setAttribute("position",new et(h,3)),this.setAttribute("normal",new et(p,3)),this.setAttribute("uv",new et(m,2));function _(){const E=new z,T=new z;let P=0;const A=(n-e)/r;for(let I=0;I<=o;I++){const C=[],O=I/o,B=O*(n-e)+e;for(let ee=0;ee<=i;ee++){const V=ee/i,F=V*l+a,J=Math.sin(F),re=Math.cos(F);T.x=B*J,T.y=-O*r+S,T.z=B*re,h.push(T.x,T.y,T.z),E.set(J,A,re).normalize(),p.push(E.x,E.y,E.z),m.push(V,1-O),C.push(y++)}x.push(C)}for(let I=0;I<i;I++)for(let C=0;C<o;C++){const O=x[C][I],B=x[C+1][I],ee=x[C+1][I+1],V=x[C][I+1];d.push(O,B,V),d.push(B,ee,V),P+=6}u.addGroup(g,P,0),g+=P}function w(E){const T=y,P=new Le,A=new z;let I=0;const C=E===!0?e:n,O=E===!0?1:-1;for(let ee=1;ee<=i;ee++)h.push(0,S*O,0),p.push(0,O,0),m.push(.5,.5),y++;const B=y;for(let ee=0;ee<=i;ee++){const F=ee/i*l+a,J=Math.cos(F),re=Math.sin(F);A.x=C*re,A.y=S*O,A.z=C*J,h.push(A.x,A.y,A.z),p.push(0,O,0),P.x=J*.5+.5,P.y=re*.5*O+.5,m.push(P.x,P.y),y++}for(let ee=0;ee<i;ee++){const V=T+ee,F=B+ee;E===!0?d.push(F,F+1,V):d.push(F+1,F,V),I+=3}u.addGroup(g,I,E===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sr(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class c_ extends sr{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new c_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ka extends wt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];a(i),u(r),d(),this.setAttribute("position",new et(o,3)),this.setAttribute("normal",new et(o.slice(),3)),this.setAttribute("uv",new et(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new z,E=new z,T=new z;for(let P=0;P<n.length;P+=3)m(n[P+0],w),m(n[P+1],E),m(n[P+2],T),l(w,E,T,_)}function l(_,w,E,T){const P=T+1,A=[];for(let I=0;I<=P;I++){A[I]=[];const C=_.clone().lerp(E,I/P),O=w.clone().lerp(E,I/P),B=P-I;for(let ee=0;ee<=B;ee++)ee===0&&I===P?A[I][ee]=C:A[I][ee]=C.clone().lerp(O,ee/B)}for(let I=0;I<P;I++)for(let C=0;C<2*(P-I)-1;C++){const O=Math.floor(C/2);C%2===0?(p(A[I][O+1]),p(A[I+1][O]),p(A[I][O])):(p(A[I][O+1]),p(A[I+1][O+1]),p(A[I+1][O]))}}function u(_){const w=new z;for(let E=0;E<o.length;E+=3)w.x=o[E+0],w.y=o[E+1],w.z=o[E+2],w.normalize().multiplyScalar(_),o[E+0]=w.x,o[E+1]=w.y,o[E+2]=w.z}function d(){const _=new z;for(let w=0;w<o.length;w+=3){_.x=o[w+0],_.y=o[w+1],_.z=o[w+2];const E=S(_)/2/Math.PI+.5,T=g(_)/Math.PI+.5;s.push(E,1-T)}y(),h()}function h(){for(let _=0;_<s.length;_+=6){const w=s[_+0],E=s[_+2],T=s[_+4],P=Math.max(w,E,T),A=Math.min(w,E,T);P>.9&&A<.1&&(w<.2&&(s[_+0]+=1),E<.2&&(s[_+2]+=1),T<.2&&(s[_+4]+=1))}}function p(_){o.push(_.x,_.y,_.z)}function m(_,w){const E=_*3;w.x=e[E+0],w.y=e[E+1],w.z=e[E+2]}function y(){const _=new z,w=new z,E=new z,T=new z,P=new Le,A=new Le,I=new Le;for(let C=0,O=0;C<o.length;C+=9,O+=6){_.set(o[C+0],o[C+1],o[C+2]),w.set(o[C+3],o[C+4],o[C+5]),E.set(o[C+6],o[C+7],o[C+8]),P.set(s[O+0],s[O+1]),A.set(s[O+2],s[O+3]),I.set(s[O+4],s[O+5]),T.copy(_).add(w).add(E).divideScalar(3);const B=S(T);x(P,O+0,_,B),x(A,O+2,w,B),x(I,O+4,E,B)}}function x(_,w,E,T){T<0&&_.x===1&&(s[w]=_.x-1),E.x===0&&E.z===0&&(s[w]=T/2/Math.PI+.5)}function S(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ka(e.vertices,e.indices,e.radius,e.details)}}class u_ extends ka{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new u_(e.radius,e.detail)}}const og=new z,sg=new z,e1=new z,ag=new Gr;class r5 extends wt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(El*n),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){s?(u[0]=s.getX(y),u[1]=s.getX(y+1),u[2]=s.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:x,b:S,c:g}=ag;if(x.fromBufferAttribute(a,u[0]),S.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),ag.getNormal(e1),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,h[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const w=(_+1)%3,E=h[_],T=h[w],P=ag[d[_]],A=ag[d[w]],I=`${E}_${T}`,C=`${T}_${E}`;C in p&&p[C]?(e1.dot(p[C].normal)<=o&&(m.push(P.x,P.y,P.z),m.push(A.x,A.y,A.z)),p[C]=null):I in p||(p[I]={index0:u[_],index1:u[w],normal:e1.clone()})}}for(const y in p)if(p[y]){const{index0:x,index1:S}=p[y];og.fromBufferAttribute(a,x),sg.fromBufferAttribute(a,S),m.push(og.x,og.y,og.z),m.push(sg.x,sg.y,sg.z)}this.setAttribute("position",new et(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Tl extends ph{constructor(e){super(e),this.uuid=gi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ph().fromJSON(i))}return this}}const Ode={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=i5(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,u,d,h,p,m;if(r&&(o=Ude(t,e,o,n)),t.length>80*n){a=u=t[0],l=d=t[1];for(let y=n;y<i;y+=n)h=t[y],p=t[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?32767/m:0}return mh(o,s,n,a,l,m,0),s}};function i5(t,e,n,r,i){let o,s;if(i===Yde(t,e,n,r)>0)for(o=e;o<n;o+=r)s=xO(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=xO(o,t[o],t[o+1],s);return s&&f_(s,s.next)&&(vh(s),s=s.next),s}function Bl(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(f_(n,n.next)||wn(n.prev,n,n.next)===0)){if(vh(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function mh(t,e,n,r,i,o,s){if(!t)return;!s&&o&&$de(t,r,i,o);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?Nde(t,r,i,o):Ide(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),vh(t),t=u.next,a=u.next;continue}if(t=u,t===a){s?s===1?(t=Dde(Bl(t),e,n),mh(t,e,n,r,i,o,2)):s===2&&kde(t,e,n,r,i,o):mh(Bl(t),e,n,r,i,o,1);break}}}function Ide(t){const e=t.prev,n=t,r=t.next;if(wn(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,u=r.y,d=i<o?i<s?i:s:o<s?o:s,h=a<l?a<u?a:u:l<u?l:u,p=i>o?i>s?i:s:o>s?o:s,m=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&su(i,a,o,l,s,u,y.x,y.y)&&wn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Nde(t,e,n,r){const i=t.prev,o=t,s=t.next;if(wn(i,o,s)>=0)return!1;const a=i.x,l=o.x,u=s.x,d=i.y,h=o.y,p=s.y,m=a<l?a<u?a:u:l<u?l:u,y=d<h?d<p?d:p:h<p?h:p,x=a>l?a>u?a:u:l>u?l:u,S=d>h?d>p?d:p:h>p?h:p,g=vb(m,y,e,n,r),_=vb(x,S,e,n,r);let w=t.prevZ,E=t.nextZ;for(;w&&w.z>=g&&E&&E.z<=_;){if(w.x>=m&&w.x<=x&&w.y>=y&&w.y<=S&&w!==i&&w!==s&&su(a,d,l,h,u,p,w.x,w.y)&&wn(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=m&&E.x<=x&&E.y>=y&&E.y<=S&&E!==i&&E!==s&&su(a,d,l,h,u,p,E.x,E.y)&&wn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=g;){if(w.x>=m&&w.x<=x&&w.y>=y&&w.y<=S&&w!==i&&w!==s&&su(a,d,l,h,u,p,w.x,w.y)&&wn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=_;){if(E.x>=m&&E.x<=x&&E.y>=y&&E.y<=S&&E!==i&&E!==s&&su(a,d,l,h,u,p,E.x,E.y)&&wn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Dde(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!f_(i,o)&&o5(i,r,r.next,o)&&gh(i,o)&&gh(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),vh(r),vh(r.next),r=t=o),r=r.next}while(r!==t);return Bl(r)}function kde(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Gde(s,a)){let l=s5(s,a);s=Bl(s,s.next),l=Bl(l,l.next),mh(s,e,n,r,i,o,0),mh(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function Ude(t,e,n,r){const i=[];let o,s,a,l,u;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,u=i5(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Wde(u));for(i.sort(zde),o=0;o<i.length;o++)n=Fde(i[o],n);return n}function zde(t,e){return t.x-e.x}function Fde(t,e){const n=Bde(t,e);if(!n)return e;const r=s5(n,t);return Bl(r,r.next),Bl(n,n.next)}function Bde(t,e){let n=e,r=-1/0,i;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const p=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=o&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===o))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let d=1/0,h;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&su(s<u?o:r,s,l,u,s<u?r:o,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(o-n.x),gh(n,t)&&(h<d||h===d&&(n.x>i.x||n.x===i.x&&Vde(i,n)))&&(i=n,d=h)),n=n.next;while(n!==a);return i}function Vde(t,e){return wn(t.prev,t,e.prev)<0&&wn(e.next,t,t.next)<0}function $de(t,e,n,r){let i=t;do i.z===0&&(i.z=vb(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Hde(i)}function Hde(t){let e,n,r,i,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(s>1);return t}function vb(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Wde(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function su(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function Gde(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jde(t,e)&&(gh(t,e)&&gh(e,t)&&Xde(t,e)&&(wn(t.prev,t,e.prev)||wn(t,e.prev,e))||f_(t,e)&&wn(t.prev,t,t.next)>0&&wn(e.prev,e,e.next)>0)}function wn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function f_(t,e){return t.x===e.x&&t.y===e.y}function o5(t,e,n,r){const i=cg(wn(t,e,n)),o=cg(wn(t,e,r)),s=cg(wn(n,r,t)),a=cg(wn(n,r,e));return!!(i!==o&&s!==a||i===0&&lg(t,n,e)||o===0&&lg(t,r,e)||s===0&&lg(n,t,r)||a===0&&lg(n,e,r))}function lg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function cg(t){return t>0?1:t<0?-1:0}function jde(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&o5(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function gh(t,e){return wn(t.prev,t,t.next)<0?wn(t,e,t.next)>=0&&wn(t,t.prev,e)>=0:wn(t,e,t.prev)<0||wn(t,t.next,e)<0}function Xde(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function s5(t,e){const n=new yb(t.i,t.x,t.y),r=new yb(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function xO(t,e,n,r){const i=new yb(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function vh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function yb(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yde(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class Vo{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Vo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];SO(e),wO(r,e);let s=e.length;n.forEach(SO);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,wO(r,n[l]);const a=Ode.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function SO(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function wO(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class d_ extends wt{constructor(e=new Tl([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];s(u)}this.setAttribute("position",new et(i,3)),this.setAttribute("uv",new et(o,2)),this.computeVertexNormals();function s(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:qde;let w,E=!1,T,P,A,I;g&&(w=g.getSpacedPoints(d),E=!0,p=!1,T=g.computeFrenetFrames(d,!1),P=new z,A=new z,I=new z),p||(S=0,m=0,y=0,x=0);const C=a.extractPoints(u);let O=C.shape;const B=C.holes;if(!Vo.isClockWise(O)){O=O.reverse();for(let $=0,he=B.length;$<he;$++){const _e=B[$];Vo.isClockWise(_e)&&(B[$]=_e.reverse())}}const V=Vo.triangulateShape(O,B),F=O;for(let $=0,he=B.length;$<he;$++){const _e=B[$];O=O.concat(_e)}function J($,he,_e){return he||console.error("THREE.ExtrudeGeometry: vec does not exist"),$.clone().addScaledVector(he,_e)}const re=O.length,ne=V.length;function U($,he,_e){let Ie,we,He;const We=$.x-he.x,qe=$.y-he.y,it=_e.x-$.x,ht=_e.y-$.y,Xt=We*We+qe*qe,Y=We*ht-qe*it;if(Math.abs(Y)>Number.EPSILON){const k=Math.sqrt(Xt),ve=Math.sqrt(it*it+ht*ht),Ne=he.x-qe/k,De=he.y+We/k,Be=_e.x-ht/ve,tt=_e.y+it/ve,Ve=((Be-Ne)*ht-(tt-De)*it)/(We*ht-qe*it);Ie=Ne+We*Ve-$.x,we=De+qe*Ve-$.y;const be=Ie*Ie+we*we;if(be<=2)return new Le(Ie,we);He=Math.sqrt(be/2)}else{let k=!1;We>Number.EPSILON?it>Number.EPSILON&&(k=!0):We<-Number.EPSILON?it<-Number.EPSILON&&(k=!0):Math.sign(qe)===Math.sign(ht)&&(k=!0),k?(Ie=-qe,we=We,He=Math.sqrt(Xt)):(Ie=We,we=qe,He=Math.sqrt(Xt/2))}return new Le(Ie/He,we/He)}const K=[];for(let $=0,he=F.length,_e=he-1,Ie=$+1;$<he;$++,_e++,Ie++)_e===he&&(_e=0),Ie===he&&(Ie=0),K[$]=U(F[$],F[_e],F[Ie]);const W=[];let G,N=K.concat();for(let $=0,he=B.length;$<he;$++){const _e=B[$];G=[];for(let Ie=0,we=_e.length,He=we-1,We=Ie+1;Ie<we;Ie++,He++,We++)He===we&&(He=0),We===we&&(We=0),G[Ie]=U(_e[Ie],_e[He],_e[We]);W.push(G),N=N.concat(G)}for(let $=0;$<S;$++){const he=$/S,_e=m*Math.cos(he*Math.PI/2),Ie=y*Math.sin(he*Math.PI/2)+x;for(let we=0,He=F.length;we<He;we++){const We=J(F[we],K[we],Ie);Pe(We.x,We.y,-_e)}for(let we=0,He=B.length;we<He;we++){const We=B[we];G=W[we];for(let qe=0,it=We.length;qe<it;qe++){const ht=J(We[qe],G[qe],Ie);Pe(ht.x,ht.y,-_e)}}}const te=y+x;for(let $=0;$<re;$++){const he=p?J(O[$],N[$],te):O[$];E?(A.copy(T.normals[0]).multiplyScalar(he.x),P.copy(T.binormals[0]).multiplyScalar(he.y),I.copy(w[0]).add(A).add(P),Pe(I.x,I.y,I.z)):Pe(he.x,he.y,0)}for(let $=1;$<=d;$++)for(let he=0;he<re;he++){const _e=p?J(O[he],N[he],te):O[he];E?(A.copy(T.normals[$]).multiplyScalar(_e.x),P.copy(T.binormals[$]).multiplyScalar(_e.y),I.copy(w[$]).add(A).add(P),Pe(I.x,I.y,I.z)):Pe(_e.x,_e.y,h/d*$)}for(let $=S-1;$>=0;$--){const he=$/S,_e=m*Math.cos(he*Math.PI/2),Ie=y*Math.sin(he*Math.PI/2)+x;for(let we=0,He=F.length;we<He;we++){const We=J(F[we],K[we],Ie);Pe(We.x,We.y,h+_e)}for(let we=0,He=B.length;we<He;we++){const We=B[we];G=W[we];for(let qe=0,it=We.length;qe<it;qe++){const ht=J(We[qe],G[qe],Ie);E?Pe(ht.x,ht.y+w[d-1].y,w[d-1].x+_e):Pe(ht.x,ht.y,h+_e)}}}D(),ue();function D(){const $=i.length/3;if(p){let he=0,_e=re*he;for(let Ie=0;Ie<ne;Ie++){const we=V[Ie];Ae(we[2]+_e,we[1]+_e,we[0]+_e)}he=d+S*2,_e=re*he;for(let Ie=0;Ie<ne;Ie++){const we=V[Ie];Ae(we[0]+_e,we[1]+_e,we[2]+_e)}}else{for(let he=0;he<ne;he++){const _e=V[he];Ae(_e[2],_e[1],_e[0])}for(let he=0;he<ne;he++){const _e=V[he];Ae(_e[0]+re*d,_e[1]+re*d,_e[2]+re*d)}}r.addGroup($,i.length/3-$,0)}function ue(){const $=i.length/3;let he=0;ce(F,he),he+=F.length;for(let _e=0,Ie=B.length;_e<Ie;_e++){const we=B[_e];ce(we,he),he+=we.length}r.addGroup($,i.length/3-$,1)}function ce($,he){let _e=$.length;for(;--_e>=0;){const Ie=_e;let we=_e-1;we<0&&(we=$.length-1);for(let He=0,We=d+S*2;He<We;He++){const qe=re*He,it=re*(He+1),ht=he+Ie+qe,Xt=he+we+qe,Y=he+we+it,k=he+Ie+it;Re(ht,Xt,Y,k)}}}function Pe($,he,_e){l.push($),l.push(he),l.push(_e)}function Ae($,he,_e){ze($),ze(he),ze(_e);const Ie=i.length/3,we=_.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);Ue(we[0]),Ue(we[1]),Ue(we[2])}function Re($,he,_e,Ie){ze($),ze(he),ze(Ie),ze(he),ze(_e),ze(Ie);const we=i.length/3,He=_.generateSideWallUV(r,i,we-6,we-3,we-2,we-1);Ue(He[0]),Ue(He[1]),Ue(He[3]),Ue(He[1]),Ue(He[2]),Ue(He[3])}function ze($){i.push(l[$*3+0]),i.push(l[$*3+1]),i.push(l[$*3+2])}function Ue($){o.push($.x),o.push($.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Zde(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new YM[i.type]().fromJSON(i)),new d_(r,e.options)}}const qde={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new Le(o,s),new Le(a,l),new Le(u,d)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],d=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],x=e[o*3],S=e[o*3+1],g=e[o*3+2];return Math.abs(a-d)<Math.abs(s-u)?[new Le(s,1-l),new Le(u,1-h),new Le(p,1-y),new Le(x,1-g)]:[new Le(a,1-l),new Le(d,1-h),new Le(m,1-y),new Le(S,1-g)]}};function Zde(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class h_ extends ka{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new h_(e.radius,e.detail)}}class Oi extends ka{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Oi(e.radius,e.detail)}}class p_ extends wt{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],d=[];let h=e;const p=(n-e)/i,m=new z,y=new Le;for(let x=0;x<=i;x++){for(let S=0;S<=r;S++){const g=o+S/r*s;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/n+1)/2,y.y=(m.y/n+1)/2,d.push(y.x,y.y)}h+=p}for(let x=0;x<i;x++){const S=x*(r+1);for(let g=0;g<r;g++){const _=g+S,w=_,E=_+r+1,T=_+r+2,P=_+1;a.push(w,E,P),a.push(E,T,P)}}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class m_ extends wt{constructor(e=new Tl([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new et(i,3)),this.setAttribute("normal",new et(o,3)),this.setAttribute("uv",new et(s,2));function u(d){const h=i.length/3,p=d.extractPoints(n);let m=p.shape;const y=p.holes;Vo.isClockWise(m)===!1&&(m=m.reverse());for(let S=0,g=y.length;S<g;S++){const _=y[S];Vo.isClockWise(_)===!0&&(y[S]=_.reverse())}const x=Vo.triangulateShape(m,y);for(let S=0,g=y.length;S<g;S++){const _=y[S];m=m.concat(_)}for(let S=0,g=m.length;S<g;S++){const _=m[S];i.push(_.x,_.y,0),o.push(0,0,1),s.push(_.x,_.y)}for(let S=0,g=x.length;S<g;S++){const _=x[S],w=_[0]+h,E=_[1]+h,T=_[2]+h;r.push(w,E,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Qde(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new m_(r,e.curveSegments)}}function Qde(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class af extends wt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let u=0;const d=[],h=new z,p=new z,m=[],y=[],x=[],S=[];for(let g=0;g<=r;g++){const _=[],w=g/r;let E=0;g===0&&s===0?E=.5/n:g===r&&l===Math.PI&&(E=-.5/n);for(let T=0;T<=n;T++){const P=T/n;h.x=-e*Math.cos(i+P*o)*Math.sin(s+w*a),h.y=e*Math.cos(s+w*a),h.z=e*Math.sin(i+P*o)*Math.sin(s+w*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),x.push(p.x,p.y,p.z),S.push(P+E,1-w),_.push(u++)}d.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const w=d[g][_+1],E=d[g][_],T=d[g+1][_],P=d[g+1][_+1];(g!==0||s>0)&&m.push(w,E,P),(g!==r-1||l<Math.PI)&&m.push(E,T,P)}this.setIndex(m),this.setAttribute("position",new et(y,3)),this.setAttribute("normal",new et(x,3)),this.setAttribute("uv",new et(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new af(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class g_ extends ka{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new g_(e.radius,e.detail)}}class aa extends wt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],u=[],d=new z,h=new z,p=new z;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const x=y/i*o,S=m/r*Math.PI*2;h.x=(e+n*Math.cos(S))*Math.cos(x),h.y=(e+n*Math.cos(S))*Math.sin(x),h.z=n*Math.sin(S),a.push(h.x,h.y,h.z),d.x=e*Math.cos(x),d.y=e*Math.sin(x),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const x=(i+1)*m+y-1,S=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,_=(i+1)*m+y;s.push(x,S,_),s.push(S,g,_)}this.setIndex(s),this.setAttribute("position",new et(a,3)),this.setAttribute("normal",new et(l,3)),this.setAttribute("uv",new et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aa(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class v_ extends wt{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],d=[],h=new z,p=new z,m=new z,y=new z,x=new z,S=new z,g=new z;for(let w=0;w<=r;++w){const E=w/r*o*Math.PI*2;_(E,o,s,e,m),_(E+.01,o,s,e,y),S.subVectors(y,m),g.addVectors(y,m),x.crossVectors(S,g),g.crossVectors(x,S),x.normalize(),g.normalize();for(let T=0;T<=i;++T){const P=T/i*Math.PI*2,A=-n*Math.cos(P),I=n*Math.sin(P);h.x=m.x+(A*g.x+I*x.x),h.y=m.y+(A*g.y+I*x.y),h.z=m.z+(A*g.z+I*x.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(w/r),d.push(T/i)}}for(let w=1;w<=r;w++)for(let E=1;E<=i;E++){const T=(i+1)*(w-1)+(E-1),P=(i+1)*w+(E-1),A=(i+1)*w+E,I=(i+1)*(w-1)+E;a.push(T,P,I),a.push(P,A,I)}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(d,2));function _(w,E,T,P,A){const I=Math.cos(w),C=Math.sin(w),O=T/E*w,B=Math.cos(O);A.x=P*(2+B)*.5*I,A.y=P*(2+B)*C*.5,A.z=P*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class y_ extends wt{constructor(e=new jM(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new z,l=new z,u=new Le;let d=new z;const h=[],p=[],m=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new et(h,3)),this.setAttribute("normal",new et(p,3)),this.setAttribute("uv",new et(m,2));function x(){for(let w=0;w<n;w++)S(w);S(o===!1?n:0),_(),g()}function S(w){d=e.getPointAt(w/n,d);const E=s.normals[w],T=s.binormals[w];for(let P=0;P<=i;P++){const A=P/i*Math.PI*2,I=Math.sin(A),C=-Math.cos(A);l.x=C*E.x+I*T.x,l.y=C*E.y+I*T.y,l.z=C*E.z+I*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=n;w++)for(let E=1;E<=i;E++){const T=(i+1)*(w-1)+(E-1),P=(i+1)*w+(E-1),A=(i+1)*w+E,I=(i+1)*(w-1)+E;y.push(T,P,I),y.push(P,A,I)}}function _(){for(let w=0;w<=n;w++)for(let E=0;E<=i;E++)u.x=w/n,u.y=E/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new y_(new YM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class a5 extends wt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new z,o=new z;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,x=p+m;y<x;y+=3)for(let S=0;S<3;S++){const g=a.getX(y+S),_=a.getX(y+(S+1)%3);i.fromBufferAttribute(s,g),o.fromBufferAttribute(s,_),bO(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(s,d),o.fromBufferAttribute(s,h),bO(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function bO(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var EO=Object.freeze({__proto__:null,BoxGeometry:$r,CapsuleGeometry:a_,CircleGeometry:l_,ConeGeometry:c_,CylinderGeometry:sr,DodecahedronGeometry:u_,EdgesGeometry:r5,ExtrudeGeometry:d_,IcosahedronGeometry:h_,LatheGeometry:Xh,OctahedronGeometry:Oi,PlaneGeometry:Di,PolyhedronGeometry:ka,RingGeometry:p_,ShapeGeometry:m_,SphereGeometry:af,TetrahedronGeometry:g_,TorusGeometry:aa,TorusKnotGeometry:v_,TubeGeometry:y_,WireframeGeometry:a5});class l5 extends ur{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Xe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class c5 extends $o{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qM extends ur{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Xe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Da,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class u5 extends qM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Xe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Xe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Xe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class f5 extends ur{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Xe(16777215),this.specular=new Xe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Da,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d5 extends ur{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Xe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Da,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class h5 extends ur{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Da,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class p5 extends ur{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Xe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Xe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Da,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class m5 extends ur{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Xe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Da,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class g5 extends Tr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Li(t,e,n){return ZM(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function yl(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function ZM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function v5(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function _b(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const a=n[o]*e;for(let l=0;l!==e;++l)i[s++]=t[a+l]}return i}function QM(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function Kde(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<n||y>=r)){h.push(u.times[m]);for(let x=0;x<d;++x)p.push(u.values[m*d+x])}}h.length!==0&&(u.times=yl(h,u.times.constructor),u.values=yl(p,u.values.constructor),s.push(u))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function Jde(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let x;if(o<=a.times[0]){const g=d,_=h-d;x=Li(a.values,g,_)}else if(o>=a.times[y]){const g=y*h+d,_=g+h-d;x=Li(a.values,g,_)}else{const g=a.createInterpolant(),_=d,w=h-d;g.evaluate(o),x=Li(g.resultBuffer,_,w)}l==="quaternion"&&new Zt().fromArray(x).normalize().conjugate().toArray(x);const S=u.times.length;for(let g=0;g<S;++g){const _=g*m+p;if(l==="quaternion")Zt.multiplyQuaternionsFlat(u.values,_,x,0,u.values,_);else{const w=m-p*2;for(let E=0;E<w;++E)u.values[_+E]-=x[E]}}}return t.blendMode=TM,t}const ehe={arraySlice:Li,convertArray:yl,isTypedArray:ZM,getKeyframeOrder:v5,sortedArray:_b,flattenJSON:QM,subclip:Kde,makeClipAdditive:Jde};class Yh{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class y5 extends Yh{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ml,endingEnd:ml}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case gl:o=e,a=2*n-r;break;case uh:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case gl:s=e,l=2*r-n;break;case uh:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=o*d,this._offsetNext=s*d}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-n)/(i-n),x=y*y,S=x*y,g=-p*S+2*p*x-p*y,_=(1+p)*S+(-1.5-2*p)*x+(-.5+p)*y+1,w=(-1-m)*S+(1.5+m)*x+.5*y,E=m*S-m*x;for(let T=0;T!==a;++T)o[T]=g*s[d+T]+_*s[u+T]+w*s[l+T]+E*s[h+T];return o}}class KM extends Yh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(r-n)/(i-n),h=1-d;for(let p=0;p!==a;++p)o[p]=s[u+p]*h+s[l+p]*d;return o}}class _5 extends Yh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class go{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yl(n,this.TimeBufferType),this.values=yl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:yl(e.times,Array),values:yl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new _5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new KM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new y5(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case lh:n=this.InterpolantFactoryMethodDiscrete;break;case ch:n=this.InterpolantFactoryMethodLinear;break;case Yg:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lh;case this.InterpolantFactoryMethodLinear:return ch;case this.InterpolantFactoryMethodSmooth:return Yg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Li(r,o,s),this.values=Li(this.values,o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&ZM(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Li(this.times),n=Li(this.values),r=this.getValueSize(),i=this.getInterpolation()===Yg,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let y=0;y!==r;++y){const x=n[h+y];if(x!==n[p+y]||x!==n[m+y]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const h=a*r,p=s*r;for(let m=0;m!==r;++m)n[p+m]=n[h+m]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,u=0;u!==r;++u)n[l+u]=n[a+u];++s}return s!==e.length?(this.times=Li(e,0,s),this.values=Li(n,0,s*r)):(this.times=e,this.values=n),this}clone(){const e=Li(this.times,0),n=Li(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}go.prototype.TimeBufferType=Float32Array;go.prototype.ValueBufferType=Float32Array;go.prototype.DefaultInterpolation=ch;class ql extends go{}ql.prototype.ValueTypeName="bool";ql.prototype.ValueBufferType=Array;ql.prototype.DefaultInterpolation=lh;ql.prototype.InterpolantFactoryMethodLinear=void 0;ql.prototype.InterpolantFactoryMethodSmooth=void 0;class JM extends go{}JM.prototype.ValueTypeName="color";class yh extends go{}yh.prototype.ValueTypeName="number";class x5 extends Yh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let d=u+a;u!==d;u+=4)Zt.slerpFlat(o,0,s,u-a,s,u,l);return o}}class lf extends go{InterpolantFactoryMethodLinear(e){return new x5(this.times,this.values,this.getValueSize(),e)}}lf.prototype.ValueTypeName="quaternion";lf.prototype.DefaultInterpolation=ch;lf.prototype.InterpolantFactoryMethodSmooth=void 0;class Zl extends go{}Zl.prototype.ValueTypeName="string";Zl.prototype.ValueBufferType=Array;Zl.prototype.DefaultInterpolation=lh;Zl.prototype.InterpolantFactoryMethodLinear=void 0;Zl.prototype.InterpolantFactoryMethodSmooth=void 0;class _h extends go{}_h.prototype.ValueTypeName="vector";class xh{constructor(e,n=-1,r,i=Qy){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=gi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(nhe(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(go.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let a=0;a<o;a++){let l=[],u=[];l.push((a+o-1)%o,a,(a+1)%o),u.push(0,1,0);const d=v5(l);l=_b(l,1,d),u=_b(u,1,d),!i&&l[0]===0&&(l.push(o),u.push(u[0])),s.push(new yh(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(o);if(d&&d.length>1){const h=d[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,y,x){if(m.length!==0){const S=[],g=[];QM(m,S,g,y),S.length!==0&&x.push(new h(p,S,g))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)m[p[y].morphTargets[x]]=-1;for(const x in m){const S=[],g=[];for(let _=0;_!==p[y].morphTargets.length;++_){const w=p[y];S.push(w.time),g.push(w.morphTarget===x?1:0)}i.push(new yh(".morphTargetInfluence["+x+"]",S,g))}l=m.length*s}else{const m=".bones["+n[h].name+"]";r(_h,m+".position",p,"pos",i),r(lf,m+".quaternion",p,"rot",i),r(_h,m+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function the(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yh;case"vector":case"vector2":case"vector3":case"vector4":return _h;case"color":return JM;case"quaternion":return lf;case"bool":case"boolean":return ql;case"string":return Zl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function nhe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=the(t.type);if(t.times===void 0){const n=[],r=[];QM(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Vl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class eT{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){a++,o===!1&&i.onStart!==void 0&&i.onStart(d,s,a),o=!0},this.itemEnd=function(d){s++,i.onProgress!==void 0&&i.onProgress(d,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const S5=new eT;class ei{constructor(e){this.manager=e!==void 0?e:S5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ei.DEFAULT_MATERIAL_NAME="__DEFAULT";const as={};class rhe extends Error{constructor(e,n){super(e),this.response=n}}class Ms extends ei{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Vl.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(as[e]!==void 0){as[e].push({onLoad:n,onProgress:r,onError:i});return}as[e]=[],as[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=as[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let x=0;const S=new ReadableStream({start(g){_();function _(){h.read().then(({done:w,value:E})=>{if(w)g.close();else{x+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:m});for(let P=0,A=d.length;P<A;P++){const I=d[P];I.onProgress&&I.onProgress(T)}g.enqueue(E),_()}})}}});return new Response(S)}else throw new rhe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{Vl.add(e,u);const d=as[e];delete as[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=as[e];if(d===void 0)throw this.manager.itemError(e),u;delete as[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ihe extends ei{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Ms(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=xh.parse(e[r]);n.push(i)}return n}}class ohe extends ei{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],a=new $M,l=new Ms(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=o.parse(p,!0);s[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Sn),a.image=s,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=o.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){s[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)s[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),s[y].format=p.format,s[y].width=p.width,s[y].height=p.height}a.image=s}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Sn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Sh extends ei{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Vl.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=hh("img");function l(){d(),Vl.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(h){d(),i&&i(h),o.manager.itemError(e),o.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class she extends ei{constructor(e){super(e)}load(e,n,r,i){const o=new Gh;o.colorSpace=bt;const s=new Sh(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(u){s.load(e[u],function(d){o.images[u]=d,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class ahe extends ei{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new yu,a=new Ms(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){const u=o.parse(l);!u||(u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:Er,s.wrapT=u.wrapT!==void 0?u.wrapT:Er,s.magFilter=u.magFilter!==void 0?u.magFilter:Sn,s.minFilter=u.minFilter!==void 0?u.minFilter:Sn,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?s.colorSpace=u.colorSpace:u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Aa),u.mipmapCount===1&&(s.minFilter=Sn),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,n&&n(s,u))},r,i),s}}class lhe extends ei{constructor(e){super(e)}load(e,n,r,i){const o=new Ln,s=new Sh(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Ua extends Ut{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Xe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class w5 extends Ua{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ut.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Xe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const t1=new yt,MO=new z,TO=new z;class tT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jy,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;MO.setFromMatrixPosition(e.matrixWorld),n.position.copy(MO),TO.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(TO),n.updateMatrixWorld(),t1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(t1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class che extends tT{constructor(){super(new tr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Fu*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class b5 extends Ua{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ut.DEFAULT_UP),this.updateMatrix(),this.target=new Ut,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new che}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const PO=new yt,ad=new z,n1=new z;class uhe extends tT{constructor(){super(new tr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),ad.setFromMatrixPosition(e.matrixWorld),r.position.copy(ad),n1.copy(r.position),n1.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(n1),r.updateMatrixWorld(),i.makeTranslation(-ad.x,-ad.y,-ad.z),PO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PO)}}class E5 extends Ua{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new uhe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class fhe extends tT{constructor(){super(new jh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class M5 extends Ua{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ut.DEFAULT_UP),this.updateMatrix(),this.target=new Ut,this.shadow=new fhe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class T5 extends Ua{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class P5 extends Ua{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class A5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class __ extends Ua{constructor(e=new A5,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class x_ extends ei{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new Ms(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=x_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Xe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Xe().setHex(s.value);break;case"v2":i.uniforms[o].value=new Le().fromArray(s.value);break;case"v3":i.uniforms[o].value=new z().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Kt().fromArray(s.value);break;case"m3":i.uniforms[o].value=new At().fromArray(s.value);break;case"m4":i.uniforms[o].value=new yt().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Le().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:l5,SpriteMaterial:FM,RawShaderMaterial:c5,ShaderMaterial:$o,PointsMaterial:VM,MeshPhysicalMaterial:u5,MeshStandardMaterial:qM,MeshPhongMaterial:f5,MeshToonMaterial:d5,MeshNormalMaterial:h5,MeshLambertMaterial:p5,MeshDepthMaterial:DM,MeshDistanceMaterial:kM,MeshBasicMaterial:jo,MeshMatcapMaterial:m5,LineDashedMaterial:g5,LineBasicMaterial:Tr,Material:ur};return new n[e]}}class xb{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class R5 extends wt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class C5 extends ei{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Ms(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,y){if(n[y]!==void 0)return n[y];const S=m.interleavedBuffers[y],g=o(m,S.buffer),_=ru(S.type,g),w=new r_(_,S.stride);return w.uuid=S.uuid,n[y]=w,w}function o(m,y){if(r[y]!==void 0)return r[y];const S=m.arrayBuffers[y],g=new Uint32Array(S).buffer;return r[y]=g,g}const s=e.isInstancedBufferGeometry?new R5:new wt,a=e.data.index;if(a!==void 0){const m=ru(a.type,a.array);s.setIndex(new on(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let x;if(y.isInterleavedBufferAttribute){const S=i(e.data,y.data);x=new Fl(S,y.itemSize,y.offset,y.normalized)}else{const S=ru(y.type,y.array),g=y.isInstancedBufferAttribute?Vu:on;x=new g(S,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),y.updateRange!==void 0&&(x.updateRange.offset=y.updateRange.offset,x.updateRange.count=y.updateRange.count),s.setAttribute(m,x)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],x=[];for(let S=0,g=y.length;S<g;S++){const _=y[S];let w;if(_.isInterleavedBufferAttribute){const E=i(e.data,_.data);w=new Fl(E,_.itemSize,_.offset,_.normalized)}else{const E=ru(_.type,_.array);w=new on(E,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),x.push(w)}s.morphAttributes[m]=x}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const x=h[m];s.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new z;p.center!==void 0&&m.fromArray(p.center),s.boundingSphere=new po(m,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class dhe extends ei{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?xb.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Ms(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?xb.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Ms(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,o,l,a,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),n!==void 0){let h=!1;for(const p in s)if(s[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Tl().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new i_().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new C5;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in EO?a=EO[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new x_;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=xh.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return s(d)}else return l.data?{data:ru(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new eT(n);o=new Sh(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const S=p[y],g=a(S);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new yu(g.data,g.width,g.height)))}i[h.uuid]=new vl(m)}else{const m=a(h.url);i[h.uuid]=new vl(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:ru(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Sh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await o(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new yu(y.data,y.width,y.height)))}r[l.uuid]=new vl(d)}else{const d=await o(l.url);r[l.uuid]=new vl(d)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let d;Array.isArray(u)?(d=new Gh,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new yu:d=new Ln,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,hhe)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],AO),d.wrapT=r(a.wrap[1],AO)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,RO)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,RO)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,n,r,i,o){let s;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const S=p[y];r[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),m.push(r[S])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let d,h;switch(e.type){case"Scene":s=new N0,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Xe(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new n_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new t_(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new tr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new jh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new T5(e.color,e.intensity);break;case"DirectionalLight":s=new M5(e.color,e.intensity);break;case"PointLight":s=new E5(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new P5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new b5(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new w5(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new __().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),s=new Y4(d,h),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),s=new Ze(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;s=new q4(d,h,p),s.instanceMatrix=new Vu(new Float32Array(m.array),16),y!==void 0&&(s.instanceColor=new Vu(new Float32Array(y.array),y.itemSize));break;case"LOD":s=new X4;break;case"Line":s=new Nt(a(e.geometry),l(e.material));break;case"LineLoop":s=new Z4(a(e.geometry),l(e.material));break;case"LineSegments":s=new Xo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new Q4(a(e.geometry),l(e.material));break;case"Sprite":s=new j4(l(e.material));break;case"Group":s=new ou;break;case"Bone":s=new BM;break;default:s=new Ut}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)s.add(this.parseObject(p[m],n,r,i,o))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];s.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],x=s.getObjectByProperty("uuid",y.object);x!==void 0&&s.addLevel(x,y.distance,y.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const hhe={UVMapping:qy,CubeReflectionMapping:Ta,CubeRefractionMapping:Pa,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:oh,CubeUVReflectionMapping:nf},AO={RepeatWrapping:sh,ClampToEdgeWrapping:Er,MirroredRepeatWrapping:ah},RO={NearestFilter:Nn,NearestMipmapNearestFilter:L0,NearestMipmapLinearFilter:Ld,LinearFilter:Sn,LinearMipmapNearestFilter:_M,LinearMipmapLinearFilter:Aa};class phe extends ei{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Vl.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Vl.add(e,l),n&&n(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let ug;class nT{static getContext(){return ug===void 0&&(ug=new(window.AudioContext||window.webkitAudioContext)),ug}static setContext(e){ug=e}}class mhe extends ei{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Ms(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const u=l.slice(0);nT.getContext().decodeAudioData(u,function(h){n(h)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),o.manager.itemError(e)}}}class ghe extends __{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Xe().set(e),o=new Xe().set(n),s=new z(i.r,i.g,i.b),a=new z(o.r,o.g,o.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(u)}}class vhe extends __{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Xe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const CO=new yt,LO=new yt,Ka=new yt;class yhe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ka.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(El*n.fov*.5)/n.zoom;let a,l;LO.elements[12]=-i,CO.elements[12]=i,a=-s*n.aspect+o,l=s*n.aspect+o,Ka.elements[0]=2*n.near/(l-a),Ka.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ka),a=-s*n.aspect-o,l=s*n.aspect-o,Ka.elements[0]=2*n.near/(l-a),Ka.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ka)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(LO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CO)}}class rT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=OO();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function OO(){return(typeof performance>"u"?Date:performance).now()}const Ja=new z,IO=new Zt,_he=new z,el=new z;class xhe extends Ut{constructor(){super(),this.type="AudioListener",this.context=nT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new rT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ja,IO,_he),el.set(0,0,-1).applyQuaternion(IO),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ja.x,i),n.positionY.linearRampToValueAtTime(Ja.y,i),n.positionZ.linearRampToValueAtTime(Ja.z,i),n.forwardX.linearRampToValueAtTime(el.x,i),n.forwardY.linearRampToValueAtTime(el.y,i),n.forwardZ.linearRampToValueAtTime(el.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ja.x,Ja.y,Ja.z),n.setOrientation(el.x,el.y,el.z,r.x,r.y,r.z)}}class L5 extends Ut{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const tl=new z,NO=new Zt,She=new z,nl=new z;class whe extends L5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(tl,NO,She),nl.set(0,0,1).applyQuaternion(NO);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(tl.x,r),n.positionY.linearRampToValueAtTime(tl.y,r),n.positionZ.linearRampToValueAtTime(tl.z,r),n.orientationX.linearRampToValueAtTime(nl.x,r),n.orientationY.linearRampToValueAtTime(nl.y,r),n.orientationZ.linearRampToValueAtTime(nl.z,r)}else n.setPosition(tl.x,tl.y,tl.z),n.setOrientation(nl.x,nl.y,nl.z)}}class bhe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class O5{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Zt.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;Zt.multiplyQuaternionsFlat(e,s,e,n,e,r),Zt.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=n+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[r+s]*i}}}const iT="\\[\\]\\.:\\/",Ehe=new RegExp("["+iT+"]","g"),oT="[^"+iT+"]",Mhe="[^"+iT.replace("\\.","")+"]",The=/((?:WC+[\/:])*)/.source.replace("WC",oT),Phe=/(WCOD+)?/.source.replace("WCOD",Mhe),Ahe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oT),Rhe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oT),Che=new RegExp("^"+The+Phe+Ahe+Rhe+"$"),Lhe=["material","materials","bones","map"];class Ohe{constructor(e,n,r){const i=r||Bt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Bt{constructor(e,n,r){this.path=n,this.parsedPath=r||Bt.parseTrackName(n),this.node=Bt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Bt.Composite(e,n,r):new Bt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ehe,"")}static parseTrackName(e){const n=Che.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Lhe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Bt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bt.Composite=Ohe;Bt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bt.prototype.GetterByBindingType=[Bt.prototype._getValue_direct,Bt.prototype._getValue_array,Bt.prototype._getValue_arrayElement,Bt.prototype._getValue_toArray];Bt.prototype.SetterByBindingTypeAndVersioning=[[Bt.prototype._setValue_direct,Bt.prototype._setValue_direct_setNeedsUpdate,Bt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_array,Bt.prototype._setValue_array_setNeedsUpdate,Bt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_arrayElement,Bt.prototype._setValue_arrayElement_setNeedsUpdate,Bt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_fromArray,Bt.prototype._setValue_fromArray_setNeedsUpdate,Bt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ihe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=gi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=n[m];if(y===void 0){y=l++,n[m]=y,e.push(p);for(let x=0,S=s;x!==S;++x)o[x].push(new Bt(p,r[x],i[x]))}else if(y<u){a=e[y];const x=--u,S=e[x];n[S.uuid]=y,e[y]=S,n[m]=x,e[x]=p;for(let g=0,_=s;g!==_;++g){const w=o[g],E=w[x];let T=w[y];w[y]=E,T===void 0&&(T=new Bt(p,r[g],i[g])),w[x]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],u=l.uuid,d=n[u];if(d!==void 0&&d>=o){const h=o++,p=e[h];n[p.uuid]=d,e[d]=p,n[u]=h,e[h]=l;for(let m=0,y=i;m!==y;++m){const x=r[m],S=x[h],g=x[d];x[d]=S,x[h]=g}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=n[d];if(h!==void 0)if(delete n[d],h<o){const p=--o,m=e[p],y=--s,x=e[y];n[m.uuid]=h,e[h]=m,n[x.uuid]=p,e[p]=x,e.pop();for(let S=0,g=i;S!==g;++S){const _=r[S],w=_[p],E=_[y];_[h]=w,_[p]=E,_.pop()}}else{const p=--s,m=e[p];p>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let y=0,x=i;y!==x;++y){const S=r[y];S[h]=S[p],S.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);i=o.length,r[e]=i,s.push(e),a.push(n),o.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Bt(y,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],u=e[a];n[u]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class I5{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:ml,endingEnd:ml};for(let u=0;u!==s;++u){const d=o[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=g4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/s,u[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case TM:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(s),u[d].accumulateAdditive(a);break;case Qy:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(s),u[d].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===v4;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===m4){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=gl,i.endingEnd=gl):(e?i.endingStart=this.zeroSlopeAtStart?gl:ml:i.endingStart=uh,n?i.endingEnd=this.zeroSlopeAtEnd?gl:ml:i.endingEnd=uh)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=r,this}}const Nhe=new Float32Array(1);class Dhe extends Ls{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==o;++h){const p=i[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,s[h]=y;else{if(y=s[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const x=n&&n._propertyBindings[h].binding.parsedPath;y=new O5(Bt.create(r,m,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),s[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new KM(new Float32Array(2),new Float32Array(2),1,Nhe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?xh.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=Qy),l!==void 0){const h=l.actionByRoot[o];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const d=new I5(this,s,n,r);return this._bindAction(d,u),this._addInactiveAction(d,a,o),d}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?xh.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const u=s[a];this._deactivateAction(u);const d=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class sT{constructor(e){this.value=e}clone(){return new sT(this.value.clone===void 0?this.value:this.value.clone())}}let khe=0;class Uhe extends Ls{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:khe++}),this.name="",this.usage=fh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class zhe extends r_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Fhe{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class aT{constructor(e,n,r=0,i=1/0){this.ray=new rf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ml,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Sb(e,this,r,n),r.sort(DO),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)Sb(e[i],this,r,n);return r.sort(DO),r}}function DO(t,e){return t.distance-e.distance}function Sb(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,s=i.length;o<s;o++)Sb(i[o],e,n,!0)}}class Bhe{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Cn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Vhe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const kO=new Le;class $he{constructor(e=new Le(1/0,1/0),n=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=kO.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,kO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const UO=new z,fg=new z;class Hhe{constructor(e=new z,n=new z){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){UO.subVectors(e,this.start),fg.subVectors(this.end,this.start);const r=fg.dot(fg);let o=fg.dot(UO)/r;return n&&(o=Cn(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zO=new z;class Whe extends Ut{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new wt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const u=s/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new et(i,3));const o=new Tr({fog:!1,toneMapped:!1});this.cone=new Xo(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),zO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const qs=new z,dg=new yt,r1=new yt;class Ghe extends Xo{constructor(e){const n=N5(e),r=new wt,i=[],o=[],s=new Xe(0,0,1),a=new Xe(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new et(i,3)),r.setAttribute("color",new et(o,3));const l=new Tr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");r1.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(dg.multiplyMatrices(r1,a.matrixWorld),qs.setFromMatrixPosition(dg),i.setXYZ(s,qs.x,qs.y,qs.z),dg.multiplyMatrices(r1,a.parent.matrixWorld),qs.setFromMatrixPosition(dg),i.setXYZ(s+1,qs.x,qs.y,qs.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function N5(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,N5(t.children[n]));return e}class jhe extends Ze{constructor(e,n,r){const i=new af(n,4,2),o=new jo({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Xhe=new z,FO=new Xe,BO=new Xe;class Yhe extends Ut{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Oi(n);i.rotateY(Math.PI*.5),this.material=new jo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new on(s,3)),this.add(new Ze(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");FO.copy(this.light.color),BO.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?FO:BO;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Xhe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qhe extends Xo{constructor(e=10,n=10,r=4473924,i=8947848){r=new Xe(r),i=new Xe(i);const o=n/2,s=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=n;p++,y+=s){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const x=p===o?r:i;x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3}const d=new wt;d.setAttribute("position",new et(l,3)),d.setAttribute("color",new et(u,3));const h=new Tr({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zhe extends Xo{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new Xe(o),s=new Xe(s);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const x=h&1?o:s;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const p=h&1?o:s,m=e-e/r*h;for(let y=0;y<i;y++){let x=y/i*(Math.PI*2),S=Math.sin(x)*m,g=Math.cos(x)*m;a.push(S,0,g),l.push(p.r,p.g,p.b),x=(y+1)/i*(Math.PI*2),S=Math.sin(x)*m,g=Math.cos(x)*m,a.push(S,0,g),l.push(p.r,p.g,p.b)}}const u=new wt;u.setAttribute("position",new et(a,3)),u.setAttribute("color",new et(l,3));const d=new Tr({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const VO=new z,hg=new z,$O=new z;class Qhe extends Ut{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new wt;i.setAttribute("position",new et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Tr({fog:!1,toneMapped:!1});this.lightPlane=new Nt(i,o),this.add(this.lightPlane),i=new wt,i.setAttribute("position",new et([0,0,0,0,0,1],3)),this.targetLine=new Nt(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),VO.setFromMatrixPosition(this.light.matrixWorld),hg.setFromMatrixPosition(this.light.target.matrixWorld),$O.subVectors(hg,VO),this.lightPlane.lookAt(hg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hg),this.targetLine.scale.z=$O.length()}}const pg=new z,An=new Wh;class Khe extends Xo{constructor(e){const n=new wt,r=new Tr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,x){l(y),l(x)}function l(y){i.push(0,0,0),o.push(0,0,0),s[y]===void 0&&(s[y]=[]),s[y].push(i.length/3-1)}n.setAttribute("position",new et(i,3)),n.setAttribute("color",new et(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new Xe(16755200),d=new Xe(16711680),h=new Xe(43775),p=new Xe(16777215),m=new Xe(3355443);this.setColors(u,d,h,p,m)}setColors(e,n,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;An.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),In("c",n,e,An,0,0,-1),In("t",n,e,An,0,0,1),In("n1",n,e,An,-r,-i,-1),In("n2",n,e,An,r,-i,-1),In("n3",n,e,An,-r,i,-1),In("n4",n,e,An,r,i,-1),In("f1",n,e,An,-r,-i,1),In("f2",n,e,An,r,-i,1),In("f3",n,e,An,-r,i,1),In("f4",n,e,An,r,i,1),In("u1",n,e,An,r*.7,i*1.1,-1),In("u2",n,e,An,-r*.7,i*1.1,-1),In("u3",n,e,An,0,i*2,-1),In("cf1",n,e,An,-r,0,1),In("cf2",n,e,An,r,0,1),In("cf3",n,e,An,0,-i,1),In("cf4",n,e,An,0,i,1),In("cn1",n,e,An,-r,0,-1),In("cn2",n,e,An,r,0,-1),In("cn3",n,e,An,0,-i,-1),In("cn4",n,e,An,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function In(t,e,n,r,i,o,s){pg.set(i,o,s).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],pg.x,pg.y,pg.z)}}const mg=new Go;class Jhe extends Xo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new wt;o.setIndex(new on(r,1)),o.setAttribute("position",new on(i,3)),super(o,new Tr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&mg.setFromObject(this.object),mg.isEmpty())return;const n=mg.min,r=mg.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class epe extends Xo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new wt;o.setIndex(new on(r,1)),o.setAttribute("position",new et(i,3)),super(o,new Tr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class tpe extends Nt{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new wt;s.setAttribute("position",new et(o,3)),s.computeBoundingSphere(),super(s,new Tr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new wt;l.setAttribute("position",new et(a,3)),l.computeBoundingSphere(),this.add(new Ze(l,new jo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const HO=new z;let gg,i1;class npe extends Ut{constructor(e=new z(0,0,1),n=new z(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",gg===void 0&&(gg=new wt,gg.setAttribute("position",new et([0,0,0,0,1,0],3)),i1=new sr(0,.5,1,5,1),i1.translate(0,-.5,0)),this.position.copy(n),this.line=new Nt(gg,new Tr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ze(i1,new jo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{HO.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(HO,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class rpe extends Xo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new wt;i.setAttribute("position",new et(n,3)),i.setAttribute("color",new et(r,3));const o=new Tr({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new Xe,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ipe{constructor(){this.type="ShapePath",this.color=new Xe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ph,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let w=0,E=g.length;w<E;w++){const T=g[w],P=new Tl;P.curves=T.curves,_.push(P)}return _}function r(g,_){const w=_.length;let E=!1;for(let T=w-1,P=0;P<w;T=P++){let A=_[T],I=_[P],C=I.x-A.x,O=I.y-A.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(A=_[P],C=-C,I=_[T],O=-O),g.y<A.y||g.y>I.y)continue;if(g.y===A.y){if(g.x===A.x)return!0}else{const B=O*(g.x-A.x)-C*(g.y-A.y);if(B===0)return!0;if(B<0)continue;E=!E}}else{if(g.y!==A.y)continue;if(I.x<=g.x&&g.x<=A.x||A.x<=g.x&&g.x<=I.x)return!0}}return E}const i=Vo.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const u=[];if(o.length===1)return a=o[0],l=new Tl,l.curves=a.curves,u.push(l),u;let d=!i(o[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,x;p[y]=void 0,m[y]=[];for(let g=0,_=o.length;g<_;g++)a=o[g],x=a.getPoints(),s=i(x),s=e?!s:s,s?(!d&&p[y]&&y++,p[y]={s:new Tl,p:x},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:x[0]});if(!p[0])return n(o);if(p.length>1){let g=!1,_=0;for(let w=0,E=p.length;w<E;w++)h[w]=[];for(let w=0,E=p.length;w<E;w++){const T=m[w];for(let P=0;P<T.length;P++){const A=T[P];let I=!0;for(let C=0;C<p.length;C++)r(A.p,p[C].p)&&(w!==C&&_++,I?(I=!1,h[C].push(A)):g=!0);I&&h[w].push(A)}}_>0&&g===!1&&(m=h)}let S;for(let g=0,_=p.length;g<_;g++){l=p[g].s,u.push(l),S=m[g];for(let w=0,E=S.length;w<E;w++)l.holes.push(S[w].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xy);const ope=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:yM,AddEquation:ul,AddOperation:t4,AdditiveAnimationBlendMode:TM,AdditiveBlending:zw,AlphaFormat:l4,AlwaysCompare:R4,AlwaysDepth:YF,AlwaysStencilFunc:S4,AmbientLight:T5,AmbientLightProbe:vhe,AnimationAction:I5,AnimationClip:xh,AnimationLoader:ihe,AnimationMixer:Dhe,AnimationObjectGroup:Ihe,AnimationUtils:ehe,ArcCurve:K4,ArrayCamera:H4,ArrowHelper:npe,Audio:L5,AudioAnalyser:bhe,AudioContext:nT,AudioListener:xhe,AudioLoader:mhe,AxesHelper:rpe,BackSide:Nr,BasicDepthPacking:y4,BasicShadowMap:NF,Bone:BM,BooleanKeyframeTrack:ql,Box2:$he,Box3:Go,Box3Helper:epe,BoxGeometry:$r,BoxHelper:Jhe,BufferAttribute:on,BufferGeometry:wt,BufferGeometryLoader:C5,ByteType:s4,Cache:Vl,Camera:Wh,CameraHelper:Khe,CanvasTexture:Ede,CapsuleGeometry:a_,CatmullRomCurve3:J4,CineonToneMapping:i4,CircleGeometry:l_,ClampToEdgeWrapping:Er,Clock:rT,Color:Xe,ColorKeyframeTrack:JM,ColorManagement:Ci,CompressedArrayTexture:bde,CompressedTexture:$M,CompressedTextureLoader:ohe,ConeGeometry:c_,CubeCamera:D4,CubeReflectionMapping:Ta,CubeRefractionMapping:Pa,CubeTexture:Gh,CubeTextureLoader:she,CubeUVReflectionMapping:nf,CubicBezierCurve:WM,CubicBezierCurve3:e5,CubicInterpolant:y5,CullFaceBack:Uw,CullFaceFront:IF,CullFaceFrontBack:yse,CullFaceNone:OF,Curve:mo,CurvePath:n5,CustomBlending:DF,CustomToneMapping:o4,CylinderGeometry:sr,Cylindrical:Vhe,Data3DTexture:LM,DataArrayTexture:Ky,DataTexture:yu,DataTextureLoader:ahe,DataUtils:Cae,DecrementStencilOp:Cse,DecrementWrapStencilOp:Ose,DefaultLoadingManager:S5,DepthFormat:xa,DepthStencilFormat:zl,DepthTexture:UM,DirectionalLight:M5,DirectionalLightHelper:Qhe,DiscreteInterpolant:_5,DisplayP3ColorSpace:AM,DodecahedronGeometry:u_,DoubleSide:ki,DstAlphaFactor:$F,DstColorFactor:WF,DynamicCopyUsage:Xse,DynamicDrawUsage:Vse,DynamicReadUsage:Wse,EdgesGeometry:r5,EllipseCurve:o_,EqualCompare:E4,EqualDepth:ZF,EqualStencilFunc:kse,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:oh,Euler:of,EventDispatcher:Ls,ExtrudeGeometry:d_,FileLoader:Ms,Float16BufferAttribute:kae,Float32BufferAttribute:et,Float64BufferAttribute:Uae,FloatType:io,Fog:n_,FogExp2:t_,FramebufferTexture:wde,FrontSide:Es,Frustum:Jy,GLBufferAttribute:Fhe,GLSL1:qse,GLSL3:db,GreaterCompare:T4,GreaterDepth:KF,GreaterEqualCompare:A4,GreaterEqualDepth:QF,GreaterEqualStencilFunc:Bse,GreaterStencilFunc:zse,GridHelper:qhe,Group:ou,HalfFloatType:Ul,HemisphereLight:w5,HemisphereLightHelper:Yhe,HemisphereLightProbe:ghe,IcosahedronGeometry:h_,ImageBitmapLoader:phe,ImageLoader:Sh,ImageUtils:CM,IncrementStencilOp:Rse,IncrementWrapStencilOp:Lse,InstancedBufferAttribute:Vu,InstancedBufferGeometry:R5,InstancedInterleavedBuffer:zhe,InstancedMesh:q4,Int16BufferAttribute:Nae,Int32BufferAttribute:Dae,Int8BufferAttribute:Lae,IntType:xM,InterleavedBuffer:r_,InterleavedBufferAttribute:Fl,Interpolant:Yh,InterpolateDiscrete:lh,InterpolateLinear:ch,InterpolateSmooth:Yg,InvertStencilOp:Ise,KeepStencilOp:qg,KeyframeTrack:go,LOD:X4,LatheGeometry:Xh,Layers:Ml,LessCompare:b4,LessDepth:qF,LessEqualCompare:M4,LessEqualDepth:C0,LessEqualStencilFunc:Use,LessStencilFunc:Dse,Light:Ua,LightProbe:__,Line:Nt,Line3:Hhe,LineBasicMaterial:Tr,LineCurve:s_,LineCurve3:t5,LineDashedMaterial:g5,LineLoop:Z4,LineSegments:Xo,LinearEncoding:PM,LinearFilter:Sn,LinearInterpolant:KM,LinearMipMapLinearFilter:bse,LinearMipMapNearestFilter:wse,LinearMipmapLinearFilter:Aa,LinearMipmapNearestFilter:_M,LinearSRGBColorSpace:fo,LinearToneMapping:n4,Loader:ei,LoaderUtils:xb,LoadingManager:eT,LoopOnce:m4,LoopPingPong:v4,LoopRepeat:g4,LuminanceAlphaFormat:u4,LuminanceFormat:c4,MOUSE:gse,Material:ur,MaterialLoader:x_,MathUtils:ci,Matrix3:At,Matrix4:yt,MaxEquation:$w,Mesh:Ze,MeshBasicMaterial:jo,MeshDepthMaterial:DM,MeshDistanceMaterial:kM,MeshLambertMaterial:p5,MeshMatcapMaterial:m5,MeshNormalMaterial:h5,MeshPhongMaterial:f5,MeshPhysicalMaterial:u5,MeshStandardMaterial:qM,MeshToonMaterial:d5,MinEquation:Vw,MirroredRepeatWrapping:ah,MixOperation:e4,MultiplyBlending:Bw,MultiplyOperation:Hh,NearestFilter:Nn,NearestMipMapLinearFilter:Sse,NearestMipMapNearestFilter:xse,NearestMipmapLinearFilter:Ld,NearestMipmapNearestFilter:L0,NeverCompare:w4,NeverDepth:XF,NeverStencilFunc:Nse,NoBlending:vs,NoColorSpace:wa,NoToneMapping:ao,NormalAnimationBlendMode:Qy,NormalBlending:bl,NotEqualCompare:P4,NotEqualDepth:JF,NotEqualStencilFunc:Fse,NumberKeyframeTrack:yh,Object3D:Ut,ObjectLoader:dhe,ObjectSpaceNormalMap:x4,OctahedronGeometry:Oi,OneFactor:FF,OneMinusDstAlphaFactor:HF,OneMinusDstColorFactor:GF,OneMinusSrcAlphaFactor:vM,OneMinusSrcColorFactor:VF,OrthographicCamera:jh,PCFShadowMap:Yy,PCFSoftShadowMap:Cd,PMREMGenerator:pb,Path:ph,PerspectiveCamera:tr,Plane:ea,PlaneGeometry:Di,PlaneHelper:tpe,PointLight:E5,PointLightHelper:jhe,Points:Q4,PointsMaterial:VM,PolarGridHelper:Zhe,PolyhedronGeometry:ka,PositionalAudio:whe,PropertyBinding:Bt,PropertyMixer:O5,QuadraticBezierCurve:GM,QuadraticBezierCurve3:jM,Quaternion:Zt,QuaternionKeyframeTrack:lf,QuaternionLinearInterpolant:x5,RED_GREEN_RGTC2_Format:ub,RED_RGTC1_Format:p4,REVISION:Xy,RGBADepthPacking:_4,RGBAFormat:jr,RGBAIntegerFormat:MM,RGBA_ASTC_10x10_Format:sb,RGBA_ASTC_10x5_Format:rb,RGBA_ASTC_10x6_Format:ib,RGBA_ASTC_10x8_Format:ob,RGBA_ASTC_12x10_Format:ab,RGBA_ASTC_12x12_Format:lb,RGBA_ASTC_4x4_Format:qw,RGBA_ASTC_5x4_Format:Zw,RGBA_ASTC_5x5_Format:Qw,RGBA_ASTC_6x5_Format:Kw,RGBA_ASTC_6x6_Format:Jw,RGBA_ASTC_8x5_Format:eb,RGBA_ASTC_8x6_Format:tb,RGBA_ASTC_8x8_Format:nb,RGBA_BPTC_Format:Xg,RGBA_ETC2_EAC_Format:Yw,RGBA_PVRTC_2BPPV1_Format:jw,RGBA_PVRTC_4BPPV1_Format:Gw,RGBA_S3TC_DXT1_Format:Wg,RGBA_S3TC_DXT3_Format:Gg,RGBA_S3TC_DXT5_Format:jg,RGB_ETC1_Format:h4,RGB_ETC2_Format:Xw,RGB_PVRTC_2BPPV1_Format:Ww,RGB_PVRTC_4BPPV1_Format:Hw,RGB_S3TC_DXT1_Format:Hg,RGFormat:d4,RGIntegerFormat:EM,RawShaderMaterial:c5,Ray:rf,Raycaster:aT,RectAreaLight:P5,RedFormat:f4,RedIntegerFormat:bM,ReinhardToneMapping:r4,RepeatWrapping:sh,ReplaceStencilOp:Ase,ReverseSubtractEquation:UF,RingGeometry:p_,SIGNED_RED_GREEN_RGTC2_Format:fb,SIGNED_RED_RGTC1_Format:cb,SRGBColorSpace:bt,Scene:N0,ShaderChunk:Mt,ShaderLib:ro,ShaderMaterial:$o,ShadowMaterial:l5,Shape:Tl,ShapeGeometry:m_,ShapePath:ipe,ShapeUtils:Vo,ShortType:a4,Skeleton:i_,SkeletonHelper:Ghe,SkinnedMesh:Y4,Source:vl,Sphere:po,SphereGeometry:af,Spherical:Bhe,SphericalHarmonics3:A5,SplineCurve:XM,SpotLight:b5,SpotLightHelper:Whe,Sprite:j4,SpriteMaterial:FM,SrcAlphaFactor:gM,SrcAlphaSaturateFactor:jF,SrcColorFactor:BF,StaticCopyUsage:jse,StaticDrawUsage:fh,StaticReadUsage:Hse,StereoCamera:yhe,StreamCopyUsage:Yse,StreamDrawUsage:$se,StreamReadUsage:Gse,StringKeyframeTrack:Zl,SubtractEquation:kF,SubtractiveBlending:Fw,TOUCH:vse,TangentSpaceNormalMap:Da,TetrahedronGeometry:g_,Texture:Ln,TextureLoader:lhe,TorusGeometry:aa,TorusKnotGeometry:v_,Triangle:Gr,TriangleFanDrawMode:Tse,TriangleStripDrawMode:Mse,TrianglesDrawMode:Ese,TubeGeometry:y_,TwoPassDoubleSide:_se,UVMapping:qy,Uint16BufferAttribute:OM,Uint32BufferAttribute:IM,Uint8BufferAttribute:Oae,Uint8ClampedBufferAttribute:Iae,Uniform:sT,UniformsGroup:Uhe,UniformsLib:$e,UniformsUtils:N4,UnsignedByteType:Bo,UnsignedInt248Type:_a,UnsignedIntType:ps,UnsignedShort4444Type:SM,UnsignedShort5551Type:wM,UnsignedShortType:Zy,VSMShadowMap:eo,Vector2:Le,Vector3:z,Vector4:Kt,VectorKeyframeTrack:_h,VideoTexture:Sde,WebGL1Renderer:W4,WebGL3DRenderTarget:_ae,WebGLArrayRenderTarget:yae,WebGLCoordinateSystem:ko,WebGLCubeRenderTarget:k4,WebGLMultipleRenderTargets:xae,WebGLRenderTarget:$i,WebGLRenderer:zM,WebGLUtils:$4,WebGPUCoordinateSystem:dh,WireframeGeometry:a5,WrapAroundEnding:uh,ZeroCurvatureEnding:ml,ZeroFactor:zF,ZeroSlopeEnding:gl,ZeroStencilOp:Pse,_SRGBAFormat:O0,sRGBEncoding:Sa},Symbol.toStringTag,{value:"Module"}));var _l={exports:{}},Ql={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ql.ConcurrentRoot=1;Ql.ContinuousEventPriority=4;Ql.DefaultEventPriority=16;Ql.DiscreteEventPriority=1;Ql.IdleEventPriority=536870912;Ql.LegacyRoot=0;(function(t){t.exports=Ql})(_l);function spe(t){let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,o=(u,d=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const x=p;u(p=y,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,d,h)=>d||h?o(u,d,h):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const ape=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),WO=ape?L.exports.useEffect:L.exports.useLayoutEffect;function lpe(t){const e=typeof t=="function"?spe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=L.exports.useReducer(S=>S+1,0),s=e.getState(),a=L.exports.useRef(s),l=L.exports.useRef(r),u=L.exports.useRef(i),d=L.exports.useRef(!1),h=L.exports.useRef();h.current===void 0&&(h.current=r(s));let p,m=!1;(a.current!==s||l.current!==r||u.current!==i||d.current)&&(p=r(s),m=!i(h.current,p)),WO(()=>{m&&(h.current=p),a.current=s,l.current=r,u.current=i,d.current=!1});const y=L.exports.useRef(s);WO(()=>{const S=()=>{try{const _=e.getState(),w=l.current(_);u.current(h.current,w)||(a.current=_,h.current=w,o())}catch{d.current=!0,o()}},g=e.subscribe(S);return e.getState()!==y.current&&S(),g},[]);const x=m?p:h.current;return L.exports.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var D5={exports:{}},D0={exports:{}},k5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var W=U.length;U.push(K);e:for(;0<W;){var G=W-1>>>1,N=U[G];if(0<i(N,K))U[G]=K,U[W]=N,W=G;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],W=U.pop();if(W!==K){U[0]=W;e:for(var G=0,N=U.length,te=N>>>1;G<te;){var D=2*(G+1)-1,ue=U[D],ce=D+1,Pe=U[ce];if(0>i(ue,W))ce<N&&0>i(Pe,ue)?(U[G]=Pe,U[ce]=W,G=ce):(U[G]=ue,U[D]=W,G=D);else if(ce<N&&0>i(Pe,W))U[G]=Pe,U[ce]=W,G=ce;else break e}}return K}function i(U,K){var W=U.sortIndex-K.sortIndex;return W!==0?W:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function E(U){if(x=!1,w(U),!y)if(n(l)!==null)y=!0,re(T);else{var K=n(u);K!==null&&ne(E,K.startTime-U)}}function T(U,K){y=!1,x&&(x=!1,g(I),I=-1),m=!0;var W=p;try{for(w(K),h=n(l);h!==null&&(!(h.expirationTime>K)||U&&!B());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var N=G(h.expirationTime<=K);K=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(l)&&r(l),w(K)}else r(l);h=n(l)}if(h!==null)var te=!0;else{var D=n(u);D!==null&&ne(E,D.startTime-K),te=!1}return te}finally{h=null,p=W,m=!1}}var P=!1,A=null,I=-1,C=5,O=-1;function B(){return!(t.unstable_now()-O<C)}function ee(){if(A!==null){var U=t.unstable_now();O=U;var K=!0;try{K=A(!0,U)}finally{K?V():(P=!1,A=null)}}else P=!1}var V;if(typeof _=="function")V=function(){_(ee)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=ee,V=function(){J.postMessage(null)}}else V=function(){S(ee,0)};function re(U){A=U,P||(P=!0,V())}function ne(U,K){I=S(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,re(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var W=p;p=K;try{return U()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=p;p=U;try{return K()}finally{p=W}},t.unstable_scheduleCallback=function(U,K,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=W+N,U={id:d++,callback:K,priorityLevel:U,startTime:W,expirationTime:N,sortIndex:-1},W>G?(U.sortIndex=W,e(u,U),n(l)===null&&U===n(u)&&(x?(g(I),I=-1):x=!0,ne(E,W-G))):(U.sortIndex=N,e(l,U),y||m||(y=!0,re(T))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var K=p;return function(){var W=p;p=K;try{return U.apply(this,arguments)}finally{p=W}}}})(k5);(function(t){t.exports=k5})(D0);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cpe=function(e){var n={},r=L.exports,i=D0.exports,o=Object.assign;function s(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}function A(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case x:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return f=c.displayName||null,f!==null?f:A(c.type)||"Memo";case w:f=c._payload,c=c._init;try{return A(c(f))}catch{}}return null}function I(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function C(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function O(c){if(C(c)!==c)throw Error(s(188))}function B(c){var f=c.alternate;if(!f){if(f=C(c),f===null)throw Error(s(188));return f!==c?null:c}for(var v=c,b=f;;){var M=v.return;if(M===null)break;var R=M.alternate;if(R===null){if(b=M.return,b!==null){v=b;continue}break}if(M.child===R.child){for(R=M.child;R;){if(R===v)return O(M),c;if(R===b)return O(M),f;R=R.sibling}throw Error(s(188))}if(v.return!==b.return)v=M,b=R;else{for(var X=!1,ie=M.child;ie;){if(ie===v){X=!0,v=M,b=R;break}if(ie===b){X=!0,b=M,v=R;break}ie=ie.sibling}if(!X){for(ie=R.child;ie;){if(ie===v){X=!0,v=R,b=M;break}if(ie===b){X=!0,b=R,v=M;break}ie=ie.sibling}if(!X)throw Error(s(189))}}if(v.alternate!==b)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?c:f}function ee(c){return c=B(c),c!==null?V(c):null}function V(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=V(c);if(f!==null)return f;c=c.sibling}return null}function F(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=F(c);if(f!==null)return f}c=c.sibling}return null}var J=Array.isArray,re=e.getPublicInstance,ne=e.getRootHostContext,U=e.getChildHostContext,K=e.prepareForCommit,W=e.resetAfterCommit,G=e.createInstance,N=e.appendInitialChild,te=e.finalizeInitialChildren,D=e.prepareUpdate,ue=e.shouldSetTextContent,ce=e.createTextInstance,Pe=e.scheduleTimeout,Ae=e.cancelTimeout,Re=e.noTimeout,ze=e.isPrimaryRenderer,Ue=e.supportsMutation,$=e.supportsPersistence,he=e.supportsHydration,_e=e.getInstanceFromNode,Ie=e.preparePortalMount,we=e.getCurrentEventPriority,He=e.detachDeletedInstance,We=e.supportsMicrotasks,qe=e.scheduleMicrotask,it=e.supportsTestSelectors,ht=e.findFiberRoot,Xt=e.getBoundingRect,Y=e.getTextContent,k=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,De=e.setupIntersectionObserver,Be=e.appendChild,tt=e.appendChildToContainer,Ve=e.commitTextUpdate,be=e.commitMount,ot=e.commitUpdate,at=e.insertBefore,Ce=e.insertInContainerBefore,q=e.removeChild,Q=e.removeChildFromContainer,me=e.resetTextContent,Oe=e.hideInstance,j=e.hideTextInstance,pe=e.unhideInstance,oe=e.unhideTextInstance,ye=e.clearContainer,Me=e.cloneInstance,Ge=e.createContainerChildSet,ft=e.appendChildToContainerChildSet,Ft=e.finalizeContainerChildren,$t=e.replaceContainerChildren,kt=e.cloneHiddenInstance,ln=e.cloneHiddenTextInstance,hn=e.canHydrateInstance,Yo=e.canHydrateTextInstance,vo=e.canHydrateSuspenseInstance,yo=e.isSuspenseInstancePending,Os=e.isSuspenseInstanceFallback,Zh=e.registerSuspenseInstanceRetry,_o=e.getNextHydratableSibling,Qh=e.getFirstHydratableChild,E_=e.getFirstHydratableChildWithinContainer,M_=e.getFirstHydratableChildWithinSuspenseInstance,T_=e.hydrateInstance,H=e.hydrateTextInstance,de=e.hydrateSuspenseInstance,Ee=e.getNextHydratableInstanceAfterSuspenseInstance,le=e.commitHydratedContainer,Te=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,lt=e.clearSuspenseBoundaryFromContainer,dt=e.shouldDeleteUnhydratedTailInstances,pt=e.didNotMatchHydratedContainerTextInstance,Ot=e.didNotMatchHydratedTextInstance,mt;function gt(c){if(mt===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);mt=f&&f[1]||""}return`
`+mt+c}var sn=!1;function cn(c,f){if(!c||sn)return"";sn=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Fe){var b=Fe}Reflect.construct(c,[],f)}else{try{f.call()}catch(Fe){b=Fe}c.call(f.prototype)}else{try{throw Error()}catch(Fe){b=Fe}c()}}catch(Fe){if(Fe&&b&&typeof Fe.stack=="string"){for(var M=Fe.stack.split(`
`),R=b.stack.split(`
`),X=M.length-1,ie=R.length-1;1<=X&&0<=ie&&M[X]!==R[ie];)ie--;for(;1<=X&&0<=ie;X--,ie--)if(M[X]!==R[ie]){if(X!==1||ie!==1)do if(X--,ie--,0>ie||M[X]!==R[ie]){var xe=`
`+M[X].replace(" at new "," at ");return c.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",c.displayName)),xe}while(1<=X&&0<=ie);break}}}finally{sn=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?gt(c):""}var ti=Object.prototype.hasOwnProperty,ni=[],tn=-1;function _t(c){return{current:c}}function Qt(c){0>tn||(c.current=ni[tn],ni[tn]=null,tn--)}function vt(c,f){tn++,ni[tn]=c.current,c.current=f}var fr={},Hn=_t(fr),Un=_t(!1),Wi=fr;function Mn(c,f){var v=c.type.contextTypes;if(!v)return fr;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===f)return b.__reactInternalMemoizedMaskedChildContext;var M={},R;for(R in v)M[R]=f[R];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=M),M}function Tn(c){return c=c.childContextTypes,c!=null}function Is(){Qt(Un),Qt(Hn)}function dr(c,f,v){if(Hn.current!==fr)throw Error(s(168));vt(Hn,f),vt(Un,v)}function Kl(c,f,v){var b=c.stateNode;if(f=f.childContextTypes,typeof b.getChildContext!="function")return v;b=b.getChildContext();for(var M in b)if(!(M in f))throw Error(s(108,I(c)||"Unknown",M));return o({},v,b)}function Jl(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||fr,Wi=Hn.current,vt(Hn,c),vt(Un,Un.current),!0}function df(c,f,v){var b=c.stateNode;if(!b)throw Error(s(169));v?(c=Kl(c,f,Wi),b.__reactInternalMemoizedMergedChildContext=c,Qt(Un),Qt(Hn),vt(Hn,c)):Qt(Un),vt(Un,v)}var Gi=Math.clz32?Math.clz32:pB,dB=Math.log,hB=Math.LN2;function pB(c){return c>>>=0,c===0?32:31-(dB(c)/hB|0)|0}var Kh=64,Jh=4194304;function hf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ep(c,f){var v=c.pendingLanes;if(v===0)return 0;var b=0,M=c.suspendedLanes,R=c.pingedLanes,X=v&268435455;if(X!==0){var ie=X&~M;ie!==0?b=hf(ie):(R&=X,R!==0&&(b=hf(R)))}else X=v&~M,X!==0?b=hf(X):R!==0&&(b=hf(R));if(b===0)return 0;if(f!==0&&f!==b&&(f&M)===0&&(M=b&-b,R=f&-f,M>=R||M===16&&(R&4194240)!==0))return f;if((b&4)!==0&&(b|=v&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=b;0<f;)v=31-Gi(f),M=1<<v,b|=c[v],f&=~M;return b}function mB(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gB(c,f){for(var v=c.suspendedLanes,b=c.pingedLanes,M=c.expirationTimes,R=c.pendingLanes;0<R;){var X=31-Gi(R),ie=1<<X,xe=M[X];xe===-1?((ie&v)===0||(ie&b)!==0)&&(M[X]=mB(ie,f)):xe<=f&&(c.expiredLanes|=ie),R&=~ie}}function P_(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function A_(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function pf(c,f,v){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Gi(f),c[f]=v}function vB(c,f){var v=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<v;){var M=31-Gi(v),R=1<<M;f[M]=0,b[M]=-1,c[M]=-1,v&=~R}}function R_(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var b=31-Gi(v),M=1<<b;M&f|c[b]&f&&(c[b]|=f),v&=~M}}var Ht=0;function yT(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var C_=i.unstable_scheduleCallback,_T=i.unstable_cancelCallback,yB=i.unstable_shouldYield,_B=i.unstable_requestPaint,Zn=i.unstable_now,L_=i.unstable_ImmediatePriority,xB=i.unstable_UserBlockingPriority,O_=i.unstable_NormalPriority,SB=i.unstable_IdlePriority,tp=null,xo=null;function wB(c){if(xo&&typeof xo.onCommitFiberRoot=="function")try{xo.onCommitFiberRoot(tp,c,void 0,(c.current.flags&128)===128)}catch{}}function bB(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var So=typeof Object.is=="function"?Object.is:bB,qo=null,np=!1,I_=!1;function xT(c){qo===null?qo=[c]:qo.push(c)}function EB(c){np=!0,xT(c)}function wo(){if(!I_&&qo!==null){I_=!0;var c=0,f=Ht;try{var v=qo;for(Ht=1;c<v.length;c++){var b=v[c];do b=b(!0);while(b!==null)}qo=null,np=!1}catch(M){throw qo!==null&&(qo=qo.slice(c+1)),C_(L_,wo),M}finally{Ht=f,I_=!1}}return null}var MB=a.ReactCurrentBatchConfig;function rp(c,f){if(So(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),b=Object.keys(f);if(v.length!==b.length)return!1;for(b=0;b<v.length;b++){var M=v[b];if(!ti.call(f,M)||!So(c[M],f[M]))return!1}return!0}function TB(c){switch(c.tag){case 5:return gt(c.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 2:case 15:return c=cn(c.type,!1),c;case 11:return c=cn(c.type.render,!1),c;case 1:return c=cn(c.type,!0),c;default:return""}}function ji(c,f){if(c&&c.defaultProps){f=o({},f),c=c.defaultProps;for(var v in c)f[v]===void 0&&(f[v]=c[v]);return f}return f}var ip=_t(null),op=null,ec=null,N_=null;function D_(){N_=ec=op=null}function ST(c,f,v){ze?(vt(ip,f._currentValue),f._currentValue=v):(vt(ip,f._currentValue2),f._currentValue2=v)}function k_(c){var f=ip.current;Qt(ip),ze?c._currentValue=f:c._currentValue2=f}function U_(c,f,v){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===v)break;c=c.return}}function tc(c,f){op=c,N_=ec=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(oi=!0),c.firstContext=null)}function Si(c){var f=ze?c._currentValue:c._currentValue2;if(N_!==c)if(c={context:c,memoizedValue:f,next:null},ec===null){if(op===null)throw Error(s(308));ec=c,op.dependencies={lanes:0,firstContext:c}}else ec=ec.next=c;return f}var bo=null,Ns=!1;function z_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wT(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Zo(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Ds(c,f){var v=c.updateQueue;v!==null&&(v=v.shared,zn!==null&&(c.mode&1)!==0&&(It&2)===0?(c=v.interleaved,c===null?(f.next=f,bo===null?bo=[v]:bo.push(v)):(f.next=c.next,c.next=f),v.interleaved=f):(c=v.pending,c===null?f.next=f:(f.next=c.next,c.next=f),v.pending=f))}function sp(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var b=f.lanes;b&=c.pendingLanes,v|=b,f.lanes=v,R_(c,v)}}function bT(c,f){var v=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,v===b)){var M=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var X={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?M=R=X:R=R.next=X,v=v.next}while(v!==null);R===null?M=R=f:R=R.next=f}else M=R=f;v={baseState:b.baseState,firstBaseUpdate:M,lastBaseUpdate:R,shared:b.shared,effects:b.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function ap(c,f,v,b){var M=c.updateQueue;Ns=!1;var R=M.firstBaseUpdate,X=M.lastBaseUpdate,ie=M.shared.pending;if(ie!==null){M.shared.pending=null;var xe=ie,Fe=xe.next;xe.next=null,X===null?R=Fe:X.next=Fe,X=xe;var Je=c.alternate;Je!==null&&(Je=Je.updateQueue,ie=Je.lastBaseUpdate,ie!==X&&(ie===null?Je.firstBaseUpdate=Fe:ie.next=Fe,Je.lastBaseUpdate=xe))}if(R!==null){var xt=M.baseState;X=0,Je=Fe=xe=null,ie=R;do{var ct=ie.lane,nn=ie.eventTime;if((b&ct)===ct){Je!==null&&(Je=Je.next={eventTime:nn,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var st=c,gr=ie;switch(ct=f,nn=v,gr.tag){case 1:if(st=gr.payload,typeof st=="function"){xt=st.call(nn,xt,ct);break e}xt=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=gr.payload,ct=typeof st=="function"?st.call(nn,xt,ct):st,ct==null)break e;xt=o({},xt,ct);break e;case 2:Ns=!0}}ie.callback!==null&&ie.lane!==0&&(c.flags|=64,ct=M.effects,ct===null?M.effects=[ie]:ct.push(ie))}else nn={eventTime:nn,lane:ct,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Je===null?(Fe=Je=nn,xe=xt):Je=Je.next=nn,X|=ct;if(ie=ie.next,ie===null){if(ie=M.shared.pending,ie===null)break;ct=ie,ie=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(1);if(Je===null&&(xe=xt),M.baseState=xe,M.firstBaseUpdate=Fe,M.lastBaseUpdate=Je,f=M.shared.interleaved,f!==null){M=f;do X|=M.lane,M=M.next;while(M!==f)}else R===null&&(M.shared.lanes=0);uc|=X,c.lanes=X,c.memoizedState=xt}}function ET(c,f,v){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var b=c[f],M=b.callback;if(M!==null){if(b.callback=null,b=v,typeof M!="function")throw Error(s(191,M));M.call(b)}}}var MT=new r.Component().refs;function F_(c,f,v,b){f=c.memoizedState,v=v(b,f),v=v==null?f:o({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var lp={isMounted:function(c){return(c=c._reactInternals)?C(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var b=Ar(),M=zs(c),R=Zo(b,M);R.payload=f,v!=null&&(R.callback=v),Ds(c,R),f=Ti(c,M,b),f!==null&&sp(f,c,M)},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var b=Ar(),M=zs(c),R=Zo(b,M);R.tag=1,R.payload=f,v!=null&&(R.callback=v),Ds(c,R),f=Ti(c,M,b),f!==null&&sp(f,c,M)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=Ar(),b=zs(c),M=Zo(v,b);M.tag=2,f!=null&&(M.callback=f),Ds(c,M),f=Ti(c,b,v),f!==null&&sp(f,c,b)}};function TT(c,f,v,b,M,R,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,R,X):f.prototype&&f.prototype.isPureReactComponent?!rp(v,b)||!rp(M,R):!0}function PT(c,f,v){var b=!1,M=fr,R=f.contextType;return typeof R=="object"&&R!==null?R=Si(R):(M=Tn(f)?Wi:Hn.current,b=f.contextTypes,R=(b=b!=null)?Mn(c,M):fr),f=new f(v,R),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lp,c.stateNode=f,f._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=M,c.__reactInternalMemoizedMaskedChildContext=R),f}function AT(c,f,v,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,b),f.state!==c&&lp.enqueueReplaceState(f,f.state,null)}function B_(c,f,v,b){var M=c.stateNode;M.props=v,M.state=c.memoizedState,M.refs=MT,z_(c);var R=f.contextType;typeof R=="object"&&R!==null?M.context=Si(R):(R=Tn(f)?Wi:Hn.current,M.context=Mn(c,R)),M.state=c.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(F_(c,f,R,v),M.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(f=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),f!==M.state&&lp.enqueueReplaceState(M,M.state,null),ap(c,v,M,b),M.state=c.memoizedState),typeof M.componentDidMount=="function"&&(c.flags|=4194308)}var nc=[],rc=0,cp=null,up=0,wi=[],bi=0,za=null,Qo=1,Ko="";function Fa(c,f){nc[rc++]=up,nc[rc++]=cp,cp=c,up=f}function RT(c,f,v){wi[bi++]=Qo,wi[bi++]=Ko,wi[bi++]=za,za=c;var b=Qo;c=Ko;var M=32-Gi(b)-1;b&=~(1<<M),v+=1;var R=32-Gi(f)+M;if(30<R){var X=M-M%5;R=(b&(1<<X)-1).toString(32),b>>=X,M-=X,Qo=1<<32-Gi(f)+M|v<<M|b,Ko=R+c}else Qo=1<<R|v<<M|b,Ko=c}function V_(c){c.return!==null&&(Fa(c,1),RT(c,1,0))}function $_(c){for(;c===cp;)cp=nc[--rc],nc[rc]=null,up=nc[--rc],nc[rc]=null;for(;c===za;)za=wi[--bi],wi[bi]=null,Ko=wi[--bi],wi[bi]=null,Qo=wi[--bi],wi[bi]=null}var ri=null,ii=null,pn=!1,mf=!1,Xi=null;function CT(c,f){var v=Pi(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=c,f=c.deletions,f===null?(c.deletions=[v],c.flags|=16):f.push(v)}function LT(c,f){switch(c.tag){case 5:return f=hn(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,ri=c,ii=Qh(f),!0):!1;case 6:return f=Yo(f,c.pendingProps),f!==null?(c.stateNode=f,ri=c,ii=null,!0):!1;case 13:if(f=vo(f),f!==null){var v=za!==null?{id:Qo,overflow:Ko}:null;return c.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=Pi(18,null,null,0),v.stateNode=f,v.return=c,c.child=v,ri=c,ii=null,!0}return!1;default:return!1}}function H_(c){return(c.mode&1)!==0&&(c.flags&128)===0}function W_(c){if(pn){var f=ii;if(f){var v=f;if(!LT(c,f)){if(H_(c))throw Error(s(418));f=_o(v);var b=ri;f&&LT(c,f)?CT(b,v):(c.flags=c.flags&-4097|2,pn=!1,ri=c)}}else{if(H_(c))throw Error(s(418));c.flags=c.flags&-4097|2,pn=!1,ri=c}}}function OT(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ri=c}function gf(c){if(!he||c!==ri)return!1;if(!pn)return OT(c),pn=!0,!1;if(c.tag!==3&&(c.tag!==5||dt(c.type)&&!ue(c.type,c.memoizedProps))){var f=ii;if(f){if(H_(c)){for(c=ii;c;)c=_o(c);throw Error(s(418))}for(;f;)CT(c,f),f=_o(f)}}if(OT(c),c.tag===13){if(!he)throw Error(s(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));ii=Ee(c)}else ii=ri?_o(c.stateNode):null;return!0}function ic(){he&&(ii=ri=null,mf=pn=!1)}function G_(c){Xi===null?Xi=[c]:Xi.push(c)}function vf(c,f,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(s(309));var b=v.stateNode}if(!b)throw Error(s(147,c));var M=b,R=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===R?f.ref:(f=function(X){var ie=M.refs;ie===MT&&(ie=M.refs={}),X===null?delete ie[R]:ie[R]=X},f._stringRef=R,f)}if(typeof c!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,c))}return c}function fp(c,f){throw c=Object.prototype.toString.call(f),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function IT(c){var f=c._init;return f(c._payload)}function NT(c){function f(fe,se){if(c){var ge=fe.deletions;ge===null?(fe.deletions=[se],fe.flags|=16):ge.push(se)}}function v(fe,se){if(!c)return null;for(;se!==null;)f(fe,se),se=se.sibling;return null}function b(fe,se){for(fe=new Map;se!==null;)se.key!==null?fe.set(se.key,se):fe.set(se.index,se),se=se.sibling;return fe}function M(fe,se){return fe=Bs(fe,se),fe.index=0,fe.sibling=null,fe}function R(fe,se,ge){return fe.index=ge,c?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<se?(fe.flags|=2,se):ge):(fe.flags|=2,se)):(fe.flags|=1048576,se)}function X(fe){return c&&fe.alternate===null&&(fe.flags|=2),fe}function ie(fe,se,ge,Ye){return se===null||se.tag!==6?(se=Ax(ge,fe.mode,Ye),se.return=fe,se):(se=M(se,ge),se.return=fe,se)}function xe(fe,se,ge,Ye){var rt=ge.type;return rt===d?Je(fe,se,ge.props.children,Ye,ge.key):se!==null&&(se.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===w&&IT(rt)===se.type)?(Ye=M(se,ge.props),Ye.ref=vf(fe,se,ge),Ye.return=fe,Ye):(Ye=$p(ge.type,ge.key,ge.props,null,fe.mode,Ye),Ye.ref=vf(fe,se,ge),Ye.return=fe,Ye)}function Fe(fe,se,ge,Ye){return se===null||se.tag!==4||se.stateNode.containerInfo!==ge.containerInfo||se.stateNode.implementation!==ge.implementation?(se=Rx(ge,fe.mode,Ye),se.return=fe,se):(se=M(se,ge.children||[]),se.return=fe,se)}function Je(fe,se,ge,Ye,rt){return se===null||se.tag!==7?(se=ja(ge,fe.mode,Ye,rt),se.return=fe,se):(se=M(se,ge),se.return=fe,se)}function xt(fe,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Ax(""+se,fe.mode,ge),se.return=fe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case l:return ge=$p(se.type,se.key,se.props,null,fe.mode,ge),ge.ref=vf(fe,null,se),ge.return=fe,ge;case u:return se=Rx(se,fe.mode,ge),se.return=fe,se;case w:var Ye=se._init;return xt(fe,Ye(se._payload),ge)}if(J(se)||P(se))return se=ja(se,fe.mode,ge,null),se.return=fe,se;fp(fe,se)}return null}function ct(fe,se,ge,Ye){var rt=se!==null?se.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return rt!==null?null:ie(fe,se,""+ge,Ye);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===rt?xe(fe,se,ge,Ye):null;case u:return ge.key===rt?Fe(fe,se,ge,Ye):null;case w:return rt=ge._init,ct(fe,se,rt(ge._payload),Ye)}if(J(ge)||P(ge))return rt!==null?null:Je(fe,se,ge,Ye,null);fp(fe,ge)}return null}function nn(fe,se,ge,Ye,rt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return fe=fe.get(ge)||null,ie(se,fe,""+Ye,rt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case l:return fe=fe.get(Ye.key===null?ge:Ye.key)||null,xe(se,fe,Ye,rt);case u:return fe=fe.get(Ye.key===null?ge:Ye.key)||null,Fe(se,fe,Ye,rt);case w:var Pt=Ye._init;return nn(fe,se,ge,Pt(Ye._payload),rt)}if(J(Ye)||P(Ye))return fe=fe.get(ge)||null,Je(se,fe,Ye,rt,null);fp(se,Ye)}return null}function st(fe,se,ge,Ye){for(var rt=null,Pt=null,St=se,Wt=se=0,Kn=null;St!==null&&Wt<ge.length;Wt++){St.index>Wt?(Kn=St,St=null):Kn=St.sibling;var Gt=ct(fe,St,ge[Wt],Ye);if(Gt===null){St===null&&(St=Kn);break}c&&St&&Gt.alternate===null&&f(fe,St),se=R(Gt,se,Wt),Pt===null?rt=Gt:Pt.sibling=Gt,Pt=Gt,St=Kn}if(Wt===ge.length)return v(fe,St),pn&&Fa(fe,Wt),rt;if(St===null){for(;Wt<ge.length;Wt++)St=xt(fe,ge[Wt],Ye),St!==null&&(se=R(St,se,Wt),Pt===null?rt=St:Pt.sibling=St,Pt=St);return pn&&Fa(fe,Wt),rt}for(St=b(fe,St);Wt<ge.length;Wt++)Kn=nn(St,fe,Wt,ge[Wt],Ye),Kn!==null&&(c&&Kn.alternate!==null&&St.delete(Kn.key===null?Wt:Kn.key),se=R(Kn,se,Wt),Pt===null?rt=Kn:Pt.sibling=Kn,Pt=Kn);return c&&St.forEach(function(Vs){return f(fe,Vs)}),pn&&Fa(fe,Wt),rt}function gr(fe,se,ge,Ye){var rt=P(ge);if(typeof rt!="function")throw Error(s(150));if(ge=rt.call(ge),ge==null)throw Error(s(151));for(var Pt=rt=null,St=se,Wt=se=0,Kn=null,Gt=ge.next();St!==null&&!Gt.done;Wt++,Gt=ge.next()){St.index>Wt?(Kn=St,St=null):Kn=St.sibling;var Vs=ct(fe,St,Gt.value,Ye);if(Vs===null){St===null&&(St=Kn);break}c&&St&&Vs.alternate===null&&f(fe,St),se=R(Vs,se,Wt),Pt===null?rt=Vs:Pt.sibling=Vs,Pt=Vs,St=Kn}if(Gt.done)return v(fe,St),pn&&Fa(fe,Wt),rt;if(St===null){for(;!Gt.done;Wt++,Gt=ge.next())Gt=xt(fe,Gt.value,Ye),Gt!==null&&(se=R(Gt,se,Wt),Pt===null?rt=Gt:Pt.sibling=Gt,Pt=Gt);return pn&&Fa(fe,Wt),rt}for(St=b(fe,St);!Gt.done;Wt++,Gt=ge.next())Gt=nn(St,fe,Wt,Gt.value,Ye),Gt!==null&&(c&&Gt.alternate!==null&&St.delete(Gt.key===null?Wt:Gt.key),se=R(Gt,se,Wt),Pt===null?rt=Gt:Pt.sibling=Gt,Pt=Gt);return c&&St.forEach(function(nV){return f(fe,nV)}),pn&&Fa(fe,Wt),rt}function Ai(fe,se,ge,Ye){if(typeof ge=="object"&&ge!==null&&ge.type===d&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var rt=ge.key,Pt=se;Pt!==null;){if(Pt.key===rt){if(rt=ge.type,rt===d){if(Pt.tag===7){v(fe,Pt.sibling),se=M(Pt,ge.props.children),se.return=fe,fe=se;break e}}else if(Pt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===w&&IT(rt)===Pt.type){v(fe,Pt.sibling),se=M(Pt,ge.props),se.ref=vf(fe,Pt,ge),se.return=fe,fe=se;break e}v(fe,Pt);break}else f(fe,Pt);Pt=Pt.sibling}ge.type===d?(se=ja(ge.props.children,fe.mode,Ye,ge.key),se.return=fe,fe=se):(Ye=$p(ge.type,ge.key,ge.props,null,fe.mode,Ye),Ye.ref=vf(fe,se,ge),Ye.return=fe,fe=Ye)}return X(fe);case u:e:{for(Pt=ge.key;se!==null;){if(se.key===Pt)if(se.tag===4&&se.stateNode.containerInfo===ge.containerInfo&&se.stateNode.implementation===ge.implementation){v(fe,se.sibling),se=M(se,ge.children||[]),se.return=fe,fe=se;break e}else{v(fe,se);break}else f(fe,se);se=se.sibling}se=Rx(ge,fe.mode,Ye),se.return=fe,fe=se}return X(fe);case w:return Pt=ge._init,Ai(fe,se,Pt(ge._payload),Ye)}if(J(ge))return st(fe,se,ge,Ye);if(P(ge))return gr(fe,se,ge,Ye);fp(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,se!==null&&se.tag===6?(v(fe,se.sibling),se=M(se,ge),se.return=fe,fe=se):(v(fe,se),se=Ax(ge,fe.mode,Ye),se.return=fe,fe=se),X(fe)):v(fe,se)}return Ai}var oc=NT(!0),DT=NT(!1),yf={},Ei=_t(yf),_f=_t(yf),sc=_t(yf);function Eo(c){if(c===yf)throw Error(s(174));return c}function j_(c,f){vt(sc,f),vt(_f,c),vt(Ei,yf),c=ne(f),Qt(Ei),vt(Ei,c)}function ac(){Qt(Ei),Qt(_f),Qt(sc)}function kT(c){var f=Eo(sc.current),v=Eo(Ei.current);f=U(v,c.type,f),v!==f&&(vt(_f,c),vt(Ei,f))}function X_(c){_f.current===c&&(Qt(Ei),Qt(_f))}var _n=_t(0);function dp(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||yo(v)||Os(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Y_=[];function q_(){for(var c=0;c<Y_.length;c++){var f=Y_[c];ze?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Y_.length=0}var hp=a.ReactCurrentDispatcher,Mi=a.ReactCurrentBatchConfig,lc=0,Pn=null,hr=null,Qn=null,pp=!1,xf=!1,Sf=0,PB=0;function pr(){throw Error(s(321))}function Z_(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!So(c[v],f[v]))return!1;return!0}function Q_(c,f,v,b,M,R){if(lc=R,Pn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,hp.current=c===null||c.memoizedState===null?LB:OB,c=v(b,M),xf){R=0;do{if(xf=!1,Sf=0,25<=R)throw Error(s(301));R+=1,Qn=hr=null,f.updateQueue=null,hp.current=IB,c=v(b,M)}while(xf)}if(hp.current=_p,f=hr!==null&&hr.next!==null,lc=0,Qn=hr=Pn=null,pp=!1,f)throw Error(s(300));return c}function K_(){var c=Sf!==0;return Sf=0,c}function Jo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?Pn.memoizedState=Qn=c:Qn=Qn.next=c,Qn}function Mo(){if(hr===null){var c=Pn.alternate;c=c!==null?c.memoizedState:null}else c=hr.next;var f=Qn===null?Pn.memoizedState:Qn.next;if(f!==null)Qn=f,hr=c;else{if(c===null)throw Error(s(310));hr=c,c={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},Qn===null?Pn.memoizedState=Qn=c:Qn=Qn.next=c}return Qn}function Ba(c,f){return typeof f=="function"?f(c):f}function mp(c){var f=Mo(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=c;var b=hr,M=b.baseQueue,R=v.pending;if(R!==null){if(M!==null){var X=M.next;M.next=R.next,R.next=X}b.baseQueue=M=R,v.pending=null}if(M!==null){R=M.next,b=b.baseState;var ie=X=null,xe=null,Fe=R;do{var Je=Fe.lane;if((lc&Je)===Je)xe!==null&&(xe=xe.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),b=Fe.hasEagerState?Fe.eagerState:c(b,Fe.action);else{var xt={lane:Je,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};xe===null?(ie=xe=xt,X=b):xe=xe.next=xt,Pn.lanes|=Je,uc|=Je}Fe=Fe.next}while(Fe!==null&&Fe!==R);xe===null?X=b:xe.next=ie,So(b,f.memoizedState)||(oi=!0),f.memoizedState=b,f.baseState=X,f.baseQueue=xe,v.lastRenderedState=b}if(c=v.interleaved,c!==null){M=c;do R=M.lane,Pn.lanes|=R,uc|=R,M=M.next;while(M!==c)}else M===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function gp(c){var f=Mo(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=c;var b=v.dispatch,M=v.pending,R=f.memoizedState;if(M!==null){v.pending=null;var X=M=M.next;do R=c(R,X.action),X=X.next;while(X!==M);So(R,f.memoizedState)||(oi=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),v.lastRenderedState=R}return[R,b]}function UT(){}function zT(c,f){var v=Pn,b=Mo(),M=f(),R=!So(b.memoizedState,M);if(R&&(b.memoizedState=M,oi=!0),b=b.queue,bf(VT.bind(null,v,b,c),[c]),b.getSnapshot!==f||R||Qn!==null&&Qn.memoizedState.tag&1){if(v.flags|=2048,wf(9,BT.bind(null,v,b,M,f),void 0,null),zn===null)throw Error(s(349));(lc&30)!==0||FT(v,f,M)}return M}function FT(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=Pn.updateQueue,f===null?(f={lastEffect:null,stores:null},Pn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function BT(c,f,v,b){f.value=v,f.getSnapshot=b,$T(f)&&Ti(c,1,-1)}function VT(c,f,v){return v(function(){$T(f)&&Ti(c,1,-1)})}function $T(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!So(c,v)}catch{return!0}}function J_(c){var f=Jo();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:c},f.queue=c,c=c.dispatch=CB.bind(null,Pn,c),[f.memoizedState,c]}function wf(c,f,v,b){return c={tag:c,create:f,destroy:v,deps:b,next:null},f=Pn.updateQueue,f===null?(f={lastEffect:null,stores:null},Pn.updateQueue=f,f.lastEffect=c.next=c):(v=f.lastEffect,v===null?f.lastEffect=c.next=c:(b=v.next,v.next=c,c.next=b,f.lastEffect=c)),c}function HT(){return Mo().memoizedState}function vp(c,f,v,b){var M=Jo();Pn.flags|=c,M.memoizedState=wf(1|f,v,void 0,b===void 0?null:b)}function yp(c,f,v,b){var M=Mo();b=b===void 0?null:b;var R=void 0;if(hr!==null){var X=hr.memoizedState;if(R=X.destroy,b!==null&&Z_(b,X.deps)){M.memoizedState=wf(f,v,R,b);return}}Pn.flags|=c,M.memoizedState=wf(1|f,v,R,b)}function ex(c,f){return vp(8390656,8,c,f)}function bf(c,f){return yp(2048,8,c,f)}function WT(c,f){return yp(4,2,c,f)}function GT(c,f){return yp(4,4,c,f)}function jT(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function XT(c,f,v){return v=v!=null?v.concat([c]):null,yp(4,4,jT.bind(null,f,c),v)}function tx(){}function YT(c,f){var v=Mo();f=f===void 0?null:f;var b=v.memoizedState;return b!==null&&f!==null&&Z_(f,b[1])?b[0]:(v.memoizedState=[c,f],c)}function qT(c,f){var v=Mo();f=f===void 0?null:f;var b=v.memoizedState;return b!==null&&f!==null&&Z_(f,b[1])?b[0]:(c=c(),v.memoizedState=[c,f],c)}function AB(c,f){var v=Ht;Ht=v!==0&&4>v?v:4,c(!0);var b=Mi.transition;Mi.transition={};try{c(!1),f()}finally{Ht=v,Mi.transition=b}}function ZT(){return Mo().memoizedState}function RB(c,f,v){var b=zs(c);v={lane:b,action:v,hasEagerState:!1,eagerState:null,next:null},QT(c)?KT(f,v):(JT(c,f,v),v=Ar(),c=Ti(c,b,v),c!==null&&eP(c,f,b))}function CB(c,f,v){var b=zs(c),M={lane:b,action:v,hasEagerState:!1,eagerState:null,next:null};if(QT(c))KT(f,M);else{JT(c,f,M);var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var X=f.lastRenderedState,ie=R(X,v);if(M.hasEagerState=!0,M.eagerState=ie,So(ie,X))return}catch{}finally{}v=Ar(),c=Ti(c,b,v),c!==null&&eP(c,f,b)}}function QT(c){var f=c.alternate;return c===Pn||f!==null&&f===Pn}function KT(c,f){xf=pp=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function JT(c,f,v){zn!==null&&(c.mode&1)!==0&&(It&2)===0?(c=f.interleaved,c===null?(v.next=v,bo===null?bo=[f]:bo.push(f)):(v.next=c.next,c.next=v),f.interleaved=v):(c=f.pending,c===null?v.next=v:(v.next=c.next,c.next=v),f.pending=v)}function eP(c,f,v){if((v&4194240)!==0){var b=f.lanes;b&=c.pendingLanes,v|=b,f.lanes=v,R_(c,v)}}var _p={readContext:Si,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},LB={readContext:Si,useCallback:function(c,f){return Jo().memoizedState=[c,f===void 0?null:f],c},useContext:Si,useEffect:ex,useImperativeHandle:function(c,f,v){return v=v!=null?v.concat([c]):null,vp(4194308,4,jT.bind(null,f,c),v)},useLayoutEffect:function(c,f){return vp(4194308,4,c,f)},useInsertionEffect:function(c,f){return vp(4,2,c,f)},useMemo:function(c,f){var v=Jo();return f=f===void 0?null:f,c=c(),v.memoizedState=[c,f],c},useReducer:function(c,f,v){var b=Jo();return f=v!==void 0?v(f):f,b.memoizedState=b.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},b.queue=c,c=c.dispatch=RB.bind(null,Pn,c),[b.memoizedState,c]},useRef:function(c){var f=Jo();return c={current:c},f.memoizedState=c},useState:J_,useDebugValue:tx,useDeferredValue:function(c){var f=J_(c),v=f[0],b=f[1];return ex(function(){var M=Mi.transition;Mi.transition={};try{b(c)}finally{Mi.transition=M}},[c]),v},useTransition:function(){var c=J_(!1),f=c[0];return c=AB.bind(null,c[1]),Jo().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,v){var b=Pn,M=Jo();if(pn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=f(),zn===null)throw Error(s(349));(lc&30)!==0||FT(b,f,v)}M.memoizedState=v;var R={value:v,getSnapshot:f};return M.queue=R,ex(VT.bind(null,b,R,c),[c]),b.flags|=2048,wf(9,BT.bind(null,b,R,v,f),void 0,null),v},useId:function(){var c=Jo(),f=zn.identifierPrefix;if(pn){var v=Ko,b=Qo;v=(b&~(1<<32-Gi(b)-1)).toString(32)+v,f=":"+f+"R"+v,v=Sf++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=PB++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},OB={readContext:Si,useCallback:YT,useContext:Si,useEffect:bf,useImperativeHandle:XT,useInsertionEffect:WT,useLayoutEffect:GT,useMemo:qT,useReducer:mp,useRef:HT,useState:function(){return mp(Ba)},useDebugValue:tx,useDeferredValue:function(c){var f=mp(Ba),v=f[0],b=f[1];return bf(function(){var M=Mi.transition;Mi.transition={};try{b(c)}finally{Mi.transition=M}},[c]),v},useTransition:function(){var c=mp(Ba)[0],f=Mo().memoizedState;return[c,f]},useMutableSource:UT,useSyncExternalStore:zT,useId:ZT,unstable_isNewReconciler:!1},IB={readContext:Si,useCallback:YT,useContext:Si,useEffect:bf,useImperativeHandle:XT,useInsertionEffect:WT,useLayoutEffect:GT,useMemo:qT,useReducer:gp,useRef:HT,useState:function(){return gp(Ba)},useDebugValue:tx,useDeferredValue:function(c){var f=gp(Ba),v=f[0],b=f[1];return bf(function(){var M=Mi.transition;Mi.transition={};try{b(c)}finally{Mi.transition=M}},[c]),v},useTransition:function(){var c=gp(Ba)[0],f=Mo().memoizedState;return[c,f]},useMutableSource:UT,useSyncExternalStore:zT,useId:ZT,unstable_isNewReconciler:!1};function nx(c,f){try{var v="",b=f;do v+=TB(b),b=b.return;while(b);var M=v}catch(R){M=`
Error generating stack: `+R.message+`
`+R.stack}return{value:c,source:f,stack:M}}function rx(c,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var NB=typeof WeakMap=="function"?WeakMap:Map;function tP(c,f,v){v=Zo(-1,v),v.tag=3,v.payload={element:null};var b=f.value;return v.callback=function(){Dp||(Dp=!0,Sx=b),rx(c,f)},v}function nP(c,f,v){v=Zo(-1,v),v.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var M=f.value;v.payload=function(){return b(M)},v.callback=function(){rx(c,f)}}var R=c.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){rx(c,f),typeof b!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})}),v}function rP(c,f,v){var b=c.pingCache;if(b===null){b=c.pingCache=new NB;var M=new Set;b.set(f,M)}else M=b.get(f),M===void 0&&(M=new Set,b.set(f,M));M.has(v)||(M.add(v),c=YB.bind(null,c,f,v),f.then(c,c))}function iP(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function oP(c,f,v,b,M){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Zo(-1,1),f.tag=2,Ds(v,f))),v.lanes|=1),c):(c.flags|=65536,c.lanes=M,c)}function To(c){c.flags|=4}function sP(c,f){if(c!==null&&c.child===f.child)return!0;if((f.flags&16)!==0)return!1;for(c=f.child;c!==null;){if((c.flags&12854)!==0||(c.subtreeFlags&12854)!==0)return!1;c=c.sibling}return!0}var Ef,Mf,xp,Sp;if(Ue)Ef=function(c,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)N(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Mf=function(){},xp=function(c,f,v,b,M){if(c=c.memoizedProps,c!==b){var R=f.stateNode,X=Eo(Ei.current);v=D(R,v,c,b,M,X),(f.updateQueue=v)&&To(f)}},Sp=function(c,f,v,b){v!==b&&To(f)};else if($){Ef=function(c,f,v,b){for(var M=f.child;M!==null;){if(M.tag===5){var R=M.stateNode;v&&b&&(R=kt(R,M.type,M.memoizedProps,M)),N(c,R)}else if(M.tag===6)R=M.stateNode,v&&b&&(R=ln(R,M.memoizedProps,M)),N(c,R);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)R=M.child,R!==null&&(R.return=M),Ef(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var aP=function(c,f,v,b){for(var M=f.child;M!==null;){if(M.tag===5){var R=M.stateNode;v&&b&&(R=kt(R,M.type,M.memoizedProps,M)),ft(c,R)}else if(M.tag===6)R=M.stateNode,v&&b&&(R=ln(R,M.memoizedProps,M)),ft(c,R);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)R=M.child,R!==null&&(R.return=M),aP(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};Mf=function(c,f){var v=f.stateNode;if(!sP(c,f)){c=v.containerInfo;var b=Ge(c);aP(b,f,!1,!1),v.pendingChildren=b,To(f),Ft(c,b)}},xp=function(c,f,v,b,M){var R=c.stateNode,X=c.memoizedProps;if((c=sP(c,f))&&X===b)f.stateNode=R;else{var ie=f.stateNode,xe=Eo(Ei.current),Fe=null;X!==b&&(Fe=D(ie,v,X,b,M,xe)),c&&Fe===null?f.stateNode=R:(R=Me(R,Fe,v,X,b,f,c,ie),te(R,v,b,M,xe)&&To(f),f.stateNode=R,c?To(f):Ef(R,f,!1,!1))}},Sp=function(c,f,v,b){v!==b?(c=Eo(sc.current),v=Eo(Ei.current),f.stateNode=ce(b,c,v,f),To(f)):f.stateNode=c.stateNode}}else Mf=function(){},xp=function(){},Sp=function(){};function Tf(c,f){if(!pn)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function mr(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,b=0;if(f)for(var M=c.child;M!==null;)v|=M.lanes|M.childLanes,b|=M.subtreeFlags&14680064,b|=M.flags&14680064,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)v|=M.lanes|M.childLanes,b|=M.subtreeFlags,b|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=b,c.childLanes=v,f}function DB(c,f,v){var b=f.pendingProps;switch($_(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(f),null;case 1:return Tn(f.type)&&Is(),mr(f),null;case 3:return b=f.stateNode,ac(),Qt(Un),Qt(Hn),q_(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(gf(f)?To(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Xi!==null&&(Ex(Xi),Xi=null))),Mf(c,f),mr(f),null;case 5:X_(f),v=Eo(sc.current);var M=f.type;if(c!==null&&f.stateNode!=null)xp(c,f,M,b,v),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!b){if(f.stateNode===null)throw Error(s(166));return mr(f),null}if(c=Eo(Ei.current),gf(f)){if(!he)throw Error(s(175));c=T_(f.stateNode,f.type,f.memoizedProps,v,c,f,!mf),f.updateQueue=c,c!==null&&To(f)}else{var R=G(M,b,v,c,f);Ef(R,f,!1,!1),f.stateNode=R,te(R,M,b,v,c)&&To(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return mr(f),null;case 6:if(c&&f.stateNode!=null)Sp(c,f,c.memoizedProps,b);else{if(typeof b!="string"&&f.stateNode===null)throw Error(s(166));if(c=Eo(sc.current),v=Eo(Ei.current),gf(f)){if(!he)throw Error(s(176));if(c=f.stateNode,b=f.memoizedProps,(v=H(c,b,f,!mf))&&(M=ri,M!==null))switch(R=(M.mode&1)!==0,M.tag){case 3:pt(M.stateNode.containerInfo,c,b,R);break;case 5:Ot(M.type,M.memoizedProps,M.stateNode,c,b,R)}v&&To(f)}else f.stateNode=ce(b,c,v,f)}return mr(f),null;case 13:if(Qt(_n),b=f.memoizedState,pn&&ii!==null&&(f.mode&1)!==0&&(f.flags&128)===0){for(c=ii;c;)c=_o(c);return ic(),f.flags|=98560,f}if(b!==null&&b.dehydrated!==null){if(b=gf(f),c===null){if(!b)throw Error(s(318));if(!he)throw Error(s(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));de(c,f)}else ic(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;return mr(f),null}return Xi!==null&&(Ex(Xi),Xi=null),(f.flags&128)!==0?(f.lanes=v,f):(b=b!==null,v=!1,c===null?gf(f):v=c.memoizedState!==null,b&&!v&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(_n.current&1)!==0?Wn===0&&(Wn=3):Tx())),f.updateQueue!==null&&(f.flags|=4),mr(f),null);case 4:return ac(),Mf(c,f),c===null&&Ie(f.stateNode.containerInfo),mr(f),null;case 10:return k_(f.type._context),mr(f),null;case 17:return Tn(f.type)&&Is(),mr(f),null;case 19:if(Qt(_n),M=f.memoizedState,M===null)return mr(f),null;if(b=(f.flags&128)!==0,R=M.rendering,R===null)if(b)Tf(M,!1);else{if(Wn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(R=dp(c),R!==null){for(f.flags|=128,Tf(M,!1),c=R.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=v,b=f.child;b!==null;)v=b,M=c,v.flags&=14680066,R=v.alternate,R===null?(v.childLanes=0,v.lanes=M,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,M=R.dependencies,v.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),b=b.sibling;return vt(_n,_n.current&1|2),f.child}c=c.sibling}M.tail!==null&&Zn()>xx&&(f.flags|=128,b=!0,Tf(M,!1),f.lanes=4194304)}else{if(!b)if(c=dp(R),c!==null){if(f.flags|=128,b=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Tf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!R.alternate&&!pn)return mr(f),null}else 2*Zn()-M.renderingStartTime>xx&&v!==1073741824&&(f.flags|=128,b=!0,Tf(M,!1),f.lanes=4194304);M.isBackwards?(R.sibling=f.child,f.child=R):(c=M.last,c!==null?c.sibling=R:f.child=R,M.last=R)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=Zn(),f.sibling=null,c=_n.current,vt(_n,b?c&1|2:c&1),f):(mr(f),null);case 22:case 23:return Mx(),b=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(f.flags|=8192),b&&(f.mode&1)!==0?(si&1073741824)!==0&&(mr(f),Ue&&f.subtreeFlags&6&&(f.flags|=8192)):mr(f),null;case 24:return null;case 25:return null}throw Error(s(156,f.tag))}var kB=a.ReactCurrentOwner,oi=!1;function Pr(c,f,v,b){f.child=c===null?DT(f,null,v,b):oc(f,c.child,v,b)}function lP(c,f,v,b,M){v=v.render;var R=f.ref;return tc(f,M),b=Q_(c,f,v,b,R,M),v=K_(),c!==null&&!oi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~M,es(c,f,M)):(pn&&v&&V_(f),f.flags|=1,Pr(c,f,b,M),f.child)}function cP(c,f,v,b,M){if(c===null){var R=v.type;return typeof R=="function"&&!Px(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=R,uP(c,f,R,b,M)):(c=$p(v.type,null,b,f,f.mode,M),c.ref=f.ref,c.return=f,f.child=c)}if(R=c.child,(c.lanes&M)===0){var X=R.memoizedProps;if(v=v.compare,v=v!==null?v:rp,v(X,b)&&c.ref===f.ref)return es(c,f,M)}return f.flags|=1,c=Bs(R,b),c.ref=f.ref,c.return=f,f.child=c}function uP(c,f,v,b,M){if(c!==null&&rp(c.memoizedProps,b)&&c.ref===f.ref)if(oi=!1,(c.lanes&M)!==0)(c.flags&131072)!==0&&(oi=!0);else return f.lanes=c.lanes,es(c,f,M);return ix(c,f,v,b,M)}function fP(c,f,v){var b=f.pendingProps,M=b.children,R=c!==null?c.memoizedState:null;if(b.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null},vt(cc,si),si|=v;else if((v&1073741824)!==0)f.memoizedState={baseLanes:0,cachePool:null},b=R!==null?R.baseLanes:v,vt(cc,si),si|=b;else return c=R!==null?R.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,vt(cc,si),si|=c,null;else R!==null?(b=R.baseLanes|v,f.memoizedState=null):b=v,vt(cc,si),si|=b;return Pr(c,f,M,v),f.child}function dP(c,f){var v=f.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function ix(c,f,v,b,M){var R=Tn(v)?Wi:Hn.current;return R=Mn(f,R),tc(f,M),v=Q_(c,f,v,b,R,M),b=K_(),c!==null&&!oi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~M,es(c,f,M)):(pn&&b&&V_(f),f.flags|=1,Pr(c,f,v,M),f.child)}function hP(c,f,v,b,M){if(Tn(v)){var R=!0;Jl(f)}else R=!1;if(tc(f,M),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),PT(f,v,b),B_(f,v,b,M),b=!0;else if(c===null){var X=f.stateNode,ie=f.memoizedProps;X.props=ie;var xe=X.context,Fe=v.contextType;typeof Fe=="object"&&Fe!==null?Fe=Si(Fe):(Fe=Tn(v)?Wi:Hn.current,Fe=Mn(f,Fe));var Je=v.getDerivedStateFromProps,xt=typeof Je=="function"||typeof X.getSnapshotBeforeUpdate=="function";xt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==b||xe!==Fe)&&AT(f,X,b,Fe),Ns=!1;var ct=f.memoizedState;X.state=ct,ap(f,b,X,M),xe=f.memoizedState,ie!==b||ct!==xe||Un.current||Ns?(typeof Je=="function"&&(F_(f,v,Je,b),xe=f.memoizedState),(ie=Ns||TT(f,v,ie,b,ct,xe,Fe))?(xt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(f.flags|=4194308)):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=xe),X.props=b,X.state=xe,X.context=Fe,b=ie):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{X=f.stateNode,wT(c,f),ie=f.memoizedProps,Fe=f.type===f.elementType?ie:ji(f.type,ie),X.props=Fe,xt=f.pendingProps,ct=X.context,xe=v.contextType,typeof xe=="object"&&xe!==null?xe=Si(xe):(xe=Tn(v)?Wi:Hn.current,xe=Mn(f,xe));var nn=v.getDerivedStateFromProps;(Je=typeof nn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==xt||ct!==xe)&&AT(f,X,b,xe),Ns=!1,ct=f.memoizedState,X.state=ct,ap(f,b,X,M);var st=f.memoizedState;ie!==xt||ct!==st||Un.current||Ns?(typeof nn=="function"&&(F_(f,v,nn,b),st=f.memoizedState),(Fe=Ns||TT(f,v,Fe,b,ct,st,xe)||!1)?(Je||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(b,st,xe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(b,st,xe)),typeof X.componentDidUpdate=="function"&&(f.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof X.componentDidUpdate!="function"||ie===c.memoizedProps&&ct===c.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&ct===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=st),X.props=b,X.state=st,X.context=xe,b=Fe):(typeof X.componentDidUpdate!="function"||ie===c.memoizedProps&&ct===c.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&ct===c.memoizedState||(f.flags|=1024),b=!1)}return ox(c,f,v,b,R,M)}function ox(c,f,v,b,M,R){dP(c,f);var X=(f.flags&128)!==0;if(!b&&!X)return M&&df(f,v,!1),es(c,f,R);b=f.stateNode,kB.current=f;var ie=X&&typeof v.getDerivedStateFromError!="function"?null:b.render();return f.flags|=1,c!==null&&X?(f.child=oc(f,c.child,null,R),f.child=oc(f,null,ie,R)):Pr(c,f,ie,R),f.memoizedState=b.state,M&&df(f,v,!0),f.child}function pP(c){var f=c.stateNode;f.pendingContext?dr(c,f.pendingContext,f.pendingContext!==f.context):f.context&&dr(c,f.context,!1),j_(c,f.containerInfo)}function mP(c,f,v,b,M){return ic(),G_(M),f.flags|=256,Pr(c,f,v,b),f.child}var wp={dehydrated:null,treeContext:null,retryLane:0};function bp(c){return{baseLanes:c,cachePool:null}}function gP(c,f,v){var b=f.pendingProps,M=_n.current,R=!1,X=(f.flags&128)!==0,ie;if((ie=X)||(ie=c!==null&&c.memoizedState===null?!1:(M&2)!==0),ie?(R=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(M|=1),vt(_n,M&1),c===null)return W_(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:Os(c)?f.lanes=8:f.lanes=1073741824,null):(M=b.children,c=b.fallback,R?(b=f.mode,R=f.child,M={mode:"hidden",children:M},(b&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=M):R=Hp(M,b,0,null),c=ja(c,b,v,null),R.return=f,c.return=f,R.sibling=c,f.child=R,f.child.memoizedState=bp(v),f.memoizedState=wp,c):sx(f,M));if(M=c.memoizedState,M!==null){if(ie=M.dehydrated,ie!==null){if(X)return f.flags&256?(f.flags&=-257,Ep(c,f,v,Error(s(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(R=b.fallback,M=f.mode,b=Hp({mode:"visible",children:b.children},M,0,null),R=ja(R,M,v,null),R.flags|=2,b.return=f,R.return=f,b.sibling=R,f.child=b,(f.mode&1)!==0&&oc(f,c.child,null,v),f.child.memoizedState=bp(v),f.memoizedState=wp,R);if((f.mode&1)===0)f=Ep(c,f,v,null);else if(Os(ie))f=Ep(c,f,v,Error(s(419)));else if(b=(v&c.childLanes)!==0,oi||b){if(b=zn,b!==null){switch(v&-v){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}b=(R&(b.suspendedLanes|v))!==0?0:R,b!==0&&b!==M.retryLane&&(M.retryLane=b,Ti(c,b,-1))}Tx(),f=Ep(c,f,v,Error(s(421)))}else yo(ie)?(f.flags|=128,f.child=c.child,f=qB.bind(null,c),Zh(ie,f),f=null):(v=M.treeContext,he&&(ii=M_(ie),ri=f,pn=!0,Xi=null,mf=!1,v!==null&&(wi[bi++]=Qo,wi[bi++]=Ko,wi[bi++]=za,Qo=v.id,Ko=v.overflow,za=f)),f=sx(f,f.pendingProps.children),f.flags|=4096);return f}return R?(b=yP(c,f,b.children,b.fallback,v),R=f.child,M=c.child.memoizedState,R.memoizedState=M===null?bp(v):{baseLanes:M.baseLanes|v,cachePool:null},R.childLanes=c.childLanes&~v,f.memoizedState=wp,b):(v=vP(c,f,b.children,v),f.memoizedState=null,v)}return R?(b=yP(c,f,b.children,b.fallback,v),R=f.child,M=c.child.memoizedState,R.memoizedState=M===null?bp(v):{baseLanes:M.baseLanes|v,cachePool:null},R.childLanes=c.childLanes&~v,f.memoizedState=wp,b):(v=vP(c,f,b.children,v),f.memoizedState=null,v)}function sx(c,f){return f=Hp({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function vP(c,f,v,b){var M=c.child;return c=M.sibling,v=Bs(M,{mode:"visible",children:v}),(f.mode&1)===0&&(v.lanes=b),v.return=f,v.sibling=null,c!==null&&(b=f.deletions,b===null?(f.deletions=[c],f.flags|=16):b.push(c)),f.child=v}function yP(c,f,v,b,M){var R=f.mode;c=c.child;var X=c.sibling,ie={mode:"hidden",children:v};return(R&1)===0&&f.child!==c?(v=f.child,v.childLanes=0,v.pendingProps=ie,f.deletions=null):(v=Bs(c,ie),v.subtreeFlags=c.subtreeFlags&14680064),X!==null?b=Bs(X,b):(b=ja(b,R,M,null),b.flags|=2),b.return=f,v.return=f,v.sibling=b,f.child=v,b}function Ep(c,f,v,b){return b!==null&&G_(b),oc(f,c.child,null,v),c=sx(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function _P(c,f,v){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),U_(c.return,f,v)}function ax(c,f,v,b,M){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:v,tailMode:M}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=b,R.tail=v,R.tailMode=M)}function xP(c,f,v){var b=f.pendingProps,M=b.revealOrder,R=b.tail;if(Pr(c,f,b.children,v),b=_n.current,(b&2)!==0)b=b&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_P(c,v,f);else if(c.tag===19)_P(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(vt(_n,b),(f.mode&1)===0)f.memoizedState=null;else switch(M){case"forwards":for(v=f.child,M=null;v!==null;)c=v.alternate,c!==null&&dp(c)===null&&(M=v),v=v.sibling;v=M,v===null?(M=f.child,f.child=null):(M=v.sibling,v.sibling=null),ax(f,!1,M,v,R);break;case"backwards":for(v=null,M=f.child,f.child=null;M!==null;){if(c=M.alternate,c!==null&&dp(c)===null){f.child=M;break}c=M.sibling,M.sibling=v,v=M,M=c}ax(f,!0,v,null,R);break;case"together":ax(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function es(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),uc|=f.lanes,(v&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(s(153));if(f.child!==null){for(c=f.child,v=Bs(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=Bs(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function UB(c,f,v){switch(f.tag){case 3:pP(f),ic();break;case 5:kT(f);break;case 1:Tn(f.type)&&Jl(f);break;case 4:j_(f,f.stateNode.containerInfo);break;case 10:ST(f,f.type._context,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(vt(_n,_n.current&1),f.flags|=128,null):(v&f.child.childLanes)!==0?gP(c,f,v):(vt(_n,_n.current&1),c=es(c,f,v),c!==null?c.sibling:null);vt(_n,_n.current&1);break;case 19:if(b=(v&f.childLanes)!==0,(c.flags&128)!==0){if(b)return xP(c,f,v);f.flags|=128}var M=f.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),vt(_n,_n.current),b)break;return null;case 22:case 23:return f.lanes=0,fP(c,f,v)}return es(c,f,v)}function zB(c,f){switch($_(f),f.tag){case 1:return Tn(f.type)&&Is(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return ac(),Qt(Un),Qt(Hn),q_(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return X_(f),null;case 13:if(Qt(_n),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(s(340));ic()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return Qt(_n),null;case 4:return ac(),null;case 10:return k_(f.type._context),null;case 22:case 23:return Mx(),null;case 24:return null;default:return null}}var Mp=!1,Va=!1,FB=typeof WeakSet=="function"?WeakSet:Set,je=null;function Tp(c,f){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(b){Br(c,f,b)}else v.current=null}function lx(c,f,v){try{v()}catch(b){Br(c,f,b)}}var SP=!1;function BB(c,f){for(K(c.containerInfo),je=f;je!==null;)if(c=je,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,je=f;else for(;je!==null;){c=je;try{var v=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,M=v.memoizedState,R=c.stateNode,X=R.getSnapshotBeforeUpdate(c.elementType===c.type?b:ji(c.type,b),M);R.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Ue&&ye(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){Br(c,c.return,ie)}if(f=c.sibling,f!==null){f.return=c.return,je=f;break}je=c.return}return v=SP,SP=!1,v}function $a(c,f,v){var b=f.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var M=b=b.next;do{if((M.tag&c)===c){var R=M.destroy;M.destroy=void 0,R!==void 0&&lx(f,v,R)}M=M.next}while(M!==b)}}function Pf(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&c)===c){var b=v.create;v.destroy=b()}v=v.next}while(v!==f)}}function cx(c){var f=c.ref;if(f!==null){var v=c.stateNode;switch(c.tag){case 5:c=re(v);break;default:c=v}typeof f=="function"?f(c):f.current=c}}function wP(c,f,v){if(xo&&typeof xo.onCommitFiberUnmount=="function")try{xo.onCommitFiberUnmount(tp,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var b=c=c.next;do{var M=b,R=M.destroy;M=M.tag,R!==void 0&&((M&2)!==0||(M&4)!==0)&&lx(f,v,R),b=b.next}while(b!==c)}break;case 1:if(Tp(f,v),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(X){Br(f,v,X)}break;case 5:Tp(f,v);break;case 4:Ue?AP(c,f,v):$&&$&&(f=f.stateNode.containerInfo,v=Ge(f),$t(f,v))}}function bP(c,f,v){for(var b=f;;)if(wP(c,b,v),b.child===null||Ue&&b.tag===4){if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function EP(c){var f=c.alternate;f!==null&&(c.alternate=null,EP(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&He(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function MP(c){return c.tag===5||c.tag===3||c.tag===4}function TP(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||MP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function PP(c){if(Ue){e:{for(var f=c.return;f!==null;){if(MP(f))break e;f=f.return}throw Error(s(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(me(f),v.flags&=-33),v=TP(c),fx(c,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=TP(c),ux(c,v,f);break;default:throw Error(s(161))}}}function ux(c,f,v){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?Ce(v,c,f):tt(v,c);else if(b!==4&&(c=c.child,c!==null))for(ux(c,f,v),c=c.sibling;c!==null;)ux(c,f,v),c=c.sibling}function fx(c,f,v){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?at(v,c,f):Be(v,c);else if(b!==4&&(c=c.child,c!==null))for(fx(c,f,v),c=c.sibling;c!==null;)fx(c,f,v),c=c.sibling}function AP(c,f,v){for(var b=f,M=!1,R,X;;){if(!M){M=b.return;e:for(;;){if(M===null)throw Error(s(160));switch(R=M.stateNode,M.tag){case 5:X=!1;break e;case 3:R=R.containerInfo,X=!0;break e;case 4:R=R.containerInfo,X=!0;break e}M=M.return}M=!0}if(b.tag===5||b.tag===6)bP(c,b,v),X?Q(R,b.stateNode):q(R,b.stateNode);else if(b.tag===18)X?lt(R,b.stateNode):Ke(R,b.stateNode);else if(b.tag===4){if(b.child!==null){R=b.stateNode.containerInfo,X=!0,b.child.return=b,b=b.child;continue}}else if(wP(c,b,v),b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return,b.tag===4&&(M=!1)}b.sibling.return=b.return,b=b.sibling}}function dx(c,f){if(Ue){switch(f.tag){case 0:case 11:case 14:case 15:$a(3,f,f.return),Pf(3,f),$a(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var b=f.memoizedProps;c=c!==null?c.memoizedProps:b;var M=f.type,R=f.updateQueue;f.updateQueue=null,R!==null&&ot(v,R,M,c,b,f)}return;case 6:if(f.stateNode===null)throw Error(s(162));v=f.memoizedProps,Ve(f.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:he&&c!==null&&c.memoizedState.isDehydrated&&le(f.stateNode.containerInfo);return;case 12:return;case 13:Pp(f);return;case 19:Pp(f);return;case 17:return}throw Error(s(163))}switch(f.tag){case 0:case 11:case 14:case 15:$a(3,f,f.return),Pf(3,f),$a(5,f,f.return);return;case 12:return;case 13:Pp(f);return;case 19:Pp(f);return;case 3:he&&c!==null&&c.memoizedState.isDehydrated&&le(f.stateNode.containerInfo);break;case 22:case 23:return}e:if($){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,$t(f.containerInfo,f.pendingChildren);break e}throw Error(s(163))}}function Pp(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new FB),f.forEach(function(b){var M=ZB.bind(null,c,b);v.has(b)||(v.add(b),b.then(M,M))})}}function VB(c,f){for(je=f;je!==null;){f=je;var v=f.deletions;if(v!==null)for(var b=0;b<v.length;b++){var M=v[b];try{var R=c;Ue?AP(R,M,f):bP(R,M,f);var X=M.alternate;X!==null&&(X.return=null),M.return=null}catch(rt){Br(M,f,rt)}}if(v=f.child,(f.subtreeFlags&12854)!==0&&v!==null)v.return=f,je=v;else for(;je!==null;){f=je;try{var ie=f.flags;if(ie&32&&Ue&&me(f.stateNode),ie&512){var xe=f.alternate;if(xe!==null){var Fe=xe.ref;Fe!==null&&(typeof Fe=="function"?Fe(null):Fe.current=null)}}if(ie&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Je=f.alternate;(Je===null||Je.memoizedState===null)&&(_x=Zn())}break;case 22:var xt=f.memoizedState!==null,ct=f.alternate,nn=ct!==null&&ct.memoizedState!==null;if(v=f,Ue){e:if(b=v,M=xt,R=null,Ue)for(var st=b;;){if(st.tag===5){if(R===null){R=st;var gr=st.stateNode;M?Oe(gr):pe(st.stateNode,st.memoizedProps)}}else if(st.tag===6){if(R===null){var Ai=st.stateNode;M?j(Ai):oe(Ai,st.memoizedProps)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===b)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===b)break;for(;st.sibling===null;){if(st.return===null||st.return===b)break e;R===st&&(R=null),st=st.return}R===st&&(R=null),st.sibling.return=st.return,st=st.sibling}}if(xt&&!nn&&(v.mode&1)!==0){je=v;for(var fe=v.child;fe!==null;){for(v=je=fe;je!==null;){b=je;var se=b.child;switch(b.tag){case 0:case 11:case 14:case 15:$a(4,b,b.return);break;case 1:Tp(b,b.return);var ge=b.stateNode;if(typeof ge.componentWillUnmount=="function"){var Ye=b.return;try{ge.props=b.memoizedProps,ge.state=b.memoizedState,ge.componentWillUnmount()}catch(rt){Br(b,Ye,rt)}}break;case 5:Tp(b,b.return);break;case 22:if(b.memoizedState!==null){LP(v);continue}}se!==null?(se.return=b,je=se):LP(v)}fe=fe.sibling}}}switch(ie&4102){case 2:PP(f),f.flags&=-3;break;case 6:PP(f),f.flags&=-3,dx(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,dx(f.alternate,f);break;case 4:dx(f.alternate,f)}}catch(rt){Br(f,f.return,rt)}if(v=f.sibling,v!==null){v.return=f.return,je=v;break}je=f.return}}}function $B(c,f,v){je=c,RP(c)}function RP(c,f,v){for(var b=(c.mode&1)!==0;je!==null;){var M=je,R=M.child;if(M.tag===22&&b){var X=M.memoizedState!==null||Mp;if(!X){var ie=M.alternate,xe=ie!==null&&ie.memoizedState!==null||Va;ie=Mp;var Fe=Va;if(Mp=X,(Va=xe)&&!Fe)for(je=M;je!==null;)X=je,xe=X.child,X.tag===22&&X.memoizedState!==null?OP(M):xe!==null?(xe.return=X,je=xe):OP(M);for(;R!==null;)je=R,RP(R),R=R.sibling;je=M,Mp=ie,Va=Fe}CP(c)}else(M.subtreeFlags&8772)!==0&&R!==null?(R.return=M,je=R):CP(c)}}function CP(c){for(;je!==null;){var f=je;if((f.flags&8772)!==0){var v=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Va||Pf(5,f);break;case 1:var b=f.stateNode;if(f.flags&4&&!Va)if(v===null)b.componentDidMount();else{var M=f.elementType===f.type?v.memoizedProps:ji(f.type,v.memoizedProps);b.componentDidUpdate(M,v.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var R=f.updateQueue;R!==null&&ET(f,R,b);break;case 3:var X=f.updateQueue;if(X!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=re(f.child.stateNode);break;case 1:v=f.child.stateNode}ET(f,X,v)}break;case 5:var ie=f.stateNode;v===null&&f.flags&4&&be(ie,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(he&&f.memoizedState===null){var xe=f.alternate;if(xe!==null){var Fe=xe.memoizedState;if(Fe!==null){var Je=Fe.dehydrated;Je!==null&&Te(Je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Va||f.flags&512&&cx(f)}catch(xt){Br(f,f.return,xt)}}if(f===c){je=null;break}if(v=f.sibling,v!==null){v.return=f.return,je=v;break}je=f.return}}function LP(c){for(;je!==null;){var f=je;if(f===c){je=null;break}var v=f.sibling;if(v!==null){v.return=f.return,je=v;break}je=f.return}}function OP(c){for(;je!==null;){var f=je;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{Pf(4,f)}catch(xe){Br(f,v,xe)}break;case 1:var b=f.stateNode;if(typeof b.componentDidMount=="function"){var M=f.return;try{b.componentDidMount()}catch(xe){Br(f,M,xe)}}var R=f.return;try{cx(f)}catch(xe){Br(f,R,xe)}break;case 5:var X=f.return;try{cx(f)}catch(xe){Br(f,X,xe)}}}catch(xe){Br(f,f.return,xe)}if(f===c){je=null;break}var ie=f.sibling;if(ie!==null){ie.return=f.return,je=ie;break}je=f.return}}var Ap=0,Rp=1,Cp=2,Lp=3,Op=4;if(typeof Symbol=="function"&&Symbol.for){var Af=Symbol.for;Ap=Af("selector.component"),Rp=Af("selector.has_pseudo_class"),Cp=Af("selector.role"),Lp=Af("selector.test_id"),Op=Af("selector.text")}function hx(c){var f=_e(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(c=ht(c),c===null)throw Error(s(362));return c.stateNode.current}function px(c,f){switch(f.$$typeof){case Ap:if(c.type===f.value)return!0;break;case Rp:e:{f=f.value,c=[c,0];for(var v=0;v<c.length;){var b=c[v++],M=c[v++],R=f[M];if(b.tag!==5||!k(b)){for(;R!=null&&px(b,R);)M++,R=f[M];if(M===f.length){f=!0;break e}else for(b=b.child;b!==null;)c.push(b,M),b=b.sibling}}f=!1}return f;case Cp:if(c.tag===5&&ve(c.stateNode,f.value))return!0;break;case Op:if((c.tag===5||c.tag===6)&&(c=Y(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Lp:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function mx(c){switch(c.$$typeof){case Ap:return"<"+(A(c.value)||"Unknown")+">";case Rp:return":has("+(mx(c)||"")+")";case Cp:return'[role="'+c.value+'"]';case Op:return'"'+c.value+'"';case Lp:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function IP(c,f){var v=[];c=[c,0];for(var b=0;b<c.length;){var M=c[b++],R=c[b++],X=f[R];if(M.tag!==5||!k(M)){for(;X!=null&&px(M,X);)R++,X=f[R];if(R===f.length)v.push(M);else for(M=M.child;M!==null;)c.push(M,R),M=M.sibling}}return v}function gx(c,f){if(!it)throw Error(s(363));c=hx(c),c=IP(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var b=c[v++];if(b.tag===5)k(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return f}var HB=Math.ceil,Ip=a.ReactCurrentDispatcher,vx=a.ReactCurrentOwner,On=a.ReactCurrentBatchConfig,It=0,zn=null,Fn=null,ir=0,si=0,cc=_t(0),Wn=0,Rf=null,uc=0,Np=0,yx=0,Cf=null,zr=null,_x=0,xx=1/0;function fc(){xx=Zn()+500}var Dp=!1,Sx=null,ks=null,kp=!1,Us=null,Up=0,Lf=0,wx=null,zp=-1,Fp=0;function Ar(){return(It&6)!==0?Zn():zp!==-1?zp:zp=Zn()}function zs(c){return(c.mode&1)===0?1:(It&2)!==0&&ir!==0?ir&-ir:MB.transition!==null?(Fp===0&&(c=Kh,Kh<<=1,(Kh&4194240)===0&&(Kh=64),Fp=c),Fp):(c=Ht,c!==0?c:we())}function Ti(c,f,v){if(50<Lf)throw Lf=0,wx=null,Error(s(185));var b=Bp(c,f);return b===null?null:(pf(b,f,v),((It&2)===0||b!==zn)&&(b===zn&&((It&2)===0&&(Np|=f),Wn===4&&Fs(b,ir)),Fr(b,v),f===1&&It===0&&(c.mode&1)===0&&(fc(),np&&wo())),b)}function Bp(c,f){c.lanes|=f;var v=c.alternate;for(v!==null&&(v.lanes|=f),v=c,c=c.return;c!==null;)c.childLanes|=f,v=c.alternate,v!==null&&(v.childLanes|=f),v=c,c=c.return;return v.tag===3?v.stateNode:null}function Fr(c,f){var v=c.callbackNode;gB(c,f);var b=ep(c,c===zn?ir:0);if(b===0)v!==null&&_T(v),c.callbackNode=null,c.callbackPriority=0;else if(f=b&-b,c.callbackPriority!==f){if(v!=null&&_T(v),f===1)c.tag===0?EB(DP.bind(null,c)):xT(DP.bind(null,c)),We?qe(function(){It===0&&wo()}):C_(L_,wo),v=null;else{switch(yT(b)){case 1:v=L_;break;case 4:v=xB;break;case 16:v=O_;break;case 536870912:v=SB;break;default:v=O_}v=WP(v,NP.bind(null,c))}c.callbackPriority=f,c.callbackNode=v}}function NP(c,f){if(zp=-1,Fp=0,(It&6)!==0)throw Error(s(327));var v=c.callbackNode;if(Ga()&&c.callbackNode!==v)return null;var b=ep(c,c===zn?ir:0);if(b===0)return null;if((b&30)!==0||(b&c.expiredLanes)!==0||f)f=Vp(c,b);else{f=b;var M=It;It|=2;var R=zP();(zn!==c||ir!==f)&&(fc(),Ha(c,f));do try{jB();break}catch(ie){UP(c,ie)}while(1);D_(),Ip.current=R,It=M,Fn!==null?f=0:(zn=null,ir=0,f=Wn)}if(f!==0){if(f===2&&(M=P_(c),M!==0&&(b=M,f=bx(c,M))),f===1)throw v=Rf,Ha(c,0),Fs(c,b),Fr(c,Zn()),v;if(f===6)Fs(c,b);else{if(M=c.current.alternate,(b&30)===0&&!WB(M)&&(f=Vp(c,b),f===2&&(R=P_(c),R!==0&&(b=R,f=bx(c,R))),f===1))throw v=Rf,Ha(c,0),Fs(c,b),Fr(c,Zn()),v;switch(c.finishedWork=M,c.finishedLanes=b,f){case 0:case 1:throw Error(s(345));case 2:Wa(c,zr);break;case 3:if(Fs(c,b),(b&130023424)===b&&(f=_x+500-Zn(),10<f)){if(ep(c,0)!==0)break;if(M=c.suspendedLanes,(M&b)!==b){Ar(),c.pingedLanes|=c.suspendedLanes&M;break}c.timeoutHandle=Pe(Wa.bind(null,c,zr),f);break}Wa(c,zr);break;case 4:if(Fs(c,b),(b&4194240)===b)break;for(f=c.eventTimes,M=-1;0<b;){var X=31-Gi(b);R=1<<X,X=f[X],X>M&&(M=X),b&=~R}if(b=M,b=Zn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*HB(b/1960))-b,10<b){c.timeoutHandle=Pe(Wa.bind(null,c,zr),b);break}Wa(c,zr);break;case 5:Wa(c,zr);break;default:throw Error(s(329))}}}return Fr(c,Zn()),c.callbackNode===v?NP.bind(null,c):null}function bx(c,f){var v=Cf;return c.current.memoizedState.isDehydrated&&(Ha(c,f).flags|=256),c=Vp(c,f),c!==2&&(f=zr,zr=v,f!==null&&Ex(f)),c}function Ex(c){zr===null?zr=c:zr.push.apply(zr,c)}function WB(c){for(var f=c;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var b=0;b<v.length;b++){var M=v[b],R=M.getSnapshot;M=M.value;try{if(!So(R(),M))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Fs(c,f){for(f&=~yx,f&=~Np,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var v=31-Gi(f),b=1<<v;c[v]=-1,f&=~b}}function DP(c){if((It&6)!==0)throw Error(s(327));Ga();var f=ep(c,0);if((f&1)===0)return Fr(c,Zn()),null;var v=Vp(c,f);if(c.tag!==0&&v===2){var b=P_(c);b!==0&&(f=b,v=bx(c,b))}if(v===1)throw v=Rf,Ha(c,0),Fs(c,f),Fr(c,Zn()),v;if(v===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Wa(c,zr),Fr(c,Zn()),null}function kP(c){Us!==null&&Us.tag===0&&(It&6)===0&&Ga();var f=It;It|=1;var v=On.transition,b=Ht;try{if(On.transition=null,Ht=1,c)return c()}finally{Ht=b,On.transition=v,It=f,(It&6)===0&&wo()}}function Mx(){si=cc.current,Qt(cc)}function Ha(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==Re&&(c.timeoutHandle=Re,Ae(v)),Fn!==null)for(v=Fn.return;v!==null;){var b=v;switch($_(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Is();break;case 3:ac(),Qt(Un),Qt(Hn),q_();break;case 5:X_(b);break;case 4:ac();break;case 13:Qt(_n);break;case 19:Qt(_n);break;case 10:k_(b.type._context);break;case 22:case 23:Mx()}v=v.return}if(zn=c,Fn=c=Bs(c.current,null),ir=si=f,Wn=0,Rf=null,yx=Np=uc=0,zr=Cf=null,bo!==null){for(f=0;f<bo.length;f++)if(v=bo[f],b=v.interleaved,b!==null){v.interleaved=null;var M=b.next,R=v.pending;if(R!==null){var X=R.next;R.next=M,b.next=X}v.pending=b}bo=null}return c}function UP(c,f){do{var v=Fn;try{if(D_(),hp.current=_p,pp){for(var b=Pn.memoizedState;b!==null;){var M=b.queue;M!==null&&(M.pending=null),b=b.next}pp=!1}if(lc=0,Qn=hr=Pn=null,xf=!1,Sf=0,vx.current=null,v===null||v.return===null){Wn=1,Rf=f,Fn=null;break}e:{var R=c,X=v.return,ie=v,xe=f;if(f=ir,ie.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Fe=xe,Je=ie,xt=Je.tag;if((Je.mode&1)===0&&(xt===0||xt===11||xt===15)){var ct=Je.alternate;ct?(Je.updateQueue=ct.updateQueue,Je.memoizedState=ct.memoizedState,Je.lanes=ct.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var nn=iP(X);if(nn!==null){nn.flags&=-257,oP(nn,X,ie,R,f),nn.mode&1&&rP(R,Fe,f),f=nn,xe=Fe;var st=f.updateQueue;if(st===null){var gr=new Set;gr.add(xe),f.updateQueue=gr}else st.add(xe);break e}else{if((f&1)===0){rP(R,Fe,f),Tx();break e}xe=Error(s(426))}}else if(pn&&ie.mode&1){var Ai=iP(X);if(Ai!==null){(Ai.flags&65536)===0&&(Ai.flags|=256),oP(Ai,X,ie,R,f),G_(xe);break e}}R=xe,Wn!==4&&(Wn=2),Cf===null?Cf=[R]:Cf.push(R),xe=nx(xe,ie),ie=X;do{switch(ie.tag){case 3:ie.flags|=65536,f&=-f,ie.lanes|=f;var fe=tP(ie,xe,f);bT(ie,fe);break e;case 1:R=xe;var se=ie.type,ge=ie.stateNode;if((ie.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(ks===null||!ks.has(ge)))){ie.flags|=65536,f&=-f,ie.lanes|=f;var Ye=nP(ie,R,f);bT(ie,Ye);break e}}ie=ie.return}while(ie!==null)}BP(v)}catch(rt){f=rt,Fn===v&&v!==null&&(Fn=v=v.return);continue}break}while(1)}function zP(){var c=Ip.current;return Ip.current=_p,c===null?_p:c}function Tx(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),zn===null||(uc&268435455)===0&&(Np&268435455)===0||Fs(zn,ir)}function Vp(c,f){var v=It;It|=2;var b=zP();zn===c&&ir===f||Ha(c,f);do try{GB();break}catch(M){UP(c,M)}while(1);if(D_(),It=v,Ip.current=b,Fn!==null)throw Error(s(261));return zn=null,ir=0,Wn}function GB(){for(;Fn!==null;)FP(Fn)}function jB(){for(;Fn!==null&&!yB();)FP(Fn)}function FP(c){var f=HP(c.alternate,c,si);c.memoizedProps=c.pendingProps,f===null?BP(c):Fn=f,vx.current=null}function BP(c){var f=c;do{var v=f.alternate;if(c=f.return,(f.flags&32768)===0){if(v=DB(v,f,si),v!==null){Fn=v;return}}else{if(v=zB(v,f),v!==null){v.flags&=32767,Fn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Wn=6,Fn=null;return}}if(f=f.sibling,f!==null){Fn=f;return}Fn=f=c}while(f!==null);Wn===0&&(Wn=5)}function Wa(c,f){var v=Ht,b=On.transition;try{On.transition=null,Ht=1,XB(c,f,v)}finally{On.transition=b,Ht=v}return null}function XB(c,f,v){do Ga();while(Us!==null);if((It&6)!==0)throw Error(s(327));var b=c.finishedWork,M=c.finishedLanes;if(b===null)return null;if(c.finishedWork=null,c.finishedLanes=0,b===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0;var R=b.lanes|b.childLanes;if(vB(c,R),c===zn&&(Fn=zn=null,ir=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||kp||(kp=!0,WP(O_,function(){return Ga(),null})),R=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||R){R=On.transition,On.transition=null;var X=Ht;Ht=1;var ie=It;It|=4,vx.current=null,BB(c,b),VB(c,b),W(c.containerInfo),c.current=b,$B(b),_B(),It=ie,Ht=X,On.transition=R}else c.current=b;if(kp&&(kp=!1,Us=c,Up=M),R=c.pendingLanes,R===0&&(ks=null),wB(b.stateNode),Fr(c,Zn()),f!==null)for(v=c.onRecoverableError,b=0;b<f.length;b++)v(f[b]);if(Dp)throw Dp=!1,c=Sx,Sx=null,c;return(Up&1)!==0&&c.tag!==0&&Ga(),R=c.pendingLanes,(R&1)!==0?c===wx?Lf++:(Lf=0,wx=c):Lf=0,wo(),null}function Ga(){if(Us!==null){var c=yT(Up),f=On.transition,v=Ht;try{if(On.transition=null,Ht=16>c?16:c,Us===null)var b=!1;else{if(c=Us,Us=null,Up=0,(It&6)!==0)throw Error(s(331));var M=It;for(It|=4,je=c.current;je!==null;){var R=je,X=R.child;if((je.flags&16)!==0){var ie=R.deletions;if(ie!==null){for(var xe=0;xe<ie.length;xe++){var Fe=ie[xe];for(je=Fe;je!==null;){var Je=je;switch(Je.tag){case 0:case 11:case 15:$a(8,Je,R)}var xt=Je.child;if(xt!==null)xt.return=Je,je=xt;else for(;je!==null;){Je=je;var ct=Je.sibling,nn=Je.return;if(EP(Je),Je===Fe){je=null;break}if(ct!==null){ct.return=nn,je=ct;break}je=nn}}}var st=R.alternate;if(st!==null){var gr=st.child;if(gr!==null){st.child=null;do{var Ai=gr.sibling;gr.sibling=null,gr=Ai}while(gr!==null)}}je=R}}if((R.subtreeFlags&2064)!==0&&X!==null)X.return=R,je=X;else e:for(;je!==null;){if(R=je,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:$a(9,R,R.return)}var fe=R.sibling;if(fe!==null){fe.return=R.return,je=fe;break e}je=R.return}}var se=c.current;for(je=se;je!==null;){X=je;var ge=X.child;if((X.subtreeFlags&2064)!==0&&ge!==null)ge.return=X,je=ge;else e:for(X=se;je!==null;){if(ie=je,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:Pf(9,ie)}}catch(rt){Br(ie,ie.return,rt)}if(ie===X){je=null;break e}var Ye=ie.sibling;if(Ye!==null){Ye.return=ie.return,je=Ye;break e}je=ie.return}}if(It=M,wo(),xo&&typeof xo.onPostCommitFiberRoot=="function")try{xo.onPostCommitFiberRoot(tp,c)}catch{}b=!0}return b}finally{Ht=v,On.transition=f}}return!1}function VP(c,f,v){f=nx(v,f),f=tP(c,f,1),Ds(c,f),f=Ar(),c=Bp(c,1),c!==null&&(pf(c,1,f),Fr(c,f))}function Br(c,f,v){if(c.tag===3)VP(c,c,v);else for(;f!==null;){if(f.tag===3){VP(f,c,v);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b))){c=nx(v,c),c=nP(f,c,1),Ds(f,c),c=Ar(),f=Bp(f,1),f!==null&&(pf(f,1,c),Fr(f,c));break}}f=f.return}}function YB(c,f,v){var b=c.pingCache;b!==null&&b.delete(f),f=Ar(),c.pingedLanes|=c.suspendedLanes&v,zn===c&&(ir&v)===v&&(Wn===4||Wn===3&&(ir&130023424)===ir&&500>Zn()-_x?Ha(c,0):yx|=v),Fr(c,f)}function $P(c,f){f===0&&((c.mode&1)===0?f=1:(f=Jh,Jh<<=1,(Jh&130023424)===0&&(Jh=4194304)));var v=Ar();c=Bp(c,f),c!==null&&(pf(c,f,v),Fr(c,v))}function qB(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),$P(c,v)}function ZB(c,f){var v=0;switch(c.tag){case 13:var b=c.stateNode,M=c.memoizedState;M!==null&&(v=M.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(s(314))}b!==null&&b.delete(f),$P(c,v)}var HP;HP=function(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps||Un.current)oi=!0;else{if((c.lanes&v)===0&&(f.flags&128)===0)return oi=!1,UB(c,f,v);oi=(c.flags&131072)!==0}else oi=!1,pn&&(f.flags&1048576)!==0&&RT(f,up,f.index);switch(f.lanes=0,f.tag){case 2:var b=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var M=Mn(f,Hn.current);tc(f,v),M=Q_(null,f,b,c,M,v);var R=K_();return f.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Tn(b)?(R=!0,Jl(f)):R=!1,f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,z_(f),M.updater=lp,f.stateNode=M,M._reactInternals=f,B_(f,b,c,v),f=ox(null,f,b,!0,R,v)):(f.tag=0,pn&&R&&V_(f),Pr(null,f,M,v),f=f.child),f;case 16:b=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,M=b._init,b=M(b._payload),f.type=b,M=f.tag=KB(b),c=ji(b,c),M){case 0:f=ix(null,f,b,c,v);break e;case 1:f=hP(null,f,b,c,v);break e;case 11:f=lP(null,f,b,c,v);break e;case 14:f=cP(null,f,b,ji(b.type,c),v);break e}throw Error(s(306,b,""))}return f;case 0:return b=f.type,M=f.pendingProps,M=f.elementType===b?M:ji(b,M),ix(c,f,b,M,v);case 1:return b=f.type,M=f.pendingProps,M=f.elementType===b?M:ji(b,M),hP(c,f,b,M,v);case 3:e:{if(pP(f),c===null)throw Error(s(387));b=f.pendingProps,R=f.memoizedState,M=R.element,wT(c,f),ap(f,b,null,v);var X=f.memoizedState;if(b=X.element,he&&R.isDehydrated)if(R={element:b,isDehydrated:!1,cache:X.cache,transitions:X.transitions},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){M=Error(s(423)),f=mP(c,f,b,v,M);break e}else if(b!==M){M=Error(s(424)),f=mP(c,f,b,v,M);break e}else for(he&&(ii=E_(f.stateNode.containerInfo),ri=f,pn=!0,Xi=null,mf=!1),v=DT(f,null,b,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(ic(),b===M){f=es(c,f,v);break e}Pr(c,f,b,v)}f=f.child}return f;case 5:return kT(f),c===null&&W_(f),b=f.type,M=f.pendingProps,R=c!==null?c.memoizedProps:null,X=M.children,ue(b,M)?X=null:R!==null&&ue(b,R)&&(f.flags|=32),dP(c,f),Pr(c,f,X,v),f.child;case 6:return c===null&&W_(f),null;case 13:return gP(c,f,v);case 4:return j_(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=oc(f,null,b,v):Pr(c,f,b,v),f.child;case 11:return b=f.type,M=f.pendingProps,M=f.elementType===b?M:ji(b,M),lP(c,f,b,M,v);case 7:return Pr(c,f,f.pendingProps,v),f.child;case 8:return Pr(c,f,f.pendingProps.children,v),f.child;case 12:return Pr(c,f,f.pendingProps.children,v),f.child;case 10:e:{if(b=f.type._context,M=f.pendingProps,R=f.memoizedProps,X=M.value,ST(f,b,X),R!==null)if(So(R.value,X)){if(R.children===M.children&&!Un.current){f=es(c,f,v);break e}}else for(R=f.child,R!==null&&(R.return=f);R!==null;){var ie=R.dependencies;if(ie!==null){X=R.child;for(var xe=ie.firstContext;xe!==null;){if(xe.context===b){if(R.tag===1){xe=Zo(-1,v&-v),xe.tag=2;var Fe=R.updateQueue;if(Fe!==null){Fe=Fe.shared;var Je=Fe.pending;Je===null?xe.next=xe:(xe.next=Je.next,Je.next=xe),Fe.pending=xe}}R.lanes|=v,xe=R.alternate,xe!==null&&(xe.lanes|=v),U_(R.return,v,f),ie.lanes|=v;break}xe=xe.next}}else if(R.tag===10)X=R.type===f.type?null:R.child;else if(R.tag===18){if(X=R.return,X===null)throw Error(s(341));X.lanes|=v,ie=X.alternate,ie!==null&&(ie.lanes|=v),U_(X,v,f),X=R.sibling}else X=R.child;if(X!==null)X.return=R;else for(X=R;X!==null;){if(X===f){X=null;break}if(R=X.sibling,R!==null){R.return=X.return,X=R;break}X=X.return}R=X}Pr(c,f,M.children,v),f=f.child}return f;case 9:return M=f.type,b=f.pendingProps.children,tc(f,v),M=Si(M),b=b(M),f.flags|=1,Pr(c,f,b,v),f.child;case 14:return b=f.type,M=ji(b,f.pendingProps),M=ji(b.type,M),cP(c,f,b,M,v);case 15:return uP(c,f,f.type,f.pendingProps,v);case 17:return b=f.type,M=f.pendingProps,M=f.elementType===b?M:ji(b,M),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Tn(b)?(c=!0,Jl(f)):c=!1,tc(f,v),PT(f,b,M),B_(f,b,M,v),ox(null,f,b,!0,c,v);case 19:return xP(c,f,v);case 22:return fP(c,f,v)}throw Error(s(156,f.tag))};function WP(c,f){return C_(c,f)}function QB(c,f,v,b){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(c,f,v,b){return new QB(c,f,v,b)}function Px(c){return c=c.prototype,!(!c||!c.isReactComponent)}function KB(c){if(typeof c=="function")return Px(c)?1:0;if(c!=null){if(c=c.$$typeof,c===x)return 11;if(c===_)return 14}return 2}function Bs(c,f){var v=c.alternate;return v===null?(v=Pi(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function $p(c,f,v,b,M,R){var X=2;if(b=c,typeof c=="function")Px(c)&&(X=1);else if(typeof c=="string")X=5;else e:switch(c){case d:return ja(v.children,M,R,f);case h:X=8,M|=8;break;case p:return c=Pi(12,v,f,M|2),c.elementType=p,c.lanes=R,c;case S:return c=Pi(13,v,f,M),c.elementType=S,c.lanes=R,c;case g:return c=Pi(19,v,f,M),c.elementType=g,c.lanes=R,c;case E:return Hp(v,M,R,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:X=10;break e;case y:X=9;break e;case x:X=11;break e;case _:X=14;break e;case w:X=16,b=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return f=Pi(X,v,f,M),f.elementType=c,f.type=b,f.lanes=R,f}function ja(c,f,v,b){return c=Pi(7,c,b,f),c.lanes=v,c}function Hp(c,f,v,b){return c=Pi(22,c,b,f),c.elementType=E,c.lanes=v,c.stateNode={},c}function Ax(c,f,v){return c=Pi(6,c,null,f),c.lanes=v,c}function Rx(c,f,v){return f=Pi(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function JB(c,f,v,b,M){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A_(0),this.expirationTimes=A_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A_(0),this.identifierPrefix=b,this.onRecoverableError=M,he&&(this.mutableSourceEagerHydrationData=null)}function GP(c,f,v,b,M,R,X,ie,xe){return c=new JB(c,f,v,ie,xe),f===1?(f=1,R===!0&&(f|=8)):f=0,R=Pi(3,null,null,f),c.current=R,R.stateNode=c,R.memoizedState={element:b,isDehydrated:v,cache:null,transitions:null},z_(R),c}function jP(c){if(!c)return fr;c=c._reactInternals;e:{if(C(c)!==c||c.tag!==1)throw Error(s(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Tn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(s(171))}if(c.tag===1){var v=c.type;if(Tn(v))return Kl(c,v,f)}return f}function XP(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=ee(f),c===null?null:c.stateNode}function YP(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function Cx(c,f){YP(c,f),(c=c.alternate)&&YP(c,f)}function eV(c){return c=ee(c),c===null?null:c.stateNode}function tV(){return null}return n.attemptContinuousHydration=function(c){if(c.tag===13){var f=Ar();Ti(c,134217728,f),Cx(c,134217728)}},n.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Ar(),v=zs(c);Ti(c,v,f),Cx(c,v)}},n.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var v=hf(f.pendingLanes);v!==0&&(R_(f,v|1),Fr(f,Zn()),(It&6)===0&&(fc(),wo()))}break;case 13:var b=Ar();kP(function(){return Ti(c,1,b)}),Cx(c,1)}},n.batchedUpdates=function(c,f){var v=It;It|=1;try{return c(f)}finally{It=v,It===0&&(fc(),np&&wo())}},n.createComponentSelector=function(c){return{$$typeof:Ap,value:c}},n.createContainer=function(c,f,v,b,M,R,X){return GP(c,f,!1,null,v,b,M,R,X)},n.createHasPseudoClassSelector=function(c){return{$$typeof:Rp,value:c}},n.createHydrationContainer=function(c,f,v,b,M,R,X,ie,xe){return c=GP(v,b,!0,c,M,R,X,ie,xe),c.context=jP(null),v=c.current,b=Ar(),M=zs(v),R=Zo(b,M),R.callback=f!=null?f:null,Ds(v,R),c.current.lanes=M,pf(c,M,b),Fr(c,b),c},n.createPortal=function(c,f,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:c,containerInfo:f,implementation:v}},n.createRoleSelector=function(c){return{$$typeof:Cp,value:c}},n.createTestNameSelector=function(c){return{$$typeof:Lp,value:c}},n.createTextSelector=function(c){return{$$typeof:Op,value:c}},n.deferredUpdates=function(c){var f=Ht,v=On.transition;try{return On.transition=null,Ht=16,c()}finally{Ht=f,On.transition=v}},n.discreteUpdates=function(c,f,v,b,M){var R=Ht,X=On.transition;try{return On.transition=null,Ht=1,c(f,v,b,M)}finally{Ht=R,On.transition=X,It===0&&fc()}},n.findAllNodes=gx,n.findBoundingRects=function(c,f){if(!it)throw Error(s(363));f=gx(c,f),c=[];for(var v=0;v<f.length;v++)c.push(Xt(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var b=v.x,M=b+v.width,R=v.y,X=R+v.height,ie=f-1;0<=ie;ie--)if(f!==ie){var xe=c[ie],Fe=xe.x,Je=Fe+xe.width,xt=xe.y,ct=xt+xe.height;if(b>=Fe&&R>=xt&&M<=Je&&X<=ct){c.splice(f,1);break}else if(b!==Fe||v.width!==xe.width||ct<R||xt>X){if(!(R!==xt||v.height!==xe.height||Je<b||Fe>M)){Fe>b&&(xe.width+=Fe-b,xe.x=b),Je<M&&(xe.width=M-Fe),c.splice(f,1);break}}else{xt>R&&(xe.height+=xt-R,xe.y=R),ct<X&&(xe.height=X-xt),c.splice(f,1);break}}}return c},n.findHostInstance=XP,n.findHostInstanceWithNoPortals=function(c){return c=B(c),c=c!==null?F(c):null,c===null?null:c.stateNode},n.findHostInstanceWithWarning=function(c){return XP(c)},n.flushControlled=function(c){var f=It;It|=1;var v=On.transition,b=Ht;try{On.transition=null,Ht=1,c()}finally{Ht=b,On.transition=v,It=f,It===0&&(fc(),wo())}},n.flushPassiveEffects=Ga,n.flushSync=kP,n.focusWithin=function(c,f){if(!it)throw Error(s(363));for(c=hx(c),f=IP(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++];if(!k(v)){if(v.tag===5&&Ne(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Ht},n.getFindAllNodesFailureDescription=function(c,f){if(!it)throw Error(s(363));var v=0,b=[];c=[hx(c),0];for(var M=0;M<c.length;){var R=c[M++],X=c[M++],ie=f[X];if((R.tag!==5||!k(R))&&(px(R,ie)&&(b.push(mx(ie)),X++,X>v&&(v=X)),X<f.length))for(R=R.child;R!==null;)c.push(R,X),R=R.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(mx(f[v]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},n.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return re(c.child.stateNode);default:return c.child.stateNode}},n.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:eV,findFiberByHostInstance:c.findFiberByHostInstance||tV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{tp=f.inject(c),xo=f}catch{}c=!!f.checkDCE}}return c},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(c,f,v,b){if(!it)throw Error(s(363));c=gx(c,f);var M=De(c,v,b).disconnect;return{disconnect:function(){M()}}},n.registerMutableSourceForHydration=function(c,f){var v=f._getVersion;v=v(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,v]:c.mutableSourceEagerHydrationData.push(f,v)},n.runWithPriority=function(c,f){var v=Ht;try{return Ht=c,f()}finally{Ht=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(c,f,v,b){var M=f.current,R=Ar(),X=zs(M);return v=jP(v),f.context===null?f.context=v:f.pendingContext=v,f=Zo(R,X),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),Ds(M,f),c=Ti(M,X,R),c!==null&&sp(c,M,X),X},n};(function(t){t.exports=cpe})(D5);const upe=Tb(D5.exports),lT={},fpe=t=>void Object.assign(lT,t);function dpe(t,e){function n(d,{args:h=[],attach:p,...m},y){let x=`${d[0].toUpperCase()}${d.slice(1)}`,S;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;S=$c(g,{type:d,root:y,attach:p,primitive:!0})}else{const g=lT[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");S=$c(new g(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return S.__r3f.attach===void 0&&(S instanceof wt?S.__r3f.attach="geometry":S instanceof ur&&(S.__r3f.attach="material")),x!=="inject"&&a1(S,m),S}function r(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?s1(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||$c(h,{}),h.__r3f.parent=d,bb(h),Hc(h)}}function i(d,h,p){let m=!1;if(h){var y,x;if((y=h.__r3f)!=null&&y.attach)s1(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const S=d.children.filter(_=>_!==h),g=S.indexOf(p);d.children=[...S.slice(0,g),h,...S.slice(g)],m=!0}m||(x=d.__r3f)==null||x.objects.push(h),h.__r3f||$c(h,{}),h.__r3f.parent=d,bb(h),Hc(h)}}function o(d,h,p=!1){d&&[...d].forEach(m=>s(h,m,p))}function s(d,h,p){if(h){var m,y,x;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(E=>E!==h)),(y=h.__r3f)!=null&&y.attach)qO(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var S;d.remove(h),(S=h.__r3f)!=null&&S.root&&_pe(h.__r3f.root,h)}const _=(x=h.__r3f)==null?void 0:x.primitive,w=p===void 0?h.dispose!==null&&!_:p;if(!_){var g;o((g=h.__r3f)==null?void 0:g.objects,h,w),o(h.children,h,w)}delete h.__r3f,w&&h.dispose&&h.type!=="Scene"&&D0.exports.unstable_scheduleCallback(D0.exports.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Hc(d)}}function a(d,h,p,m){var y;const x=(y=d.__r3f)==null?void 0:y.parent;if(!x)return;const S=n(h,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&r(S,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>r(S,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||s(x,d),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),r(x,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=S,g.ref&&(typeof g.ref=="function"?g.ref(S):g.ref.current=S))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:upe({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;!p.__r3f||(p.__r3f.root=d,r(p,h))},removeChildFromContainer:(d,h)=>{!h||s(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;!m.__r3f||i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;const p=(h=d==null?void 0:d.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(d,h,p,m){var y;if(((y=d==null?void 0:d.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:S=[],children:g,..._}=m,{args:w=[],children:E,...T}=p;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((A,I)=>A!==w[I]))return[!0];const P=H5(d,_,T,!0);return P.changes.length?[!1,P]:null}},commitUpdate(d,[h,p],m,y,x,S){h?a(d,m,x,S):a1(d,p)},commitMount(d,h,p,m){var y;const x=(y=d.__r3f)!=null?y:{};d.raycast&&x.handlers&&x.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>$c(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&qO(m,d,p),d.isObject3D&&(d.visible=!1),Hc(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&s1(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Hc(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():_l.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&mn.fun(performance.now)?performance.now:mn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:mn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:mn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:a1}}var GO,jO;const o1=t=>"colorSpace"in t||"outputColorSpace"in t,U5=()=>{var t;return(t=lT.ColorManagement)!=null?t:null},z5=t=>t&&t.isOrthographicCamera,hpe=t=>t&&t.hasOwnProperty("current"),qh=typeof window<"u"&&((GO=window.document)!=null&&GO.createElement||((jO=window.navigator)==null?void 0:jO.product)==="ReactNative")?L.exports.useLayoutEffect:L.exports.useEffect;function F5(t){const e=L.exports.useRef(t);return qh(()=>void(e.current=t),[t]),e}function ppe({set:t}){return qh(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class B5 extends L.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}B5.getDerivedStateFromError=()=>({error:!0});const V5="__default",XO=new Map,mpe=t=>t&&!!t.memoized&&!!t.changes;function $5(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const ld=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},mn={obj:t=>t===Object(t)&&!mn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(mn.str(t)||mn.num(t))return t===e;const o=mn.obj(t);if(o&&r==="reference")return t===e;const s=mn.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!mn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(mn.und(a)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function gpe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function $c(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function wb(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const YO=/-\d+$/;function s1(t,e,n){if(mn.str(n)){if(YO.test(n)){const o=n.replace(YO,""),{target:s,key:a}=wb(t,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=wb(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function qO(t,e,n){var r,i;if(mn.str(n)){const{target:o,key:s}=wb(t,n),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function H5(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:a,...l}={},u=!1){var d;const h=(d=t==null?void 0:t.__r3f)!=null?d:{},p=Object.entries(i),m=[];if(u){const x=Object.keys(l);for(let S=0;S<x.length;S++)i.hasOwnProperty(x[S])||p.unshift([x[S],V5+"remove"])}p.forEach(([x,S])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&x==="object"||mn.equ(S,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,S,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),m.push([x,S,!1,_]);for(const w in i){const E=i[w];w.startsWith(`${x}-`)&&m.push([w,E,!1,w.split("-")])}});const y={...i};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function a1(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},s=o.root,a=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:l,changes:u}=mpe(e)?e:H5(t,e),d=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,y,x,S]=u[p];if(o1(t)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?E:T)}let g=t,_=g[m];if(S.length&&(_=S.reduce((w,E)=>w[E],t),!(_&&_.set))){const[w,...E]=S.reverse();g=E.reverse().reduce((T,P)=>T[P],t),m=w}if(y===V5+"remove")if(g.constructor){let w=XO.get(g.constructor);w||(w=new g.constructor,XO.set(g.constructor,w)),y=w[m]}else y=0;if(x)y?o.handlers[m]=y:delete o.handlers[m],o.eventCount=Object.keys(o.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Ml)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const w=_ instanceof Xe;!w&&_.setScalar?_.setScalar(y):_ instanceof Ml&&y instanceof Ml?_.mask=y.mask:_.set(y),!U5()&&!a.linear&&w&&_.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof Ln&&g[m].format===jr&&g[m].type===Bo){const w=g[m];o1(w)&&o1(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}Hc(t)}if(o.parent&&a.internal&&t.raycast&&d!==o.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),o.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&bb(t),t}function Hc(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function bb(t){t.onUpdate==null||t.onUpdate(t)}function vpe(t,e){t.manual||(z5(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function vg(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ype(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return _l.exports.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return _l.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return _l.exports.ContinuousEventPriority;default:return _l.exports.DefaultEventPriority}}function W5(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function _pe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{W5(n.capturedMap,e,r,i)})}function xpe(t){function e(l){const{internal:u}=t.getState(),d=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function r(l,u){const d=t.getState(),h=new Set,p=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const _=ld(m[g]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(g){const _=ld(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(y).sort((g,_)=>{const w=ld(g.object),E=ld(_.object);return!w||!E?g.distance-_.distance:E.events.priority-w.events.priority||g.distance-_.distance}).filter(g=>{const _=vg(g);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(x=d.events.filter(x,d));for(const g of x){let _=g.object;for(;_;){var S;(S=_.__r3f)!=null&&S.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())h.has(vg(g.intersection))||p.push(g.intersection);return p}function i(l,u,d,h){const p=t.getState();if(l.length){const m={stopped:!1};for(const y of l){const x=ld(y.object)||p,{raycaster:S,pointer:g,camera:_,internal:w}=x,E=new z(g.x,g.y,0).unproject(_),T=O=>{var B,ee;return(B=(ee=w.capturedMap.get(O))==null?void 0:ee.has(y.eventObject))!=null?B:!1},P=O=>{const B={intersection:y,target:u.target};w.capturedMap.has(O)?w.capturedMap.get(O).set(y.eventObject,B):w.capturedMap.set(O,new Map([[y.eventObject,B]])),u.target.setPointerCapture(O)},A=O=>{const B=w.capturedMap.get(O);B&&W5(w.capturedMap,y.eventObject,B,O)};let I={};for(let O in u){let B=u[O];typeof B!="function"&&(I[O]=B)}let C={...y,...I,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:E,ray:S.ray,camera:_,stopPropagation(){const O="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!O||O.has(y.eventObject))&&(C.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(B=>B.eventObject===y.eventObject))){const B=l.slice(0,l.indexOf(y));o([...B,y])}},target:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:A},currentTarget:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:A},nativeEvent:u};if(h(C),m.stopped===!0)break}}return l}function o(l){const{internal:u}=t.getState();for(const d of u.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(vg(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function s(l,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),o([]))})}}return function(d){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=r(d,m?n:void 0),g=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=S.map(w=>w.eventObject)),y&&!S.length&&g<=2&&(s(d,p.interaction),h&&h(d)),m&&o(S);function _(w){const E=w.eventObject,T=E.__r3f,P=T==null?void 0:T.handlers;if(!!(T!=null&&T.eventCount))if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const A=vg(w),I=p.hovered.get(A);I?I.stopped&&w.stopPropagation():(p.hovered.set(A,w),P.onPointerOver==null||P.onPointerOver(w),P.onPointerEnter==null||P.onPointerEnter(w))}P.onPointerMove==null||P.onPointerMove(w)}else{const A=P[l];A?(!y||p.initialHits.includes(E))&&(s(d,p.interaction.filter(I=>!p.initialHits.includes(I))),A(w)):y&&p.initialHits.includes(E)&&s(d,p.interaction.filter(I=>!p.initialHits.includes(I)))}}i(S,d,g,_)}}return{handlePointer:a}}const G5=t=>!!(t!=null&&t.render),j5=L.exports.createContext(null),Spe=(t,e)=>{const n=lpe((a,l)=>{const u=new z,d=new z,h=new z;function p(g=l().camera,_=d,w=l().size){const{width:E,height:T,top:P,left:A}=w,I=E/T;_ instanceof z?h.copy(_):h.set(..._);const C=g.getWorldPosition(u).distanceTo(h);if(z5(g))return{width:E/g.zoom,height:T/g.zoom,top:P,left:A,factor:1,distance:C,aspect:I};{const O=g.fov*Math.PI/180,B=2*Math.tan(O/2)*C,ee=B*(E/T);return{width:ee,height:B,top:P,left:A,factor:E/ee,distance:C,aspect:I}}}let m;const y=g=>a(_=>({performance:{..._.performance,current:g}})),x=new Le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new rT,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,w,E,T)=>{const P=l().camera,A={width:g,height:_,top:E||0,left:T||0,updateStyle:w};a(I=>({size:A,viewport:{...I.viewport,...p(P,d,A)}}))},setDpr:g=>a(_=>{const w=$5(g);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,w)=>{const E=l().internal;return E.priority=E.priority+(_>0?1:0),E.subscribers.push({ref:g,priority:_,store:w}),E.subscribers=E.subscribers.sort((T,P)=>T.priority-P.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(_>0?1:0),T.subscribers=T.subscribers.filter(P=>P.ref!==g))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:h}=n.getState();if(l!==i||u.dpr!==o){var p;i=l,o=u.dpr,vpe(a,l),d.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==s&&(s=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let yg,wpe=new Set,bpe=new Set,Epe=new Set;function l1(t,e){if(!!t.size)for(const{callback:n}of t.values())n(e)}function cd(t,e){switch(t){case"before":return l1(wpe,e);case"after":return l1(bpe,e);case"tail":return l1(Epe,e)}}let c1,u1;function f1(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),c1=e.internal.subscribers,yg=0;yg<c1.length;yg++)u1=c1[yg],u1.ref.current(u1.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Mpe(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,cd("before",l);for(const d of t.values()){var u;i=d.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=f1(l,i))}if(cd("after",l),n===0)return cd("tail",l),e=!1,cancelAnimationFrame(r)}function s(l,u=1){var d;if(!l)return t.forEach(h=>s(h.store.getState()),u);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(o)))}function a(l,u=!0,d,h){if(u&&cd("before",l),d)f1(l,d,h);else for(const p of t.values())f1(l,p.store.getState());u&&cd("after",l)}return{loop:o,invalidate:s,advance:a}}function X5(){const t=L.exports.useContext(j5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function fi(t=n=>n,e){return X5()(t,e)}function Tpe(t,e=0){const n=X5(),r=n.getState().internal.subscribe,i=F5(t);return qh(()=>r(i,e,n),[e,r,n]),null}const $u=new Map,{invalidate:ZO,advance:QO}=Mpe($u),{reconciler:k0,applyProps:Fc}=dpe($u,ype),Bc={objects:"shallow",strict:!1},Ppe=(t,e)=>{const n=typeof t=="function"?t(e):t;return G5(n)?n:new zM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Ape(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:o}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:o}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Rpe(t){const e=$u.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Spe(ZO,QO),s=n||k0.createContainer(o,_l.exports.ConcurrentRoot,null,!1,null,"",i,null);e||$u.set(t,{fiber:s,store:o});let a,l=!1,u;return{configure(d={}){let{gl:h,size:p,scene:m,events:y,onCreated:x,shadows:S=!1,linear:g=!1,flat:_=!1,legacy:w=!1,orthographic:E=!1,frameloop:T="always",dpr:P=[1,2],performance:A,raycaster:I,camera:C,onPointerMissed:O}=d,B=o.getState(),ee=B.gl;B.gl||B.set({gl:ee=Ppe(h,t)});let V=B.raycaster;V||B.set({raycaster:V=new aT});const{params:F,...J}=I||{};if(mn.equ(J,V,Bc)||Fc(V,{...J}),mn.equ(F,V.params,Bc)||Fc(V,{params:{...V.params,...F}}),!B.camera||B.camera===u&&!mn.equ(u,C,Bc)){u=C;const G=C instanceof Wh,N=G?C:E?new jh(0,0,0,0,.1,1e3):new tr(75,0,.1,1e3);G||(N.position.z=5,C&&Fc(N,C),!B.camera&&!(C!=null&&C.rotation)&&N.lookAt(0,0,0)),B.set({camera:N})}if(!B.scene){let G;m instanceof N0?G=m:(G=new N0,m&&Fc(G,m)),B.set({scene:$c(G)})}if(!B.xr){const G=(D,ue)=>{const ce=o.getState();ce.frameloop!=="never"&&QO(D,!0,ce,ue)},N=()=>{const D=o.getState();D.gl.xr.enabled=D.gl.xr.isPresenting,D.gl.xr.setAnimationLoop(D.gl.xr.isPresenting?G:null),D.gl.xr.isPresenting||ZO(D)},te={connect(){const D=o.getState().gl;D.xr.addEventListener("sessionstart",N),D.xr.addEventListener("sessionend",N)},disconnect(){const D=o.getState().gl;D.xr.removeEventListener("sessionstart",N),D.xr.removeEventListener("sessionend",N)}};ee.xr&&te.connect(),B.set({xr:te})}if(ee.shadowMap){const G=ee.shadowMap.enabled,N=ee.shadowMap.type;if(ee.shadowMap.enabled=!!S,mn.boo(S))ee.shadowMap.type=Cd;else if(mn.str(S)){var re;const te={basic:NF,percentage:Yy,soft:Cd,variance:eo};ee.shadowMap.type=(re=te[S])!=null?re:Cd}else mn.obj(S)&&Object.assign(ee.shadowMap,S);(G!==ee.shadowMap.enabled||N!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}const ne=U5();ne&&("enabled"in ne?ne.enabled=!w:"legacyMode"in ne&&(ne.legacyMode=w)),Fc(ee,{outputEncoding:g?3e3:3001,toneMapping:_?ao:yM}),B.legacy!==w&&B.set(()=>({legacy:w})),B.linear!==g&&B.set(()=>({linear:g})),B.flat!==_&&B.set(()=>({flat:_})),h&&!mn.fun(h)&&!G5(h)&&!mn.equ(h,ee,Bc)&&Fc(ee,h),y&&!B.events.handlers&&B.set({events:y(o)});const W=Ape(t,p);return mn.equ(W,B.size,Bc)||B.setSize(W.width,W.height,W.updateStyle,W.top,W.left),P&&B.viewport.dpr!==$5(P)&&B.setDpr(P),B.frameloop!==T&&B.setFrameloop(T),B.onPointerMissed||B.set({onPointerMissed:O}),A&&!mn.equ(A,B.performance,Bc)&&B.set(G=>({performance:{...G.performance,...A}})),a=x,l=!0,this},render(d){return l||this.configure(),k0.updateContainer(Z(Cpe,{store:o,children:d,onCreated:a,rootElement:t}),s,null,()=>{}),o},unmount(){Y5(t)}}}function Cpe({store:t,children:e,onCreated:n,rootElement:r}){return qh(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.exports.createElement(j5.Provider,{value:t},e)}function Y5(t,e){const n=$u.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),k0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),gpe(i),$u.delete(t),e&&e(t)}catch{}},500)})}}k0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.exports.version});function Eb(t,e,n){var r,i,o,s,a;e==null&&(e=100);function l(){var d=Date.now()-s;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,n||(a=t.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,s=Date.now();var d=n&&!r;return r||(r=setTimeout(l,e)),d&&(a=t.apply(o,i),o=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}Eb.debounce=Eb;var KO=Eb;function Lpe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=L.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=L.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=L.exports.useRef(!1);L.exports.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=L.exports.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:E,width:T,height:P,bottom:A,right:I,x:C,y:O}=l.current.element.getBoundingClientRect(),B={left:w,top:E,width:T,height:P,bottom:A,right:I,x:C,y:O};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),h.current&&!Dpe(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[_,d?KO(_,d):_,u?KO(_,u):_]},[a,i,u,d]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function S(){!l.current.element||(l.current.resizeObserver=new o(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=_=>{!_||_===l.current.element||(x(),l.current.element=_,l.current.scrollContainers=q5(_),S())};return Ipe(y,Boolean(n)),Ope(m),L.exports.useEffect(()=>{x(),S()},[n,y,m]),L.exports.useEffect(()=>x,[]),[g,s,p]}function Ope(t){L.exports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Ipe(t,e){L.exports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function q5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...q5(t.parentElement)]}const Npe=["x","y","top","bottom","left","right","width","height"],Dpe=(t,e)=>Npe.every(n=>t[n]===e[n]);var kpe=Object.defineProperty,Upe=Object.defineProperties,zpe=Object.getOwnPropertyDescriptors,JO=Object.getOwnPropertySymbols,Fpe=Object.prototype.hasOwnProperty,Bpe=Object.prototype.propertyIsEnumerable,eI=(t,e,n)=>e in t?kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tI=(t,e)=>{for(var n in e||(e={}))Fpe.call(e,n)&&eI(t,n,e[n]);if(JO)for(var n of JO(e))Bpe.call(e,n)&&eI(t,n,e[n]);return t},Vpe=(t,e)=>Upe(t,zpe(e));function Z5(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=Z5(r,e,n);if(i)return i;r=e?null:r.sibling}}function Q5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const cT=Q5(L.exports.createContext(null));class K5 extends L.exports.Component{render(){return Z(cT.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner:nI,ReactCurrentDispatcher:rI}=L.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $pe(){const t=L.exports.useContext(cT);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.exports.useId();return L.exports.useMemo(()=>{for(const r of[nI==null?void 0:nI.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=Z5(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function Hpe(){var t,e;const n=$pe(),[r]=L.exports.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==cT&&!r.has(o)&&r.set(o,(e=rI==null?void 0:rI.current)==null?void 0:e.readContext(Q5(o))),i=i.return}return r}function Wpe(){const t=Hpe();return L.exports.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>L.exports.createElement(e,null,L.exports.createElement(n.Provider,Vpe(tI({},r),{value:t.get(n)}))),e=>Z(K5,{...tI({},e)})),[t])}const d1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Gpe(t){const{handlePointer:e}=xpe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(d1).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[l,u]=d1[s];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=d1[o];r.connected.removeEventListener(a,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const jpe=L.exports.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=Gpe,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:S,raycaster:g,camera:_,onPointerMissed:w,onCreated:E,...T},P){L.exports.useMemo(()=>fpe(ope),[]);const A=Wpe(),[I,C]=Lpe({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=L.exports.useRef(null),B=L.exports.useRef(null);L.exports.useImperativeHandle(P,()=>O.current);const ee=F5(w),[V,F]=L.exports.useState(!1),[J,re]=L.exports.useState(!1);if(V)throw V;if(J)throw J;const ne=L.exports.useRef(null);return qh(()=>{const K=O.current;C.width>0&&C.height>0&&K&&(ne.current||(ne.current=Rpe(K)),ne.current.configure({gl:o,events:s,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:S,raycaster:g,camera:_,size:C,onPointerMissed:(...W)=>ee.current==null?void 0:ee.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?hpe(a)?a.current:a:B.current),l&&W.setEvents({compute:(G,N)=>{const te=G[l+"X"],D=G[l+"Y"];N.pointer.set(te/N.size.width*2-1,-(D/N.size.height)*2+1),N.raycaster.setFromCamera(N.pointer,N.camera)}}),E==null||E(W)}}),ne.current.render(Z(A,{children:Z(B5,{set:re,children:Z(L.exports.Suspense,{fallback:Z(ppe,{set:F}),children:e})})})))}),L.exports.useEffect(()=>{const K=O.current;if(K)return()=>Y5(K)},[]),Z("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...i},...T,children:Z("div",{ref:I,style:{width:"100%",height:"100%"},children:Z("canvas",{ref:O,style:{display:"block"},children:n})})})}),Xpe=L.exports.forwardRef(function(e,n){return Z(K5,{children:Z(jpe,{...e,ref:n})})});function Ype(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qpe=Object.defineProperty,Zpe=(t,e,n)=>e in t?qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Se=(t,e,n)=>(Zpe(t,typeof e!="symbol"?e+"":e,n),n);class Qpe extends Ut{constructor(e,n){super(),Se(this,"isTransformControls",!0),Se(this,"visible",!1),Se(this,"domElement"),Se(this,"raycaster",new aT),Se(this,"gizmo"),Se(this,"plane"),Se(this,"tempVector",new z),Se(this,"tempVector2",new z),Se(this,"tempQuaternion",new Zt),Se(this,"unit",{X:new z(1,0,0),Y:new z(0,1,0),Z:new z(0,0,1)}),Se(this,"pointStart",new z),Se(this,"pointEnd",new z),Se(this,"offset",new z),Se(this,"rotationAxis",new z),Se(this,"startNorm",new z),Se(this,"endNorm",new z),Se(this,"rotationAngle",0),Se(this,"cameraPosition",new z),Se(this,"cameraQuaternion",new Zt),Se(this,"cameraScale",new z),Se(this,"parentPosition",new z),Se(this,"parentQuaternion",new Zt),Se(this,"parentQuaternionInv",new Zt),Se(this,"parentScale",new z),Se(this,"worldPositionStart",new z),Se(this,"worldQuaternionStart",new Zt),Se(this,"worldScaleStart",new z),Se(this,"worldPosition",new z),Se(this,"worldQuaternion",new Zt),Se(this,"worldQuaternionInv",new Zt),Se(this,"worldScale",new z),Se(this,"eye",new z),Se(this,"positionStart",new z),Se(this,"quaternionStart",new Zt),Se(this,"scaleStart",new z),Se(this,"camera"),Se(this,"object"),Se(this,"enabled",!0),Se(this,"axis",null),Se(this,"mode","translate"),Se(this,"translationSnap",null),Se(this,"rotationSnap",null),Se(this,"scaleSnap",null),Se(this,"space","world"),Se(this,"size",1),Se(this,"dragging",!1),Se(this,"showX",!0),Se(this,"showY",!0),Se(this,"showZ",!0),Se(this,"changeEvent",{type:"change"}),Se(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),Se(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),Se(this,"objectChangeEvent",{type:"objectChange"}),Se(this,"intersectObjectWithRay",(i,o,s)=>{const a=o.intersectObject(i,!0);for(let l=0;l<a.length;l++)if(a[l].object.visible||s)return a[l];return!1}),Se(this,"attach",i=>(this.object=i,this.visible=!0,this)),Se(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),Se(this,"reset",()=>this.enabled?(this.dragging&&this.object!==void 0&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this),Se(this,"updateMatrixWorld",()=>{this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),Se(this,"pointerHover",i=>{if(this.object===void 0||this.dragging===!0)return;this.raycaster.setFromCamera(i,this.camera);const o=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);o?this.axis=o.object.name:this.axis=null}),Se(this,"pointerDown",i=>{if(!(this.object===void 0||this.dragging===!0||i.button!==0)&&this.axis!==null){this.raycaster.setFromCamera(i,this.camera);const o=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(o){let s=this.space;if(this.mode==="scale"?s="local":(this.axis==="E"||this.axis==="XYZE"||this.axis==="XYZ")&&(s="world"),s==="local"&&this.mode==="rotate"){const a=this.rotationSnap;this.axis==="X"&&a&&(this.object.rotation.x=Math.round(this.object.rotation.x/a)*a),this.axis==="Y"&&a&&(this.object.rotation.y=Math.round(this.object.rotation.y/a)*a),this.axis==="Z"&&a&&(this.object.rotation.z=Math.round(this.object.rotation.z/a)*a)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(o.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),Se(this,"pointerMove",i=>{const o=this.axis,s=this.mode,a=this.object;let l=this.space;if(s==="scale"?l="local":(o==="E"||o==="XYZE"||o==="XYZ")&&(l="world"),a===void 0||o===null||this.dragging===!1||i.button!==-1)return;this.raycaster.setFromCamera(i,this.camera);const u=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(!!u){if(this.pointEnd.copy(u.point).sub(this.worldPositionStart),s==="translate")this.offset.copy(this.pointEnd).sub(this.pointStart),l==="local"&&o!=="XYZ"&&this.offset.applyQuaternion(this.worldQuaternionInv),o.indexOf("X")===-1&&(this.offset.x=0),o.indexOf("Y")===-1&&(this.offset.y=0),o.indexOf("Z")===-1&&(this.offset.z=0),l==="local"&&o!=="XYZ"?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),a.position.copy(this.offset).add(this.positionStart),this.translationSnap&&(l==="local"&&(a.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),o.search("X")!==-1&&(a.position.x=Math.round(a.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(a.position.y=Math.round(a.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(a.position.z=Math.round(a.position.z/this.translationSnap)*this.translationSnap),a.position.applyQuaternion(this.quaternionStart)),l==="world"&&(a.parent&&a.position.add(this.tempVector.setFromMatrixPosition(a.parent.matrixWorld)),o.search("X")!==-1&&(a.position.x=Math.round(a.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(a.position.y=Math.round(a.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(a.position.z=Math.round(a.position.z/this.translationSnap)*this.translationSnap),a.parent&&a.position.sub(this.tempVector.setFromMatrixPosition(a.parent.matrixWorld))));else if(s==="scale"){if(o.search("XYZ")!==-1){let d=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(d*=-1),this.tempVector2.set(d,d,d)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),o.search("X")===-1&&(this.tempVector2.x=1),o.search("Y")===-1&&(this.tempVector2.y=1),o.search("Z")===-1&&(this.tempVector2.z=1);a.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(o.search("X")!==-1&&(this.object.scale.x=Math.round(a.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Y")!==-1&&(a.scale.y=Math.round(a.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Z")!==-1&&(a.scale.z=Math.round(a.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(s==="rotate"){this.offset.copy(this.pointEnd).sub(this.pointStart);const d=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));o==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):o==="XYZE"?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*d):(o==="X"||o==="Y"||o==="Z")&&(this.rotationAxis.copy(this.unit[o]),this.tempVector.copy(this.unit[o]),l==="local"&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*d),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),l==="local"&&o!=="E"&&o!=="XYZE"?(a.quaternion.copy(this.quaternionStart),a.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),a.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),a.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),Se(this,"pointerUp",i=>{i.button===0&&(this.dragging&&this.axis!==null&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),Se(this,"getPointer",i=>{var o,s;if(this.domElement&&((o=this.domElement.ownerDocument)==null?void 0:o.pointerLockElement))return{x:0,y:0,button:i.button};{const a=i.changedTouches?i.changedTouches[0]:i,l=(s=this.domElement)==null?void 0:s.getBoundingClientRect();return{x:(a.clientX-l.left)/l.width*2-1,y:-(a.clientY-l.top)/l.height*2+1,button:i.button}}}),Se(this,"onPointerHover",i=>{if(!!this.enabled)switch(i.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(i));break}}),Se(this,"onPointerDown",i=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(i)),this.pointerDown(this.getPointer(i)))}),Se(this,"onPointerMove",i=>{!this.enabled||this.pointerMove(this.getPointer(i))}),Se(this,"onPointerUp",i=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(i)))}),Se(this,"getMode",()=>this.mode),Se(this,"setMode",i=>{this.mode=i}),Se(this,"setTranslationSnap",i=>{this.translationSnap=i}),Se(this,"setRotationSnap",i=>{this.rotationSnap=i}),Se(this,"setScaleSnap",i=>{this.scaleSnap=i}),Se(this,"setSize",i=>{this.size=i}),Se(this,"setSpace",i=>{this.space=i}),Se(this,"update",()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}),Se(this,"connect",i=>{i===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=i,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}),Se(this,"dispose",()=>{var i,o,s,a,l,u;(i=this.domElement)==null||i.removeEventListener("pointerdown",this.onPointerDown),(o=this.domElement)==null||o.removeEventListener("pointermove",this.onPointerHover),(a=(s=this.domElement)==null?void 0:s.ownerDocument)==null||a.removeEventListener("pointermove",this.onPointerMove),(u=(l=this.domElement)==null?void 0:l.ownerDocument)==null||u.removeEventListener("pointerup",this.onPointerUp),this.traverse(d=>{const h=d;h.geometry&&h.geometry.dispose(),h.material&&h.material.dispose()})}),this.domElement=n,this.camera=e,this.gizmo=new Kpe,this.add(this.gizmo),this.plane=new Jpe,this.add(this.plane);const r=(i,o)=>{let s=o;Object.defineProperty(this,i,{get:function(){return s!==void 0?s:o},set:function(a){s!==a&&(s=a,this.plane[i]=a,this.gizmo[i]=a,this.dispatchEvent({type:i+"-changed",value:a}),this.dispatchEvent(this.changeEvent))}}),this[i]=o,this.plane[i]=o,this.gizmo[i]=o};r("camera",this.camera),r("object",this.object),r("enabled",this.enabled),r("axis",this.axis),r("mode",this.mode),r("translationSnap",this.translationSnap),r("rotationSnap",this.rotationSnap),r("scaleSnap",this.scaleSnap),r("space",this.space),r("size",this.size),r("dragging",this.dragging),r("showX",this.showX),r("showY",this.showY),r("showZ",this.showZ),r("worldPosition",this.worldPosition),r("worldPositionStart",this.worldPositionStart),r("worldQuaternion",this.worldQuaternion),r("worldQuaternionStart",this.worldQuaternionStart),r("cameraPosition",this.cameraPosition),r("cameraQuaternion",this.cameraQuaternion),r("pointStart",this.pointStart),r("pointEnd",this.pointEnd),r("rotationAxis",this.rotationAxis),r("rotationAngle",this.rotationAngle),r("eye",this.eye),n!==void 0&&this.connect(n)}}class Kpe extends Ut{constructor(){super(),Se(this,"isTransformControlsGizmo",!0),Se(this,"type","TransformControlsGizmo"),Se(this,"tempVector",new z(0,0,0)),Se(this,"tempEuler",new of),Se(this,"alignVector",new z(0,1,0)),Se(this,"zeroVector",new z(0,0,0)),Se(this,"lookAtMatrix",new yt),Se(this,"tempQuaternion",new Zt),Se(this,"tempQuaternion2",new Zt),Se(this,"identityQuaternion",new Zt),Se(this,"unitX",new z(1,0,0)),Se(this,"unitY",new z(0,1,0)),Se(this,"unitZ",new z(0,0,1)),Se(this,"gizmo"),Se(this,"picker"),Se(this,"helper"),Se(this,"rotationAxis",new z),Se(this,"cameraPosition",new z),Se(this,"worldPositionStart",new z),Se(this,"worldQuaternionStart",new Zt),Se(this,"worldPosition",new z),Se(this,"worldQuaternion",new Zt),Se(this,"eye",new z),Se(this,"camera",null),Se(this,"enabled",!0),Se(this,"axis",null),Se(this,"mode","translate"),Se(this,"space","world"),Se(this,"size",1),Se(this,"dragging",!1),Se(this,"showX",!0),Se(this,"showY",!0),Se(this,"showZ",!0),Se(this,"updateMatrixWorld",()=>{let W=this.space;this.mode==="scale"&&(W="local");const G=W==="local"?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let N=[];N=N.concat(this.picker[this.mode].children),N=N.concat(this.gizmo[this.mode].children),N=N.concat(this.helper[this.mode].children);for(let te=0;te<N.length;te++){const D=N[te];D.visible=!0,D.rotation.set(0,0,0),D.position.copy(this.worldPosition);let ue;if(this.camera.isOrthographicCamera?ue=(this.camera.top-this.camera.bottom)/this.camera.zoom:ue=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),D.scale.set(1,1,1).multiplyScalar(ue*this.size/7),D.tag==="helper"){D.visible=!1,D.name==="AXIS"?(D.position.copy(this.worldPositionStart),D.visible=!!this.axis,this.axis==="X"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),D.quaternion.copy(G).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(G).dot(this.eye))>.9&&(D.visible=!1)),this.axis==="Y"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),D.quaternion.copy(G).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(G).dot(this.eye))>.9&&(D.visible=!1)),this.axis==="Z"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),D.quaternion.copy(G).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(G).dot(this.eye))>.9&&(D.visible=!1)),this.axis==="XYZE"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),D.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),D.quaternion.multiply(this.tempQuaternion),D.visible=this.dragging),this.axis==="E"&&(D.visible=!1)):D.name==="START"?(D.position.copy(this.worldPositionStart),D.visible=this.dragging):D.name==="END"?(D.position.copy(this.worldPosition),D.visible=this.dragging):D.name==="DELTA"?(D.position.copy(this.worldPositionStart),D.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),D.scale.copy(this.tempVector),D.visible=this.dragging):(D.quaternion.copy(G),this.dragging?D.position.copy(this.worldPositionStart):D.position.copy(this.worldPosition),this.axis&&(D.visible=this.axis.search(D.name)!==-1));continue}D.quaternion.copy(G),this.mode==="translate"||this.mode==="scale"?((D.name==="X"||D.name==="XYZX")&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(G).dot(this.eye))>.99&&(D.scale.set(1e-10,1e-10,1e-10),D.visible=!1),(D.name==="Y"||D.name==="XYZY")&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(G).dot(this.eye))>.99&&(D.scale.set(1e-10,1e-10,1e-10),D.visible=!1),(D.name==="Z"||D.name==="XYZZ")&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(G).dot(this.eye))>.99&&(D.scale.set(1e-10,1e-10,1e-10),D.visible=!1),D.name==="XY"&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(G).dot(this.eye))<.2&&(D.scale.set(1e-10,1e-10,1e-10),D.visible=!1),D.name==="YZ"&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(G).dot(this.eye))<.2&&(D.scale.set(1e-10,1e-10,1e-10),D.visible=!1),D.name==="XZ"&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(G).dot(this.eye))<.2&&(D.scale.set(1e-10,1e-10,1e-10),D.visible=!1),D.name.search("X")!==-1&&(this.alignVector.copy(this.unitX).applyQuaternion(G).dot(this.eye)<0?D.tag==="fwd"?D.visible=!1:D.scale.x*=-1:D.tag==="bwd"&&(D.visible=!1)),D.name.search("Y")!==-1&&(this.alignVector.copy(this.unitY).applyQuaternion(G).dot(this.eye)<0?D.tag==="fwd"?D.visible=!1:D.scale.y*=-1:D.tag==="bwd"&&(D.visible=!1)),D.name.search("Z")!==-1&&(this.alignVector.copy(this.unitZ).applyQuaternion(G).dot(this.eye)<0?D.tag==="fwd"?D.visible=!1:D.scale.z*=-1:D.tag==="bwd"&&(D.visible=!1))):this.mode==="rotate"&&(this.tempQuaternion2.copy(G),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(G).invert()),D.name.search("E")!==-1&&D.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),D.name==="X"&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),D.quaternion.copy(this.tempQuaternion)),D.name==="Y"&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),D.quaternion.copy(this.tempQuaternion)),D.name==="Z"&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),D.quaternion.copy(this.tempQuaternion))),D.visible=D.visible&&(D.name.indexOf("X")===-1||this.showX),D.visible=D.visible&&(D.name.indexOf("Y")===-1||this.showY),D.visible=D.visible&&(D.name.indexOf("Z")===-1||this.showZ),D.visible=D.visible&&(D.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),D.material.tempOpacity=D.material.tempOpacity||D.material.opacity,D.material.tempColor=D.material.tempColor||D.material.color.clone(),D.material.color.copy(D.material.tempColor),D.material.opacity=D.material.tempOpacity,this.enabled?this.axis&&(D.name===this.axis?(D.material.opacity=1,D.material.color.lerp(new Xe(1,1,1),.5)):this.axis.split("").some(function(ce){return D.name===ce})?(D.material.opacity=1,D.material.color.lerp(new Xe(1,1,1),.5)):(D.material.opacity*=.25,D.material.color.lerp(new Xe(1,1,1),.5))):(D.material.opacity*=.5,D.material.color.lerp(new Xe(1,1,1),.5))}super.updateMatrixWorld()});const e=new jo({depthTest:!1,depthWrite:!1,transparent:!0,side:ki,fog:!1,toneMapped:!1}),n=new Tr({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),r=e.clone();r.opacity=.15;const i=e.clone();i.opacity=.33;const o=e.clone();o.color.set(16711680);const s=e.clone();s.color.set(65280);const a=e.clone();a.color.set(255);const l=e.clone();l.opacity=.25;const u=l.clone();u.color.set(16776960);const d=l.clone();d.color.set(65535);const h=l.clone();h.color.set(16711935),e.clone().color.set(16776960);const m=n.clone();m.color.set(16711680);const y=n.clone();y.color.set(65280);const x=n.clone();x.color.set(255);const S=n.clone();S.color.set(65535);const g=n.clone();g.color.set(16711935);const _=n.clone();_.color.set(16776960);const w=n.clone();w.color.set(7895160);const E=_.clone();E.opacity=.25;const T=new sr(0,.05,.2,12,1,!1),P=new $r(.125,.125,.125),A=new wt;A.setAttribute("position",new et([0,0,0,1,0,0],3));const I=(W,G)=>{const N=new wt,te=[];for(let D=0;D<=64*G;++D)te.push(0,Math.cos(D/32*Math.PI)*W,Math.sin(D/32*Math.PI)*W);return N.setAttribute("position",new et(te,3)),N},C=()=>{const W=new wt;return W.setAttribute("position",new et([0,0,0,1,1,1],3)),W},O={X:[[new Ze(T,o),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Ze(T,o),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Nt(A,m)]],Y:[[new Ze(T,s),[0,1,0],null,null,"fwd"],[new Ze(T,s),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Nt(A,y),null,[0,0,Math.PI/2]]],Z:[[new Ze(T,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Ze(T,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Nt(A,x),null,[0,-Math.PI/2,0]]],XYZ:[[new Ze(new Oi(.1,0),l.clone()),[0,0,0],[0,0,0]]],XY:[[new Ze(new Di(.295,.295),u.clone()),[.15,.15,0]],[new Nt(A,_),[.18,.3,0],null,[.125,1,1]],[new Nt(A,_),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ze(new Di(.295,.295),d.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Nt(A,S),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Nt(A,S),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ze(new Di(.295,.295),h.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Nt(A,g),[.18,0,.3],null,[.125,1,1]],[new Nt(A,g),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},B={X:[[new Ze(new sr(.2,0,1,4,1,!1),r),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Ze(new sr(.2,0,1,4,1,!1),r),[0,.6,0]]],Z:[[new Ze(new sr(.2,0,1,4,1,!1),r),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Ze(new Oi(.2,0),r)]],XY:[[new Ze(new Di(.4,.4),r),[.2,.2,0]]],YZ:[[new Ze(new Di(.4,.4),r),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Ze(new Di(.4,.4),r),[.2,0,.2],[-Math.PI/2,0,0]]]},ee={START:[[new Ze(new Oi(.01,2),i),null,null,null,"helper"]],END:[[new Ze(new Oi(.01,2),i),null,null,null,"helper"]],DELTA:[[new Nt(C(),i),null,null,null,"helper"]],X:[[new Nt(A,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Nt(A,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Nt(A,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},V={X:[[new Nt(I(1,.5),m)],[new Ze(new Oi(.04,0),o),[0,0,.99],null,[1,3,1]]],Y:[[new Nt(I(1,.5),y),null,[0,0,-Math.PI/2]],[new Ze(new Oi(.04,0),s),[0,0,.99],null,[3,1,1]]],Z:[[new Nt(I(1,.5),x),null,[0,Math.PI/2,0]],[new Ze(new Oi(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new Nt(I(1.25,1),E),null,[0,Math.PI/2,0]],[new Ze(new sr(.03,0,.15,4,1,!1),E),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Ze(new sr(.03,0,.15,4,1,!1),E),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Ze(new sr(.03,0,.15,4,1,!1),E),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Ze(new sr(.03,0,.15,4,1,!1),E),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Nt(I(1,1),w),null,[0,Math.PI/2,0]]]},F={AXIS:[[new Nt(A,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},J={X:[[new Ze(new aa(1,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Ze(new aa(1,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Ze(new aa(1,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Ze(new aa(1.25,.1,2,24),r)]],XYZE:[[new Ze(new af(.7,10,8),r)]]},re={X:[[new Ze(P,o),[.8,0,0],[0,0,-Math.PI/2]],[new Nt(A,m),null,null,[.8,1,1]]],Y:[[new Ze(P,s),[0,.8,0]],[new Nt(A,y),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Ze(P,a),[0,0,.8],[Math.PI/2,0,0]],[new Nt(A,x),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Ze(P,u),[.85,.85,0],null,[2,2,.2]],[new Nt(A,_),[.855,.98,0],null,[.125,1,1]],[new Nt(A,_),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ze(P,d),[0,.85,.85],null,[.2,2,2]],[new Nt(A,S),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Nt(A,S),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ze(P,h),[.85,0,.85],null,[2,.2,2]],[new Nt(A,g),[.855,0,.98],null,[.125,1,1]],[new Nt(A,g),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Ze(new $r(.125,.125,.125),l.clone()),[1.1,0,0]]],XYZY:[[new Ze(new $r(.125,.125,.125),l.clone()),[0,1.1,0]]],XYZZ:[[new Ze(new $r(.125,.125,.125),l.clone()),[0,0,1.1]]]},ne={X:[[new Ze(new sr(.2,0,.8,4,1,!1),r),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Ze(new sr(.2,0,.8,4,1,!1),r),[0,.5,0]]],Z:[[new Ze(new sr(.2,0,.8,4,1,!1),r),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Ze(P,r),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Ze(P,r),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Ze(P,r),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Ze(new $r(.2,.2,.2),r),[1.1,0,0]]],XYZY:[[new Ze(new $r(.2,.2,.2),r),[0,1.1,0]]],XYZZ:[[new Ze(new $r(.2,.2,.2),r),[0,0,1.1]]]},U={X:[[new Nt(A,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Nt(A,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Nt(A,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},K=W=>{const G=new Ut;for(let N in W)for(let te=W[N].length;te--;){const D=W[N][te][0].clone(),ue=W[N][te][1],ce=W[N][te][2],Pe=W[N][te][3],Ae=W[N][te][4];D.name=N,D.tag=Ae,ue&&D.position.set(ue[0],ue[1],ue[2]),ce&&D.rotation.set(ce[0],ce[1],ce[2]),Pe&&D.scale.set(Pe[0],Pe[1],Pe[2]),D.updateMatrix();const Re=D.geometry.clone();Re.applyMatrix4(D.matrix),D.geometry=Re,D.renderOrder=1/0,D.position.set(0,0,0),D.rotation.set(0,0,0),D.scale.set(1,1,1),G.add(D)}return G};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=K(O)),this.add(this.gizmo.rotate=K(V)),this.add(this.gizmo.scale=K(re)),this.add(this.picker.translate=K(B)),this.add(this.picker.rotate=K(J)),this.add(this.picker.scale=K(ne)),this.add(this.helper.translate=K(ee)),this.add(this.helper.rotate=K(F)),this.add(this.helper.scale=K(U)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}}class Jpe extends Ze{constructor(){super(new Di(1e5,1e5,2,2),new jo({visible:!1,wireframe:!0,side:ki,transparent:!0,opacity:.1,toneMapped:!1})),Se(this,"isTransformControlsPlane",!0),Se(this,"type","TransformControlsPlane"),Se(this,"unitX",new z(1,0,0)),Se(this,"unitY",new z(0,1,0)),Se(this,"unitZ",new z(0,0,1)),Se(this,"tempVector",new z),Se(this,"dirVector",new z),Se(this,"alignVector",new z),Se(this,"tempMatrix",new yt),Se(this,"identityQuaternion",new Zt),Se(this,"cameraQuaternion",new Zt),Se(this,"worldPosition",new z),Se(this,"worldQuaternion",new Zt),Se(this,"eye",new z),Se(this,"axis",null),Se(this,"mode","translate"),Se(this,"space","world"),Se(this,"updateMatrixWorld",()=>{let e=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(e="local"),this.unitX.set(1,0,0).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0);break}break;case"rotate":default:this.dirVector.set(0,0,0)}this.dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}}var eme=1/0,tme=9007199254740991,nme="[object Arguments]",rme="[object Function]",ime="[object GeneratorFunction]",ome="[object Symbol]",sme=typeof ra=="object"&&ra&&ra.Object===Object&&ra,ame=typeof self=="object"&&self&&self.Object===Object&&self,lme=sme||ame||Function("return this")();function cme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ume(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function fme(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var uT=Object.prototype,dme=uT.hasOwnProperty,fT=uT.toString,iI=lme.Symbol,hme=uT.propertyIsEnumerable,oI=iI?iI.isConcatSpreadable:void 0,sI=Math.max;function J5(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=vme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?J5(a,e-1,n,r,i):fme(i,a):r||(i[i.length]=a)}return i}function pme(t,e){return t=Object(t),mme(t,e,function(n,r){return r in t})}function mme(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function gme(t,e){return e=sI(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=sI(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,cme(t,this,s)}}function vme(t){return xme(t)||_me(t)||!!(oI&&t&&t[oI])}function yme(t){if(typeof t=="string"||Tme(t))return t;var e=t+"";return e=="0"&&1/t==-eme?"-0":e}function _me(t){return wme(t)&&dme.call(t,"callee")&&(!hme.call(t,"callee")||fT.call(t)==nme)}var xme=Array.isArray;function Sme(t){return t!=null&&Eme(t.length)&&!bme(t)}function wme(t){return eB(t)&&Sme(t)}function bme(t){var e=Mme(t)?fT.call(t):"";return e==rme||e==ime}function Eme(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tme}function Mme(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function eB(t){return!!t&&typeof t=="object"}function Tme(t){return typeof t=="symbol"||eB(t)&&fT.call(t)==ome}var Pme=gme(function(t,e){return t==null?{}:pme(t,ume(J5(e,1),yme))}),Ame=Pme;function Rme(t,e,n){const r=fi(p=>p.size),i=fi(p=>p.viewport),o=typeof t=="number"?t:r.width*i.dpr,s=typeof e=="number"?e:r.height*i.dpr,a=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...d}=a,h=L.exports.useMemo(()=>{const p=new $i(o,s,{minFilter:Sn,magFilter:Sn,type:Ul,...d});return u&&(p.depthTexture=new UM(o,s,io)),p.samples=l,p},[]);return L.exports.useLayoutEffect(()=>{h.setSize(o,s),l&&(h.samples=l)},[l,h,o,s]),L.exports.useEffect(()=>()=>h.dispose(),[]),h}const Cme=t=>typeof t=="function",Lme=L.exports.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...o},s)=>{const a=fi(({set:S})=>S),l=fi(({camera:S})=>S),u=fi(({size:S})=>S),d=L.exports.useRef(null),h=L.exports.useRef(null),p=Rme(e);L.exports.useLayoutEffect(()=>{o.manual||(d.current.aspect=u.width/u.height)},[u,o]),L.exports.useLayoutEffect(()=>{d.current.updateProjectionMatrix()});let m=0,y=null;const x=Cme(i);return Tpe(S=>{x&&(n===1/0||m<n)&&(h.current.visible=!1,S.gl.setRenderTarget(p),y=S.scene.background,t&&(S.scene.background=t),S.gl.render(S.scene,d.current),S.scene.background=y,S.gl.setRenderTarget(null),h.current.visible=!0,m++)}),L.exports.useLayoutEffect(()=>{if(r){const S=l;return a(()=>({camera:d.current})),()=>a(()=>({camera:S}))}},[d,r,a]),ut(Dr,{children:[Z("perspectiveCamera",{ref:Ype([d,s]),...o,children:!x&&i}),Z("group",{ref:h,children:x&&i(p.texture)})]})});var Ome=200,dT="__lodash_hash_undefined__",Ime=1/0,tB=9007199254740991,Nme="[object Arguments]",Dme="[object Function]",kme="[object GeneratorFunction]",Ume="[object Symbol]",zme=/[\\^$.*+?()[\]{}|]/g,Fme=/^\[object .+?Constructor\]$/,Bme=/^(?:0|[1-9]\d*)$/,Vme=typeof ra=="object"&&ra&&ra.Object===Object&&ra,$me=typeof self=="object"&&self&&self.Object===Object&&self,hT=Vme||$me||Function("return this")();function Hme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Wme(t,e){var n=t?t.length:0;return!!n&&Xme(t,e,0)>-1}function Gme(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function nB(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function pT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function jme(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Xme(t,e,n){if(e!==e)return jme(t,Yme,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Yme(t){return t!==t}function qme(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Zme(t){return function(e){return t(e)}}function Qme(t,e){return t.has(e)}function Kme(t,e){return t==null?void 0:t[e]}function Jme(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function rB(t,e){return function(n){return t(e(n))}}var ege=Array.prototype,tge=Function.prototype,S_=Object.prototype,h1=hT["__core-js_shared__"],aI=function(){var t=/[^.]+$/.exec(h1&&h1.keys&&h1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),iB=tge.toString,cf=S_.hasOwnProperty,mT=S_.toString,nge=RegExp("^"+iB.call(cf).replace(zme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lI=hT.Symbol,rge=rB(Object.getPrototypeOf,Object),ige=S_.propertyIsEnumerable,oge=ege.splice,cI=lI?lI.isConcatSpreadable:void 0,Mb=Object.getOwnPropertySymbols,uI=Math.max,sge=sB(hT,"Map"),wh=sB(Object,"create");function $l(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function age(){this.__data__=wh?wh(null):{}}function lge(t){return this.has(t)&&delete this.__data__[t]}function cge(t){var e=this.__data__;if(wh){var n=e[t];return n===dT?void 0:n}return cf.call(e,t)?e[t]:void 0}function uge(t){var e=this.__data__;return wh?e[t]!==void 0:cf.call(e,t)}function fge(t,e){var n=this.__data__;return n[t]=wh&&e===void 0?dT:e,this}$l.prototype.clear=age;$l.prototype.delete=lge;$l.prototype.get=cge;$l.prototype.has=uge;$l.prototype.set=fge;function uf(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function dge(){this.__data__=[]}function hge(t){var e=this.__data__,n=w_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oge.call(e,n,1),!0}function pge(t){var e=this.__data__,n=w_(e,t);return n<0?void 0:e[n][1]}function mge(t){return w_(this.__data__,t)>-1}function gge(t,e){var n=this.__data__,r=w_(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}uf.prototype.clear=dge;uf.prototype.delete=hge;uf.prototype.get=pge;uf.prototype.has=mge;uf.prototype.set=gge;function ff(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vge(){this.__data__={hash:new $l,map:new(sge||uf),string:new $l}}function yge(t){return b_(this,t).delete(t)}function _ge(t){return b_(this,t).get(t)}function xge(t){return b_(this,t).has(t)}function Sge(t,e){return b_(this,t).set(t,e),this}ff.prototype.clear=vge;ff.prototype.delete=yge;ff.prototype.get=_ge;ff.prototype.has=xge;ff.prototype.set=Sge;function U0(t){var e=-1,n=t?t.length:0;for(this.__data__=new ff;++e<n;)this.add(t[e])}function wge(t){return this.__data__.set(t,dT),this}function bge(t){return this.__data__.has(t)}U0.prototype.add=U0.prototype.push=wge;U0.prototype.has=bge;function Ege(t,e){var n=gT(t)||aB(t)?qme(t.length,String):[],r=n.length,i=!!r;for(var o in t)(e||cf.call(t,o))&&!(i&&(o=="length"||kge(o,r)))&&n.push(o);return n}function w_(t,e){for(var n=t.length;n--;)if(Hge(t[n][0],e))return n;return-1}function Mge(t,e,n,r){var i=-1,o=Wme,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=nB(e,Zme(n))),r?(o=Gme,s=!1):e.length>=Ome&&(o=Qme,s=!1,e=new U0(e));e:for(;++i<a;){var d=t[i],h=n?n(d):d;if(d=r||d!==0?d:0,s&&h===h){for(var p=u;p--;)if(e[p]===h)continue e;l.push(d)}else o(e,h,r)||l.push(d)}return l}function oB(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Dge),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?oB(a,e-1,n,r,i):pT(i,a):r||(i[i.length]=a)}return i}function Tge(t,e,n){var r=e(t);return gT(t)?r:pT(r,n(t))}function Pge(t){if(!vT(t)||zge(t))return!1;var e=cB(t)||Jme(t)?nge:Fme;return e.test($ge(t))}function Age(t){if(!vT(t))return Bge(t);var e=Fge(t),n=[];for(var r in t)r=="constructor"&&(e||!cf.call(t,r))||n.push(r);return n}function Rge(t,e){return t=Object(t),Cge(t,e,function(n,r){return r in t})}function Cge(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function Lge(t,e){return e=uI(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=uI(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,Hme(t,this,s)}}function Oge(t){return Tge(t,Xge,Nge)}function b_(t,e){var n=t.__data__;return Uge(e)?n[typeof e=="string"?"string":"hash"]:n.map}function sB(t,e){var n=Kme(t,e);return Pge(n)?n:void 0}var Ige=Mb?rB(Mb,Object):fB,Nge=Mb?function(t){for(var e=[];t;)pT(e,Ige(t)),t=rge(t);return e}:fB;function Dge(t){return gT(t)||aB(t)||!!(cI&&t&&t[cI])}function kge(t,e){return e=e==null?tB:e,!!e&&(typeof t=="number"||Bme.test(t))&&t>-1&&t%1==0&&t<e}function Uge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zge(t){return!!aI&&aI in t}function Fge(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||S_;return t===n}function Bge(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function Vge(t){if(typeof t=="string"||jge(t))return t;var e=t+"";return e=="0"&&1/t==-Ime?"-0":e}function $ge(t){if(t!=null){try{return iB.call(t)}catch{}try{return t+""}catch{}}return""}function Hge(t,e){return t===e||t!==t&&e!==e}function aB(t){return Wge(t)&&cf.call(t,"callee")&&(!ige.call(t,"callee")||mT.call(t)==Nme)}var gT=Array.isArray;function lB(t){return t!=null&&Gge(t.length)&&!cB(t)}function Wge(t){return uB(t)&&lB(t)}function cB(t){var e=vT(t)?mT.call(t):"";return e==Dme||e==kme}function Gge(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tB}function vT(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function uB(t){return!!t&&typeof t=="object"}function jge(t){return typeof t=="symbol"||uB(t)&&mT.call(t)==Ume}function Xge(t){return lB(t)?Ege(t,!0):Age(t)}var Yge=Lge(function(t,e){return t==null?{}:(e=nB(oB(e,1),Vge),Rge(t,Mge(Oge(t),e)))});function fB(){return[]}var qge=Yge;const Zge=L.exports.forwardRef(({children:t,domElement:e,onChange:n,onMouseDown:r,onMouseUp:i,onObjectChange:o,object:s,makeDefault:a,...l},u)=>{const d=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],{camera:h,...p}=l,m=Ame(p,d),y=qge(p,d),x=fi(F=>F.controls),S=fi(F=>F.gl),g=fi(F=>F.events),_=fi(F=>F.camera),w=fi(F=>F.invalidate),E=fi(F=>F.get),T=fi(F=>F.set),P=h||_,A=e||g.connected||S.domElement,I=L.exports.useMemo(()=>new Qpe(P,A),[P,A]),C=L.exports.useRef();L.exports.useLayoutEffect(()=>(s?I.attach(s instanceof Ut?s:s.current):C.current instanceof Ut&&I.attach(C.current),()=>void I.detach()),[s,t,I]),L.exports.useEffect(()=>{if(x){const F=J=>x.enabled=!J.value;return I.addEventListener("dragging-changed",F),()=>I.removeEventListener("dragging-changed",F)}},[I,x]);const O=L.exports.useRef(),B=L.exports.useRef(),ee=L.exports.useRef(),V=L.exports.useRef();return L.exports.useLayoutEffect(()=>void(O.current=n),[n]),L.exports.useLayoutEffect(()=>void(B.current=r),[r]),L.exports.useLayoutEffect(()=>void(ee.current=i),[i]),L.exports.useLayoutEffect(()=>void(V.current=o),[o]),L.exports.useEffect(()=>{const F=U=>{w(),O.current==null||O.current(U)},J=U=>B.current==null?void 0:B.current(U),re=U=>ee.current==null?void 0:ee.current(U),ne=U=>V.current==null?void 0:V.current(U);return I.addEventListener("change",F),I.addEventListener("mouseDown",J),I.addEventListener("mouseUp",re),I.addEventListener("objectChange",ne),()=>{I.removeEventListener("change",F),I.removeEventListener("mouseDown",J),I.removeEventListener("mouseUp",re),I.removeEventListener("objectChange",ne)}},[w,I]),L.exports.useEffect(()=>{if(a){const F=E().controls;return T({controls:I}),()=>T({controls:F})}},[a,I]),I?ut(Dr,{children:[Z("primitive",{ref:u,object:I,...m}),Z("group",{ref:C,...y,children:t})]}):null}),Qge=()=>{const t=L.exports.useRef(null),[e,n]=jt.useState(),[r,i]=tf(LF),o=()=>{const s={handle:e,position:{x:t.current.position.x,y:-t.current.position.z,z:t.current.position.y-.5},rotation:{x:ci.radToDeg(t.current.rotation.x),y:ci.radToDeg(-t.current.rotation.z),z:ci.radToDeg(t.current.rotation.y)},snap:!1};i({...r,entityX:s.position.x,entityY:s.position.z,entityZ:s.position.y,entityRoll:s.rotation.x,entityYaw:s.rotation.z,entityPitch:s.rotation.y}),gs("moveEntity",s)};return rh("setGizmoEntity",s=>{n(s.handle),s.handle&&(i({...r,entityX:s.position.x,entityY:s.position.z,entityZ:s.position.y,entityRoll:s.rotation.x,entityYaw:s.rotation.z,entityPitch:s.rotation.y,model:s.model}),t.current.position.set(s.position.x,s.position.z+.5,-s.position.y),t.current.rotation.order="YZX",t.current.rotation.set(ci.degToRad(s.rotation.x),ci.degToRad(s.rotation.z),ci.degToRad(s.rotation.y)))}),jt.useEffect(()=>{const s=a=>{switch(a.code){case"KeyS":const l={handle:e,position:{x:t.current.position.x,y:-t.current.position.z,z:t.current.position.y-.5},rotation:{x:ci.radToDeg(t.current.rotation.x),y:ci.radToDeg(-t.current.rotation.z),z:ci.radToDeg(t.current.rotation.y)},snap:!0};i({...r,entityX:l.position.x,entityY:l.position.z,entityZ:l.position.y,entityRoll:l.rotation.x,entityYaw:l.rotation.z,entityPitch:l.rotation.y}),gs("moveEntity",l);break}};return window.addEventListener("keyup",s),()=>window.removeEventListener("keyup",s)}),Z(Dr,{children:ut(L.exports.Suspense,{fallback:Z("p",{children:"Loading Gizmo"}),children:[e!=null&&Z(Zge,{size:.5,object:t,mode:r.mode,space:r.space,rotationSnap:r.rotateSnap,translationSnap:r.translateSnap,onObjectChange:o}),Z("mesh",{ref:t})]})})},Kge=()=>{const{camera:t}=fi(),e=(n,r)=>n>0&&n<90?r:n>-180&&n<-90||n>0?-r:r;return rh("setCameraPosition",({position:n,rotation:r})=>{t.position.set(n.x,n.z,-n.y),t.rotation.order="YZX",r&&t.rotation.set(ci.degToRad(r.x),ci.degToRad(e(r.x,r.z)),ci.degToRad(r.y)),t.updateProjectionMatrix()}),Z(Lme,{position:[0,0,10],makeDefault:!0,onUpdate:n=>n.updateProjectionMatrix()})},Jge=()=>ut(Xpe,{style:{zIndex:1},children:[Z(Kge,{}),Z(Qge,{})]}),eve=Lt(()=>({container:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),tve=()=>{const{classes:t}=eve(),[e,n]=tf(jy);return rh("setCurrentProps",r=>{n({...e,currentProps:r.currentProps})}),jt.useEffect(()=>{const r=i=>{switch(i.button){case 2:gs("changeFocus");break}};return window.addEventListener("contextmenu",r),()=>window.removeEventListener("contextmenu",r)}),Z(Dr,{children:ut(Dt,{className:t.container,children:[Z(Jge,{}),Z(mse,{}),SE()&&Z(mJ,{})]})})};if(SE()){const t=document.getElementById("root");t.style.backgroundImage='url("https://i.imgur.com/iPTAdYV.png")',t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center"}p1.createRoot(document.getElementById("root")).render(Z(jt.StrictMode,{children:Z(sse,{children:Z(K3,{withNormalizeCSS:!0,withGlobalStyles:!0,theme:ZK,children:Z(tve,{})})})}));
